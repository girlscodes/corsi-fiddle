import{r as t,c as i,h as r}from"./p-d25cca5e.js";class n{constructor(t,i,r,n,e){this.region=t;this.player_id=i;this.sex=r;this.education=n;this.birthYear=e}}const e="https://emdir-web-devel.multilogic.hu";const s="multilogic.hu";const a={serverUrl:e,host_domain:s};class u{static async postGameLog(t){console.log(JSON.stringify(t));const i=await fetch(e+"/emerald/rest/api/v1/analytics/gamelog/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});const r=await i.json();console.log(r)}}class o{constructor(t,i,r,n,e,s,u,o){this.game_name=i;this.start_time=r;this.ui_device=n;this.game_version=e;this.ui_agent=s;this.ui_width=u;this.ui_height=o;this.eventtype="game";this.duration=0;this.score=0;this.interrupted=false;this.difficulty=2;this.pause_count=0;this.pause_time=0;this.host_domain=a.host_domain;this.player_id=t.player_id||12;this.region=t.region||2;this.age=(new Date).getFullYear()-t.birthYear||26;this.sex=t.sex||1;this.education=t.education||"higher"}interrupt(){this.interrupted=true}send(){let t=new Date;this["@timestamp"]=t.toISOString();console.log(this);u.postGameLog(this)}initLog(){}}var h=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function f(t,i,r){return r={path:i,exports:{},require:function(t,i){return v()}},t(r,r.exports),r.exports}function l(t){if(t.__esModule)return t;var i=Object.defineProperty({},"__esModule",{value:true});Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,n.get?n:{enumerable:true,get:function(){return t[r]}})}));return i}function v(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var c=f((function(t,i){(function(t){var r=t["Promise"];var n=r&&"resolve"in r&&"reject"in r&&"all"in r&&"race"in r&&function(){var t;new r((function(i){t=i}));return typeof t==="function"}();if(i){i.Promise=n?r:E;i.Polyfill=E}else{{if(!n)t["Promise"]=E}}var e="pending";var s="sealed";var a="fulfilled";var u="rejected";var o=function(){};function h(t){return Object.prototype.toString.call(t)==="[object Array]"}var f=typeof setImmediate!=="undefined"?setImmediate:setTimeout;var l=[];var v;function c(){for(var t=0;t<l.length;t++)l[t][0](l[t][1]);l=[];v=false}function d(t,i){l.push([t,i]);if(!v){v=true;f(c,0)}}function p(t,i){function r(t){g(i,t)}function n(t){w(i,t)}try{t(r,n)}catch(t){n(t)}}function b(t){var i=t.owner;var r=i.state_;var n=i.data_;var e=t[r];var s=t.then;if(typeof e==="function"){r=a;try{n=e(n)}catch(t){w(s,t)}}if(!m(s,n)){if(r===a)g(s,n);if(r===u)w(s,n)}}function m(t,i){var r;try{if(t===i)throw new TypeError("A promises callback cannot return that same promise.");if(i&&(typeof i==="function"||typeof i==="object")){var n=i.then;if(typeof n==="function"){n.call(i,(function(n){if(!r){r=true;if(i!==n)g(t,n);else y(t,n)}}),(function(i){if(!r){r=true;w(t,i)}}));return true}}}catch(i){if(!r)w(t,i);return true}return false}function g(t,i){if(t===i||!m(t,i))y(t,i)}function y(t,i){if(t.state_===e){t.state_=s;t.data_=i;d(O,t)}}function w(t,i){if(t.state_===e){t.state_=s;t.data_=i;d(x,t)}}function A(t){var i=t.then_;t.then_=undefined;for(var r=0;r<i.length;r++){b(i[r])}}function O(t){t.state_=a;A(t)}function x(t){t.state_=u;A(t)}function E(t){if(typeof t!=="function")throw new TypeError("Promise constructor takes a function argument");if(this instanceof E===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];p(t,this)}E.prototype={constructor:E,state_:e,then_:null,data_:undefined,then:function(t,i){var r={owner:this,then:new this.constructor(o),fulfilled:t,rejected:i};if(this.state_===a||this.state_===u){d(b,r)}else{this.then_.push(r)}return r.then},catch:function(t){return this.then(null,t)}};E.all=function(t){var i=this;if(!h(t))throw new TypeError("You must pass an array to Promise.all().");return new i((function(i,r){var n=[];var e=0;function s(t){e++;return function(r){n[t]=r;if(!--e)i(n)}}for(var a=0,u;a<t.length;a++){u=t[a];if(u&&typeof u.then==="function")u.then(s(a),r);else n[a]=u}if(!e)i(n)}))};E.race=function(t){var i=this;if(!h(t))throw new TypeError("You must pass an array to Promise.race().");return new i((function(i,r){for(var n=0,e;n<t.length;n++){e=t[n];if(e&&typeof e.then==="function")e.then(i,r);else i(e)}}))};E.resolve=function(t){var i=this;if(t&&typeof t==="object"&&t.constructor===i)return t;return new i((function(i){i(t)}))};E.reject=function(t){var i=this;return new i((function(i,r){r(t)}))}})(typeof window!="undefined"?window:typeof h!="undefined"?h:typeof self!="undefined"?self:h)}));
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var d=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty;var b=Object.prototype.propertyIsEnumerable;function m(t){if(t===null||t===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(t)}function g(){try{if(!Object.assign){return false}var t=new String("abc");t[5]="de";if(Object.getOwnPropertyNames(t)[0]==="5"){return false}var i={};for(var r=0;r<10;r++){i["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(i).map((function(t){return i[t]}));if(n.join("")!=="0123456789"){return false}var e={};"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t}));if(Object.keys(Object.assign({},e)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(t){return false}}var y=g()?Object.assign:function(t,i){var r;var n=m(t);var e;for(var s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var a in r){if(p.call(r,a)){n[a]=r[a]}}if(d){e=d(r);for(var u=0;u<e.length;u++){if(b.call(r,e[u])){n[e[u]]=r[e[u]]}}}}return n};
/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */if(!window.Promise){window.Promise=c.Polyfill}if(!Object.assign){Object.assign=y}var w=16;if(!(Date.now&&Date.prototype.getTime)){Date.now=function t(){return(new Date).getTime()}}if(!(window.performance&&window.performance.now)){var A=Date.now();if(!window.performance){window.performance={}}window.performance.now=function(){return Date.now()-A}}var O=Date.now();var x=["ms","moz","webkit","o"];for(var E=0;E<x.length&&!window.requestAnimationFrame;++E){var M=x[E];window.requestAnimationFrame=window[M+"RequestAnimationFrame"];window.cancelAnimationFrame=window[M+"CancelAnimationFrame"]||window[M+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(t){if(typeof t!=="function"){throw new TypeError(t+"is not a function")}var i=Date.now();var r=w+O-i;if(r<0){r=0}O=i;return window.setTimeout((function(){O=Date.now();t(performance.now())}),r)}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(t){return clearTimeout(t)}}if(!Math.sign){Math.sign=function t(i){i=Number(i);if(i===0||isNaN(i)){return i}return i>0?1:-1}}if(!Number.isInteger){Number.isInteger=function t(i){return typeof i==="number"&&isFinite(i)&&Math.floor(i)===i}}if(!window.ArrayBuffer){window.ArrayBuffer=Array}if(!window.Float32Array){window.Float32Array=Array}if(!window.Uint32Array){window.Uint32Array=Array}if(!window.Uint16Array){window.Uint16Array=Array}if(!window.Uint8Array){window.Uint8Array=Array}if(!window.Int32Array){window.Int32Array=Array}var _=/iPhone/i;var j=/iPod/i;var T=/iPad/i;var S=/\biOS-universal(?:.+)Mac\b/i;var I=/\bAndroid(?:.+)Mobile\b/i;var C=/Android/i;var P=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;var R=/Silk/i;var N=/Windows Phone/i;var F=/\bWindows(?:.+)ARM\b/i;var D=/BlackBerry/i;var L=/BB10/i;var U=/Opera Mini/i;var k=/\b(CriOS|Chrome)(?:.+)Mobile/i;var B=/Mobile(?:.+)Firefox\b/i;var V=function(t){return typeof t!=="undefined"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints==="number"&&t.maxTouchPoints>1&&typeof MSStream==="undefined"};function W(t){return function(i){return i.test(t)}}function G(t){var i={userAgent:"",platform:"",maxTouchPoints:0};if(!t&&typeof navigator!=="undefined"){i={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}}else if(typeof t==="string"){i.userAgent=t}else if(t&&t.userAgent){i={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}}var r=i.userAgent;var n=r.split("[FBAN");if(typeof n[1]!=="undefined"){r=n[0]}n=r.split("Twitter");if(typeof n[1]!=="undefined"){r=n[0]}var e=W(r);var s={apple:{phone:e(_)&&!e(N),ipod:e(j),tablet:!e(_)&&(e(T)||V(i))&&!e(N),universal:e(S),device:(e(_)||e(j)||e(T)||e(S)||V(i))&&!e(N)},amazon:{phone:e(P),tablet:!e(P)&&e(R),device:e(P)||e(R)},android:{phone:!e(N)&&e(P)||!e(N)&&e(I),tablet:!e(N)&&!e(P)&&!e(I)&&(e(R)||e(C)),device:!e(N)&&(e(P)||e(R)||e(I)||e(C))||e(/\bokhttp\b/i)},windows:{phone:e(N),tablet:e(F),device:e(N)||e(F)},other:{blackberry:e(D),blackberry10:e(L),opera:e(U),firefox:e(B),chrome:e(k),device:e(D)||e(L)||e(U)||e(B)||e(k)},any:false,phone:false,tablet:false};s.any=s.apple.device||s.android.device||s.windows.device||s.other.device;s.phone=s.apple.phone||s.android.phone||s.windows.phone;s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet;return s}
/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var z=G(window.navigator);function H(t){var i=true;if(z.tablet||z.phone){if(z.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);if(n<11){i=false}}}if(z.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);if(n<7){i=false}}}}return i?t:4}function X(){return!z.apple.device}var Y={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:H(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:false,autoDensity:false,transparent:false,backgroundColor:0,clearBeforeRender:true,preserveDrawingBuffer:false,width:800,height:600,legacy:false},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:z.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:X(),CREATE_IMAGE_BITMAP:false,ROUND_PIXELS:false};var q=f((function(t){var i=Object.prototype.hasOwnProperty,r="~";function n(){}if(Object.create){n.prototype=Object.create(null);if(!(new n).__proto__)r=false}function e(t,i,r){this.fn=t;this.context=i;this.once=r||false}function s(t,i,n,s,a){if(typeof n!=="function"){throw new TypeError("The listener must be a function")}var u=new e(n,s||t,a),o=r?r+i:i;if(!t._events[o])t._events[o]=u,t._eventsCount++;else if(!t._events[o].fn)t._events[o].push(u);else t._events[o]=[t._events[o],u];return t}function a(t,i){if(--t._eventsCount===0)t._events=new n;else delete t._events[i]}function u(){this._events=new n;this._eventsCount=0}u.prototype.eventNames=function t(){var n=[],e,s;if(this._eventsCount===0)return n;for(s in e=this._events){if(i.call(e,s))n.push(r?s.slice(1):s)}if(Object.getOwnPropertySymbols){return n.concat(Object.getOwnPropertySymbols(e))}return n};u.prototype.listeners=function t(i){var n=r?r+i:i,e=this._events[n];if(!e)return[];if(e.fn)return[e.fn];for(var s=0,a=e.length,u=new Array(a);s<a;s++){u[s]=e[s].fn}return u};u.prototype.listenerCount=function t(i){var n=r?r+i:i,e=this._events[n];if(!e)return 0;if(e.fn)return 1;return e.length};u.prototype.emit=function t(i,n,e,s,a,u){var o=r?r+i:i;if(!this._events[o])return false;var h=this._events[o],f=arguments.length,l,v;if(h.fn){if(h.once)this.removeListener(i,h.fn,undefined,true);switch(f){case 1:return h.fn.call(h.context),true;case 2:return h.fn.call(h.context,n),true;case 3:return h.fn.call(h.context,n,e),true;case 4:return h.fn.call(h.context,n,e,s),true;case 5:return h.fn.call(h.context,n,e,s,a),true;case 6:return h.fn.call(h.context,n,e,s,a,u),true}for(v=1,l=new Array(f-1);v<f;v++){l[v-1]=arguments[v]}h.fn.apply(h.context,l)}else{var c=h.length,d;for(v=0;v<c;v++){if(h[v].once)this.removeListener(i,h[v].fn,undefined,true);switch(f){case 1:h[v].fn.call(h[v].context);break;case 2:h[v].fn.call(h[v].context,n);break;case 3:h[v].fn.call(h[v].context,n,e);break;case 4:h[v].fn.call(h[v].context,n,e,s);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++){l[d-1]=arguments[d]}h[v].fn.apply(h[v].context,l)}}}return true};u.prototype.on=function t(i,r,n){return s(this,i,r,n,false)};u.prototype.once=function t(i,r,n){return s(this,i,r,n,true)};u.prototype.removeListener=function t(i,n,e,s){var u=r?r+i:i;if(!this._events[u])return this;if(!n){a(this,u);return this}var o=this._events[u];if(o.fn){if(o.fn===n&&(!s||o.once)&&(!e||o.context===e)){a(this,u)}}else{for(var h=0,f=[],l=o.length;h<l;h++){if(o[h].fn!==n||s&&!o[h].once||e&&o[h].context!==e){f.push(o[h])}}if(f.length)this._events[u]=f.length===1?f[0]:f;else a(this,u)}return this};u.prototype.removeAllListeners=function t(i){var e;if(i){e=r?r+i:i;if(this._events[e])a(this,e)}else{this._events=new n;this._eventsCount=0}return this};u.prototype.off=u.prototype.removeListener;u.prototype.addListener=u.prototype.on;u.prefixed=r;u.EventEmitter=u;{t.exports=u}}));var $=Z;var J=Z;function Z(t,i,r){r=r||2;var n=i&&i.length,e=n?i[0]*r:t.length,s=K(t,0,e,r,true),a=[];if(!s||s.next===s.prev)return a;var u,o,h,f,l,v,c;if(n)s=st(t,i,s,r);if(t.length>80*r){u=h=t[0];o=f=t[1];for(var d=r;d<e;d+=r){l=t[d];v=t[d+1];if(l<u)u=l;if(v<o)o=v;if(l>h)h=l;if(v>f)f=v}c=Math.max(h-u,f-o);c=c!==0?32767/c:0}tt(s,a,r,u,o,c,0);return a}function K(t,i,r,n,e){var s,a;if(e===Tt(t,i,r,n)>0){for(s=i;s<r;s+=n)a=Mt(s,t[s],t[s+1],a)}else{for(s=r-n;s>=i;s-=n)a=Mt(s,t[s],t[s+1],a)}if(a&&mt(a,a.next)){_t(a);a=a.next}return a}function Q(t,i){if(!t)return t;if(!i)i=t;var r=t,n;do{n=false;if(!r.steiner&&(mt(r,r.next)||bt(r.prev,r,r.next)===0)){_t(r);r=i=r.prev;if(r===r.next)break;n=true}else{r=r.next}}while(n||r!==i);return i}function tt(t,i,r,n,e,s,a){if(!t)return;if(!a&&s)ft(t,n,e,s);var u=t,o,h;while(t.prev!==t.next){o=t.prev;h=t.next;if(s?rt(t,n,e,s):it(t)){i.push(o.i/r|0);i.push(t.i/r|0);i.push(h.i/r|0);_t(t);t=h.next;u=h.next;continue}t=h;if(t===u){if(!a){tt(Q(t),i,r,n,e,s,1)}else if(a===1){t=nt(Q(t),i,r);tt(t,i,r,n,e,s,2)}else if(a===2){et(t,i,r,n,e,s)}break}}}function it(t){var i=t.prev,r=t,n=t.next;if(bt(i,r,n)>=0)return false;var e=i.x,s=r.x,a=n.x,u=i.y,o=r.y,h=n.y;var f=e<s?e<a?e:a:s<a?s:a,l=u<o?u<h?u:h:o<h?o:h,v=e>s?e>a?e:a:s>a?s:a,c=u>o?u>h?u:h:o>h?o:h;var d=n.next;while(d!==i){if(d.x>=f&&d.x<=v&&d.y>=l&&d.y<=c&&dt(e,u,s,o,a,h,d.x,d.y)&&bt(d.prev,d,d.next)>=0)return false;d=d.next}return true}function rt(t,i,r,n){var e=t.prev,s=t,a=t.next;if(bt(e,s,a)>=0)return false;var u=e.x,o=s.x,h=a.x,f=e.y,l=s.y,v=a.y;var c=u<o?u<h?u:h:o<h?o:h,d=f<l?f<v?f:v:l<v?l:v,p=u>o?u>h?u:h:o>h?o:h,b=f>l?f>v?f:v:l>v?l:v;var m=vt(c,d,i,r,n),g=vt(p,b,i,r,n);var y=t.prevZ,w=t.nextZ;while(y&&y.z>=m&&w&&w.z<=g){if(y.x>=c&&y.x<=p&&y.y>=d&&y.y<=b&&y!==e&&y!==a&&dt(u,f,o,l,h,v,y.x,y.y)&&bt(y.prev,y,y.next)>=0)return false;y=y.prevZ;if(w.x>=c&&w.x<=p&&w.y>=d&&w.y<=b&&w!==e&&w!==a&&dt(u,f,o,l,h,v,w.x,w.y)&&bt(w.prev,w,w.next)>=0)return false;w=w.nextZ}while(y&&y.z>=m){if(y.x>=c&&y.x<=p&&y.y>=d&&y.y<=b&&y!==e&&y!==a&&dt(u,f,o,l,h,v,y.x,y.y)&&bt(y.prev,y,y.next)>=0)return false;y=y.prevZ}while(w&&w.z<=g){if(w.x>=c&&w.x<=p&&w.y>=d&&w.y<=b&&w!==e&&w!==a&&dt(u,f,o,l,h,v,w.x,w.y)&&bt(w.prev,w,w.next)>=0)return false;w=w.nextZ}return true}function nt(t,i,r){var n=t;do{var e=n.prev,s=n.next.next;if(!mt(e,s)&&gt(e,n,n.next,s)&&Ot(e,s)&&Ot(s,e)){i.push(e.i/r|0);i.push(n.i/r|0);i.push(s.i/r|0);_t(n);_t(n.next);n=t=s}n=n.next}while(n!==t);return Q(n)}function et(t,i,r,n,e,s){var a=t;do{var u=a.next.next;while(u!==a.prev){if(a.i!==u.i&&pt(a,u)){var o=Et(a,u);a=Q(a,a.next);o=Q(o,o.next);tt(a,i,r,n,e,s,0);tt(o,i,r,n,e,s,0);return}u=u.next}a=a.next}while(a!==t)}function st(t,i,r,n){var e=[],s,a,u,o,h;for(s=0,a=i.length;s<a;s++){u=i[s]*n;o=s<a-1?i[s+1]*n:t.length;h=K(t,u,o,n,false);if(h===h.next)h.steiner=true;e.push(ct(h))}e.sort(at);for(s=0;s<e.length;s++){r=ut(e[s],r)}return r}function at(t,i){return t.x-i.x}function ut(t,i){var r=ot(t,i);if(!r){return i}var n=Et(r,t);Q(n,n.next);return Q(r,r.next)}function ot(t,i){var r=i,n=t.x,e=t.y,s=-Infinity,a;do{if(e<=r.y&&e>=r.next.y&&r.next.y!==r.y){var u=r.x+(e-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s){s=u;a=r.x<r.next.x?r:r.next;if(u===n)return a}}r=r.next}while(r!==i);if(!a)return null;var o=a,h=a.x,f=a.y,l=Infinity,v;r=a;do{if(n>=r.x&&r.x>=h&&n!==r.x&&dt(e<f?n:s,e,h,f,e<f?s:n,e,r.x,r.y)){v=Math.abs(e-r.y)/(n-r.x);if(Ot(r,t)&&(v<l||v===l&&(r.x>a.x||r.x===a.x&&ht(a,r)))){a=r;l=v}}r=r.next}while(r!==o);return a}function ht(t,i){return bt(t.prev,t,i.prev)<0&&bt(i.next,t,t.next)<0}function ft(t,i,r,n){var e=t;do{if(e.z===0)e.z=vt(e.x,e.y,i,r,n);e.prevZ=e.prev;e.nextZ=e.next;e=e.next}while(e!==t);e.prevZ.nextZ=null;e.prevZ=null;lt(e)}function lt(t){var i,r,n,e,s,a,u,o,h=1;do{r=t;t=null;s=null;a=0;while(r){a++;n=r;u=0;for(i=0;i<h;i++){u++;n=n.nextZ;if(!n)break}o=h;while(u>0||o>0&&n){if(u!==0&&(o===0||!n||r.z<=n.z)){e=r;r=r.nextZ;u--}else{e=n;n=n.nextZ;o--}if(s)s.nextZ=e;else t=e;e.prevZ=s;s=e}r=n}s.nextZ=null;h*=2}while(a>1);return t}function vt(t,i,r,n,e){t=(t-r)*e|0;i=(i-n)*e|0;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;i=(i|i<<8)&16711935;i=(i|i<<4)&252645135;i=(i|i<<2)&858993459;i=(i|i<<1)&1431655765;return t|i<<1}function ct(t){var i=t,r=t;do{if(i.x<r.x||i.x===r.x&&i.y<r.y)r=i;i=i.next}while(i!==t);return r}function dt(t,i,r,n,e,s,a,u){return(e-a)*(i-u)>=(t-a)*(s-u)&&(t-a)*(n-u)>=(r-a)*(i-u)&&(r-a)*(s-u)>=(e-a)*(n-u)}function pt(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!At(t,i)&&(Ot(t,i)&&Ot(i,t)&&xt(t,i)&&(bt(t.prev,t,i.prev)||bt(t,i.prev,i))||mt(t,i)&&bt(t.prev,t,t.next)>0&&bt(i.prev,i,i.next)>0)}function bt(t,i,r){return(i.y-t.y)*(r.x-i.x)-(i.x-t.x)*(r.y-i.y)}function mt(t,i){return t.x===i.x&&t.y===i.y}function gt(t,i,r,n){var e=wt(bt(t,i,r));var s=wt(bt(t,i,n));var a=wt(bt(r,n,t));var u=wt(bt(r,n,i));if(e!==s&&a!==u)return true;if(e===0&&yt(t,r,i))return true;if(s===0&&yt(t,n,i))return true;if(a===0&&yt(r,t,n))return true;if(u===0&&yt(r,i,n))return true;return false}function yt(t,i,r){return i.x<=Math.max(t.x,r.x)&&i.x>=Math.min(t.x,r.x)&&i.y<=Math.max(t.y,r.y)&&i.y>=Math.min(t.y,r.y)}function wt(t){return t>0?1:t<0?-1:0}function At(t,i){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==i.i&&r.next.i!==i.i&&gt(r,r.next,t,i))return true;r=r.next}while(r!==t);return false}function Ot(t,i){return bt(t.prev,t,t.next)<0?bt(t,i,t.next)>=0&&bt(t,t.prev,i)>=0:bt(t,i,t.prev)<0||bt(t,t.next,i)<0}function xt(t,i){var r=t,n=false,e=(t.x+i.x)/2,s=(t.y+i.y)/2;do{if(r.y>s!==r.next.y>s&&r.next.y!==r.y&&e<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x)n=!n;r=r.next}while(r!==t);return n}function Et(t,i){var r=new jt(t.i,t.x,t.y),n=new jt(i.i,i.x,i.y),e=t.next,s=i.prev;t.next=i;i.prev=t;r.next=e;e.prev=r;n.next=r;r.prev=n;s.next=n;n.prev=s;return n}function Mt(t,i,r,n){var e=new jt(t,i,r);if(!n){e.prev=e;e.next=e}else{e.next=n.next;e.prev=n;n.next.prev=e;n.next=e}return e}function _t(t){t.next.prev=t.prev;t.prev.next=t.next;if(t.prevZ)t.prevZ.nextZ=t.nextZ;if(t.nextZ)t.nextZ.prevZ=t.prevZ}function jt(t,i,r){this.i=t;this.x=i;this.y=r;this.prev=null;this.next=null;this.z=0;this.prevZ=null;this.nextZ=null;this.steiner=false}Z.deviation=function(t,i,r,n){var e=i&&i.length;var s=e?i[0]*r:t.length;var a=Math.abs(Tt(t,0,s,r));if(e){for(var u=0,o=i.length;u<o;u++){var h=i[u]*r;var f=u<o-1?i[u+1]*r:t.length;a-=Math.abs(Tt(t,h,f,r))}}var l=0;for(u=0;u<n.length;u+=3){var v=n[u]*r;var c=n[u+1]*r;var d=n[u+2]*r;l+=Math.abs((t[v]-t[d])*(t[c+1]-t[v+1])-(t[v]-t[c])*(t[d+1]-t[v+1]))}return a===0&&l===0?0:Math.abs((l-a)/a)};function Tt(t,i,r,n){var e=0;for(var s=i,a=r-n;s<r;s+=n){e+=(t[a]-t[s])*(t[s+1]+t[a+1]);a=s}return e}Z.flatten=function(t){var i=t[0][0].length,r={vertices:[],holes:[],dimensions:i},n=0;for(var e=0;e<t.length;e++){for(var s=0;s<t[e].length;s++){for(var a=0;a<i;a++)r.vertices.push(t[e][s][a])}if(e>0){n+=t[e-1].length;r.holes.push(n)}}return r};$.default=J;f((function(t,i){(function(r){var n=i&&!i.nodeType&&i;var e=t&&!t.nodeType&&t;var s=typeof h=="object"&&h;if(s.global===s||s.window===s||s.self===s){r=s}var a,u=2147483647,o=36,f=1,l=26,v=38,c=700,d=72,p=128,b="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=o-f,O=Math.floor,x=String.fromCharCode,E;function M(t){throw new RangeError(w[t])}function _(t,i){var r=t.length;var n=[];while(r--){n[r]=i(t[r])}return n}function j(t,i){var r=t.split("@");var n="";if(r.length>1){n=r[0]+"@";t=r[1]}t=t.replace(y,".");var e=t.split(".");var s=_(e,i).join(".");return n+s}function T(t){var i=[],r=0,n=t.length,e,s;while(r<n){e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<n){s=t.charCodeAt(r++);if((s&64512)==56320){i.push(((e&1023)<<10)+(s&1023)+65536)}else{i.push(e);r--}}else{i.push(e)}}return i}function S(t){return _(t,(function(t){var i="";if(t>65535){t-=65536;i+=x(t>>>10&1023|55296);t=56320|t&1023}i+=x(t);return i})).join("")}function I(t){if(t-48<10){return t-22}if(t-65<26){return t-65}if(t-97<26){return t-97}return o}function C(t,i){return t+22+75*(t<26)-((i!=0)<<5)}function P(t,i,r){var n=0;t=r?O(t/c):t>>1;t+=O(t/i);for(;t>A*l>>1;n+=o){t=O(t/A)}return O(n+(A+1)*t/(t+v))}function R(t){var i=[],r=t.length,n,e=0,s=p,a=d,h,v,c,m,g,y,w,A,x;h=t.lastIndexOf(b);if(h<0){h=0}for(v=0;v<h;++v){if(t.charCodeAt(v)>=128){M("not-basic")}i.push(t.charCodeAt(v))}for(c=h>0?h+1:0;c<r;){for(m=e,g=1,y=o;;y+=o){if(c>=r){M("invalid-input")}w=I(t.charCodeAt(c++));if(w>=o||w>O((u-e)/g)){M("overflow")}e+=w*g;A=y<=a?f:y>=a+l?l:y-a;if(w<A){break}x=o-A;if(g>O(u/x)){M("overflow")}g*=x}n=i.length+1;a=P(e-m,n,m==0);if(O(e/n)>u-s){M("overflow")}s+=O(e/n);e%=n;i.splice(e++,0,s)}return S(i)}function N(t){var i,r,n,e,s,a,h,v,c,m,g,y=[],w,A,E,_;t=T(t);w=t.length;i=p;r=0;s=d;for(a=0;a<w;++a){g=t[a];if(g<128){y.push(x(g))}}n=e=y.length;if(e){y.push(b)}while(n<w){for(h=u,a=0;a<w;++a){g=t[a];if(g>=i&&g<h){h=g}}A=n+1;if(h-i>O((u-r)/A)){M("overflow")}r+=(h-i)*A;i=h;for(a=0;a<w;++a){g=t[a];if(g<i&&++r>u){M("overflow")}if(g==i){for(v=r,c=o;;c+=o){m=c<=s?f:c>=s+l?l:c-s;if(v<m){break}_=v-m;E=o-m;y.push(x(C(m+_%E,0)));v=O(_/E)}y.push(x(C(v,0)));s=P(r,A,n==e);r=0;++n}}++r;++i}return y.join("")}function F(t){return j(t,(function(t){return m.test(t)?R(t.slice(4).toLowerCase()):t}))}function D(t){return j(t,(function(t){return g.test(t)?"xn--"+N(t):t}))}a={version:"1.4.1",ucs2:{decode:T,encode:S},decode:R,encode:N,toASCII:D,toUnicode:F};if(n&&e){if(t.exports==n){e.exports=a}else{for(E in a){a.hasOwnProperty(E)&&(n[E]=a[E])}}}else{r.punycode=a}})(h)}));var St=function t(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function"){return false}if(typeof Symbol.iterator==="symbol"){return true}var i={};var r=Symbol("test");var n=Object(r);if(typeof r==="string"){return false}if(Object.prototype.toString.call(r)!=="[object Symbol]"){return false}if(Object.prototype.toString.call(n)!=="[object Symbol]"){return false}var e=42;i[r]=e;for(r in i){return false}if(typeof Object.keys==="function"&&Object.keys(i).length!==0){return false}if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(i).length!==0){return false}var s=Object.getOwnPropertySymbols(i);if(s.length!==1||s[0]!==r){return false}if(!Object.prototype.propertyIsEnumerable.call(i,r)){return false}if(typeof Object.getOwnPropertyDescriptor==="function"){var a=Object.getOwnPropertyDescriptor(i,r);if(a.value!==e||a.enumerable!==true){return false}}return true};var It=typeof Symbol!=="undefined"&&Symbol;var Ct=function t(){if(typeof It!=="function"){return false}if(typeof Symbol!=="function"){return false}if(typeof It("foo")!=="symbol"){return false}if(typeof Symbol("bar")!=="symbol"){return false}return St()};var Pt={foo:{}};var Rt=Object;var Nt=function t(){return{__proto__:Pt}.foo===Pt.foo&&!({__proto__:null}instanceof Rt)};var Ft="Function.prototype.bind called on incompatible ";var Dt=Array.prototype.slice;var Lt=Object.prototype.toString;var Ut="[object Function]";var kt=function t(i){var r=this;if(typeof r!=="function"||Lt.call(r)!==Ut){throw new TypeError(Ft+r)}var n=Dt.call(arguments,1);var e;var s=function(){if(this instanceof e){var t=r.apply(this,n.concat(Dt.call(arguments)));if(Object(t)===t){return t}return this}else{return r.apply(i,n.concat(Dt.call(arguments)))}};var a=Math.max(0,r.length-n.length);var u=[];for(var o=0;o<a;o++){u.push("$"+o)}e=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s);if(r.prototype){var h=function t(){};h.prototype=r.prototype;e.prototype=new h;h.prototype=null}return e};var Bt=Function.prototype.bind||kt;var Vt=Bt.call(Function.call,Object.prototype.hasOwnProperty);var Wt;var Gt=SyntaxError;var zt=Function;var Ht=TypeError;var Xt=function(t){try{return zt('"use strict"; return ('+t+").constructor;")()}catch(t){}};var Yt=Object.getOwnPropertyDescriptor;var qt=function(){throw new Ht};var $t=Yt?function(){try{return qt}catch(t){try{return Yt(arguments,"callee").get}catch(t){return qt}}}():qt;var Jt=Ct();var Zt=Nt();var Kt=Object.getPrototypeOf||(Zt?function(t){return t.__proto__}:null);var Qt={};var ti=typeof Uint8Array==="undefined"||!Kt?Wt:Kt(Uint8Array);var ii={"%AggregateError%":typeof AggregateError==="undefined"?Wt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?Wt:ArrayBuffer,"%ArrayIteratorPrototype%":Jt&&Kt?Kt([][Symbol.iterator]()):Wt,"%AsyncFromSyncIteratorPrototype%":Wt,"%AsyncFunction%":Qt,"%AsyncGenerator%":Qt,"%AsyncGeneratorFunction%":Qt,"%AsyncIteratorPrototype%":Qt,"%Atomics%":typeof Atomics==="undefined"?Wt:Atomics,"%BigInt%":typeof BigInt==="undefined"?Wt:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?Wt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?Wt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?Wt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array==="undefined"?Wt:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?Wt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?Wt:FinalizationRegistry,"%Function%":zt,"%GeneratorFunction%":Qt,"%Int8Array%":typeof Int8Array==="undefined"?Wt:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?Wt:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?Wt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jt&&Kt?Kt(Kt([][Symbol.iterator]())):Wt,"%JSON%":typeof JSON==="object"?JSON:Wt,"%Map%":typeof Map==="undefined"?Wt:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!Jt||!Kt?Wt:Kt((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?Wt:Promise,"%Proxy%":typeof Proxy==="undefined"?Wt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect==="undefined"?Wt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?Wt:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!Jt||!Kt?Wt:Kt((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?Wt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jt&&Kt?Kt(""[Symbol.iterator]()):Wt,"%Symbol%":Jt?Symbol:Wt,"%SyntaxError%":Gt,"%ThrowTypeError%":$t,"%TypedArray%":ti,"%TypeError%":Ht,"%Uint8Array%":typeof Uint8Array==="undefined"?Wt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?Wt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?Wt:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?Wt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap==="undefined"?Wt:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?Wt:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?Wt:WeakSet};var ri=function t(i){var r;if(i==="%AsyncFunction%"){r=Xt("async function () {}")}else if(i==="%GeneratorFunction%"){r=Xt("function* () {}")}else if(i==="%AsyncGeneratorFunction%"){r=Xt("async function* () {}")}else if(i==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");if(n){r=n.prototype}}else if(i==="%AsyncIteratorPrototype%"){var e=t("%AsyncGenerator%");if(e&&Kt){r=Kt(e.prototype)}}ii[i]=r;return r};var ni={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};var ei=Bt.call(Function.call,Array.prototype.concat);var si=Bt.call(Function.apply,Array.prototype.splice);var ai=Bt.call(Function.call,String.prototype.replace);var ui=Bt.call(Function.call,String.prototype.slice);var oi=Bt.call(Function.call,RegExp.prototype.exec);var hi=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var fi=/\\(\\)?/g;var li=function t(i){var r=ui(i,0,1);var n=ui(i,-1);if(r==="%"&&n!=="%"){throw new Gt("invalid intrinsic syntax, expected closing `%`")}else if(n==="%"&&r!=="%"){throw new Gt("invalid intrinsic syntax, expected opening `%`")}var e=[];ai(i,hi,(function(t,i,r,n){e[e.length]=r?ai(n,fi,"$1"):i||t}));return e};var vi=function t(i,r){var n=i;var e;if(Vt(ni,n)){e=ni[n];n="%"+e[0]+"%"}if(Vt(ii,n)){var s=ii[n];if(s===Qt){s=ri(n)}if(typeof s==="undefined"&&!r){throw new Ht("intrinsic "+i+" exists, but is not available. Please file an issue!")}return{alias:e,name:n,value:s}}throw new Gt("intrinsic "+i+" does not exist!")};var ci=function t(i,r){if(typeof i!=="string"||i.length===0){throw new Ht("intrinsic name must be a non-empty string")}if(arguments.length>1&&typeof r!=="boolean"){throw new Ht('"allowMissing" argument must be a boolean')}if(oi(/^%?[^%]*%?$/,i)===null){throw new Gt("`%` may not be present anywhere but at the beginning and end of the intrinsic name")}var n=li(i);var e=n.length>0?n[0]:"";var s=vi("%"+e+"%",r);var a=s.name;var u=s.value;var o=false;var h=s.alias;if(h){e=h[0];si(n,ei([0,1],h))}for(var f=1,l=true;f<n.length;f+=1){var v=n[f];var c=ui(v,0,1);var d=ui(v,-1);if((c==='"'||c==="'"||c==="`"||(d==='"'||d==="'"||d==="`"))&&c!==d){throw new Gt("property names with quotes must have matching quotes")}if(v==="constructor"||!l){o=true}e+="."+v;a="%"+e+"%";if(Vt(ii,a)){u=ii[a]}else if(u!=null){if(!(v in u)){if(!r){throw new Ht("base intrinsic for "+i+" exists, but the property is not available.")}return void Wt}if(Yt&&f+1>=n.length){var p=Yt(u,v);l=!!p;if(l&&"get"in p&&!("originalValue"in p.get)){u=p.get}else{u=u[v]}}else{l=Vt(u,v);u=u[v]}if(l&&!o){ii[a]=u}}}return u};var di=f((function(t){var i=ci("%Function.prototype.apply%");var r=ci("%Function.prototype.call%");var n=ci("%Reflect.apply%",true)||Bt.call(r,i);var e=ci("%Object.getOwnPropertyDescriptor%",true);var s=ci("%Object.defineProperty%",true);var a=ci("%Math.max%");if(s){try{s({},"a",{value:1})}catch(t){s=null}}t.exports=function t(i){var u=n(Bt,r,arguments);if(e&&s){var o=e(u,"length");if(o.configurable){s(u,"length",{value:1+a(0,i.length-(arguments.length-1))})}}return u};var u=function t(){return n(Bt,i,arguments)};if(s){s(t.exports,"apply",{value:u})}else{t.exports.apply=u}}));var pi=di(ci("String.prototype.indexOf"));var bi=function t(i,r){var n=ci(i,!!r);if(typeof n==="function"&&pi(i,".prototype.")>-1){return di(n)}return n};const mi={};const gi=Object.freeze({__proto__:null,default:mi});const yi=l(gi);var wi=typeof Map==="function"&&Map.prototype;var Ai=Object.getOwnPropertyDescriptor&&wi?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null;var Oi=wi&&Ai&&typeof Ai.get==="function"?Ai.get:null;var xi=wi&&Map.prototype.forEach;var Ei=typeof Set==="function"&&Set.prototype;var Mi=Object.getOwnPropertyDescriptor&&Ei?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null;var _i=Ei&&Mi&&typeof Mi.get==="function"?Mi.get:null;var ji=Ei&&Set.prototype.forEach;var Ti=typeof WeakMap==="function"&&WeakMap.prototype;var Si=Ti?WeakMap.prototype.has:null;var Ii=typeof WeakSet==="function"&&WeakSet.prototype;var Ci=Ii?WeakSet.prototype.has:null;var Pi=typeof WeakRef==="function"&&WeakRef.prototype;var Ri=Pi?WeakRef.prototype.deref:null;var Ni=Boolean.prototype.valueOf;var Fi=Object.prototype.toString;var Di=Function.prototype.toString;var Li=String.prototype.match;var Ui=String.prototype.slice;var ki=String.prototype.replace;var Bi=String.prototype.toUpperCase;var Vi=String.prototype.toLowerCase;var Wi=RegExp.prototype.test;var Gi=Array.prototype.concat;var zi=Array.prototype.join;var Hi=Array.prototype.slice;var Xi=Math.floor;var Yi=typeof BigInt==="function"?BigInt.prototype.valueOf:null;var qi=Object.getOwnPropertySymbols;var $i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol.prototype.toString:null;var Ji=typeof Symbol==="function"&&typeof Symbol.iterator==="object";var Zi=typeof Symbol==="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ji?"object":"symbol")?Symbol.toStringTag:null;var Ki=Object.prototype.propertyIsEnumerable;var Qi=(typeof Reflect==="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function tr(t,i){if(t===Infinity||t===-Infinity||t!==t||t&&t>-1e3&&t<1e3||Wi.call(/e/,i)){return i}var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t==="number"){var n=t<0?-Xi(-t):Xi(t);if(n!==t){var e=String(n);var s=Ui.call(i,e.length+1);return ki.call(e,r,"$&_")+"."+ki.call(ki.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ki.call(i,r,"$&_")}var ir=yi.custom;var rr=cr(ir)?ir:null;var nr=function t(i,r,n,e){var s=r||{};if(br(s,"quoteStyle")&&(s.quoteStyle!=="single"&&s.quoteStyle!=="double")){throw new TypeError('option "quoteStyle" must be "single" or "double"')}if(br(s,"maxStringLength")&&(typeof s.maxStringLength==="number"?s.maxStringLength<0&&s.maxStringLength!==Infinity:s.maxStringLength!==null)){throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`')}var a=br(s,"customInspect")?s.customInspect:true;if(typeof a!=="boolean"&&a!=="symbol"){throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`")}if(br(s,"indent")&&s.indent!==null&&s.indent!=="\t"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0)){throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`')}if(br(s,"numericSeparator")&&typeof s.numericSeparator!=="boolean"){throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`')}var u=s.numericSeparator;if(typeof i==="undefined"){return"undefined"}if(i===null){return"null"}if(typeof i==="boolean"){return i?"true":"false"}if(typeof i==="string"){return _r(i,s)}if(typeof i==="number"){if(i===0){return Infinity/i>0?"0":"-0"}var o=String(i);return u?tr(i,o):o}if(typeof i==="bigint"){var h=String(i)+"n";return u?tr(i,h):h}var f=typeof s.depth==="undefined"?5:s.depth;if(typeof n==="undefined"){n=0}if(n>=f&&f>0&&typeof i==="object"){return ar(i)?"[Array]":"[Object]"}var l=Pr(s,n);if(typeof e==="undefined"){e=[]}else if(yr(e,i)>=0){return"[Circular]"}function v(i,r,a){if(r){e=Hi.call(e);e.push(r)}if(a){var u={depth:s.depth};if(br(s,"quoteStyle")){u.quoteStyle=s.quoteStyle}return t(i,u,n+1,e)}return t(i,s,n+1,e)}if(typeof i==="function"&&!or(i)){var c=gr(i);var d=Nr(i,v);return"[Function"+(c?": "+c:" (anonymous)")+"]"+(d.length>0?" { "+zi.call(d,", ")+" }":"")}if(cr(i)){var p=Ji?ki.call(String(i),/^(Symbol\(.*\))_[^)]*$/,"$1"):$i.call(i);return typeof i==="object"&&!Ji?Tr(p):p}if(Mr(i)){var b="<"+Vi.call(String(i.nodeName));var m=i.attributes||[];for(var g=0;g<m.length;g++){b+=" "+m[g].name+"="+er(sr(m[g].value),"double",s)}b+=">";if(i.childNodes&&i.childNodes.length){b+="..."}b+="</"+Vi.call(String(i.nodeName))+">";return b}if(ar(i)){if(i.length===0){return"[]"}var y=Nr(i,v);if(l&&!Cr(y)){return"["+Rr(y,l)+"]"}return"[ "+zi.call(y,", ")+" ]"}if(hr(i)){var w=Nr(i,v);if(!("cause"in Error.prototype)&&"cause"in i&&!Ki.call(i,"cause")){return"{ ["+String(i)+"] "+zi.call(Gi.call("[cause]: "+v(i.cause),w),", ")+" }"}if(w.length===0){return"["+String(i)+"]"}return"{ ["+String(i)+"] "+zi.call(w,", ")+" }"}if(typeof i==="object"&&a){if(rr&&typeof i[rr]==="function"&&yi){return yi(i,{depth:f-n})}else if(a!=="symbol"&&typeof i.inspect==="function"){return i.inspect()}}if(wr(i)){var A=[];if(xi){xi.call(i,(function(t,r){A.push(v(r,i,true)+" => "+v(t,i))}))}return Ir("Map",Oi.call(i),A,l)}if(xr(i)){var O=[];if(ji){ji.call(i,(function(t){O.push(v(t,i))}))}return Ir("Set",_i.call(i),O,l)}if(Ar(i)){return Sr("WeakMap")}if(Er(i)){return Sr("WeakSet")}if(Or(i)){return Sr("WeakRef")}if(lr(i)){return Tr(v(Number(i)))}if(dr(i)){return Tr(v(Yi.call(i)))}if(vr(i)){return Tr(Ni.call(i))}if(fr(i)){return Tr(v(String(i)))}if(!ur(i)&&!or(i)){var x=Nr(i,v);var E=Qi?Qi(i)===Object.prototype:i instanceof Object||i.constructor===Object;var M=i instanceof Object?"":"null prototype";var _=!E&&Zi&&Object(i)===i&&Zi in i?Ui.call(mr(i),8,-1):M?"Object":"";var j=E||typeof i.constructor!=="function"?"":i.constructor.name?i.constructor.name+" ":"";var T=j+(_||M?"["+zi.call(Gi.call([],_||[],M||[]),": ")+"] ":"");if(x.length===0){return T+"{}"}if(l){return T+"{"+Rr(x,l)+"}"}return T+"{ "+zi.call(x,", ")+" }"}return String(i)};function er(t,i,r){var n=(r.quoteStyle||i)==="double"?'"':"'";return n+t+n}function sr(t){return ki.call(String(t),/"/g,"&quot;")}function ar(t){return mr(t)==="[object Array]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function ur(t){return mr(t)==="[object Date]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function or(t){return mr(t)==="[object RegExp]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function hr(t){return mr(t)==="[object Error]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function fr(t){return mr(t)==="[object String]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function lr(t){return mr(t)==="[object Number]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function vr(t){return mr(t)==="[object Boolean]"&&(!Zi||!(typeof t==="object"&&Zi in t))}function cr(t){if(Ji){return t&&typeof t==="object"&&t instanceof Symbol}if(typeof t==="symbol"){return true}if(!t||typeof t!=="object"||!$i){return false}try{$i.call(t);return true}catch(t){}return false}function dr(t){if(!t||typeof t!=="object"||!Yi){return false}try{Yi.call(t);return true}catch(t){}return false}var pr=Object.prototype.hasOwnProperty||function(t){return t in this};function br(t,i){return pr.call(t,i)}function mr(t){return Fi.call(t)}function gr(t){if(t.name){return t.name}var i=Li.call(Di.call(t),/^function\s*([\w$]+)/);if(i){return i[1]}return null}function yr(t,i){if(t.indexOf){return t.indexOf(i)}for(var r=0,n=t.length;r<n;r++){if(t[r]===i){return r}}return-1}function wr(t){if(!Oi||!t||typeof t!=="object"){return false}try{Oi.call(t);try{_i.call(t)}catch(t){return true}return t instanceof Map}catch(t){}return false}function Ar(t){if(!Si||!t||typeof t!=="object"){return false}try{Si.call(t,Si);try{Ci.call(t,Ci)}catch(t){return true}return t instanceof WeakMap}catch(t){}return false}function Or(t){if(!Ri||!t||typeof t!=="object"){return false}try{Ri.call(t);return true}catch(t){}return false}function xr(t){if(!_i||!t||typeof t!=="object"){return false}try{_i.call(t);try{Oi.call(t)}catch(t){return true}return t instanceof Set}catch(t){}return false}function Er(t){if(!Ci||!t||typeof t!=="object"){return false}try{Ci.call(t,Ci);try{Si.call(t,Si)}catch(t){return true}return t instanceof WeakSet}catch(t){}return false}function Mr(t){if(!t||typeof t!=="object"){return false}if(typeof HTMLElement!=="undefined"&&t instanceof HTMLElement){return true}return typeof t.nodeName==="string"&&typeof t.getAttribute==="function"}function _r(t,i){if(t.length>i.maxStringLength){var r=t.length-i.maxStringLength;var n="... "+r+" more character"+(r>1?"s":"");return _r(Ui.call(t,0,i.maxStringLength),i)+n}var e=ki.call(ki.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,jr);return er(e,"single",i)}function jr(t){var i=t.charCodeAt(0);var r={8:"b",9:"t",10:"n",12:"f",13:"r"}[i];if(r){return"\\"+r}return"\\x"+(i<16?"0":"")+Bi.call(i.toString(16))}function Tr(t){return"Object("+t+")"}function Sr(t){return t+" { ? }"}function Ir(t,i,r,n){var e=n?Rr(r,n):zi.call(r,", ");return t+" ("+i+") {"+e+"}"}function Cr(t){for(var i=0;i<t.length;i++){if(yr(t[i],"\n")>=0){return false}}return true}function Pr(t,i){var r;if(t.indent==="\t"){r="\t"}else if(typeof t.indent==="number"&&t.indent>0){r=zi.call(Array(t.indent+1)," ")}else{return null}return{base:r,prev:zi.call(Array(i+1),r)}}function Rr(t,i){if(t.length===0){return""}var r="\n"+i.prev+i.base;return r+zi.call(t,","+r)+"\n"+i.prev}function Nr(t,i){var r=ar(t);var n=[];if(r){n.length=t.length;for(var e=0;e<t.length;e++){n[e]=br(t,e)?i(t[e],t):""}}var s=typeof qi==="function"?qi(t):[];var a;if(Ji){a={};for(var u=0;u<s.length;u++){a["$"+s[u]]=s[u]}}for(var o in t){if(!br(t,o)){continue}if(r&&String(Number(o))===o&&o<t.length){continue}if(Ji&&a["$"+o]instanceof Symbol){continue}else if(Wi.call(/[^\w$]/,o)){n.push(i(o,t)+": "+i(t[o],t))}else{n.push(o+": "+i(t[o],t))}}if(typeof qi==="function"){for(var h=0;h<s.length;h++){if(Ki.call(t,s[h])){n.push("["+i(s[h])+"]: "+i(t[s[h]],t))}}}return n}var Fr=ci("%TypeError%");var Dr=ci("%WeakMap%",true);var Lr=ci("%Map%",true);var Ur=bi("WeakMap.prototype.get",true);var kr=bi("WeakMap.prototype.set",true);var Br=bi("WeakMap.prototype.has",true);var Vr=bi("Map.prototype.get",true);var Wr=bi("Map.prototype.set",true);var Gr=bi("Map.prototype.has",true);var zr=function(t,i){for(var r=t,n;(n=r.next)!==null;r=n){if(n.key===i){r.next=n.next;n.next=t.next;t.next=n;return n}}};var Hr=function(t,i){var r=zr(t,i);return r&&r.value};var Xr=function(t,i,r){var n=zr(t,i);if(n){n.value=r}else{t.next={key:i,next:t.next,value:r}}};var Yr=function(t,i){return!!zr(t,i)};var qr=function t(){var i;var r;var n;var e={assert:function(t){if(!e.has(t)){throw new Fr("Side channel does not contain "+nr(t))}},get:function(t){if(Dr&&t&&(typeof t==="object"||typeof t==="function")){if(i){return Ur(i,t)}}else if(Lr){if(r){return Vr(r,t)}}else{if(n){return Hr(n,t)}}},has:function(t){if(Dr&&t&&(typeof t==="object"||typeof t==="function")){if(i){return Br(i,t)}}else if(Lr){if(r){return Gr(r,t)}}else{if(n){return Yr(n,t)}}return false},set:function(t,e){if(Dr&&t&&(typeof t==="object"||typeof t==="function")){if(!i){i=new Dr}kr(i,t,e)}else if(Lr){if(!r){r=new Lr}Wr(r,t,e)}else{if(!n){n={key:{},next:null}}Xr(n,t,e)}}};return e};var $r=String.prototype.replace;var Jr=/%20/g;var Zr={RFC1738:"RFC1738",RFC3986:"RFC3986"};var Kr={default:Zr.RFC3986,formatters:{RFC1738:function(t){return $r.call(t,Jr,"+")},RFC3986:function(t){return String(t)}},RFC1738:Zr.RFC1738,RFC3986:Zr.RFC3986};var Qr=Object.prototype.hasOwnProperty;var tn=Array.isArray;var rn=function(){var t=[];for(var i=0;i<256;++i){t.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase())}return t}();var nn=function t(i){while(i.length>1){var r=i.pop();var n=r.obj[r.prop];if(tn(n)){var e=[];for(var s=0;s<n.length;++s){if(typeof n[s]!=="undefined"){e.push(n[s])}}r.obj[r.prop]=e}}};var en=function t(i,r){var n=r&&r.plainObjects?Object.create(null):{};for(var e=0;e<i.length;++e){if(typeof i[e]!=="undefined"){n[e]=i[e]}}return n};var sn=function t(i,r,n){if(!r){return i}if(typeof r!=="object"){if(tn(i)){i.push(r)}else if(i&&typeof i==="object"){if(n&&(n.plainObjects||n.allowPrototypes)||!Qr.call(Object.prototype,r)){i[r]=true}}else{return[i,r]}return i}if(!i||typeof i!=="object"){return[i].concat(r)}var e=i;if(tn(i)&&!tn(r)){e=en(i,n)}if(tn(i)&&tn(r)){r.forEach((function(r,e){if(Qr.call(i,e)){var s=i[e];if(s&&typeof s==="object"&&r&&typeof r==="object"){i[e]=t(s,r,n)}else{i.push(r)}}else{i[e]=r}}));return i}return Object.keys(r).reduce((function(i,e){var s=r[e];if(Qr.call(i,e)){i[e]=t(i[e],s,n)}else{i[e]=s}return i}),e)};var an=function t(i,r){return Object.keys(r).reduce((function(t,i){t[i]=r[i];return t}),i)};var un=function(t,i,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1"){return n.replace(/%[0-9a-f]{2}/gi,unescape)}try{return decodeURIComponent(n)}catch(t){return n}};var on=function t(i,r,n,e,s){if(i.length===0){return i}var a=i;if(typeof i==="symbol"){a=Symbol.prototype.toString.call(i)}else if(typeof i!=="string"){a=String(i)}if(n==="iso-8859-1"){return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}))}var u="";for(var o=0;o<a.length;++o){var h=a.charCodeAt(o);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Kr.RFC1738&&(h===40||h===41)){u+=a.charAt(o);continue}if(h<128){u=u+rn[h];continue}if(h<2048){u=u+(rn[192|h>>6]+rn[128|h&63]);continue}if(h<55296||h>=57344){u=u+(rn[224|h>>12]+rn[128|h>>6&63]+rn[128|h&63]);continue}o+=1;h=65536+((h&1023)<<10|a.charCodeAt(o)&1023);u+=rn[240|h>>18]+rn[128|h>>12&63]+rn[128|h>>6&63]+rn[128|h&63]}return u};var hn=function t(i){var r=[{obj:{o:i},prop:"o"}];var n=[];for(var e=0;e<r.length;++e){var s=r[e];var a=s.obj[s.prop];var u=Object.keys(a);for(var o=0;o<u.length;++o){var h=u[o];var f=a[h];if(typeof f==="object"&&f!==null&&n.indexOf(f)===-1){r.push({obj:a,prop:h});n.push(f)}}}nn(r);return i};var fn=function t(i){return Object.prototype.toString.call(i)==="[object RegExp]"};var ln=function t(i){if(!i||typeof i!=="object"){return false}return!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))};var vn=function t(i,r){return[].concat(i,r)};var cn=function t(i,r){if(tn(i)){var n=[];for(var e=0;e<i.length;e+=1){n.push(r(i[e]))}return n}return r(i)};var dn={arrayToObject:en,assign:an,combine:vn,compact:hn,decode:un,encode:on,isBuffer:ln,isRegExp:fn,maybeMap:cn,merge:sn};var pn=Object.prototype.hasOwnProperty;var bn={brackets:function t(i){return i+"[]"},comma:"comma",indices:function t(i,r){return i+"["+r+"]"},repeat:function t(i){return i}};var mn=Array.isArray;var gn=Array.prototype.push;var yn=function(t,i){gn.apply(t,mn(i)?i:[i])};var wn=Date.prototype.toISOString;var An=Kr["default"];var On={addQueryPrefix:false,allowDots:false,charset:"utf-8",charsetSentinel:false,delimiter:"&",encode:true,encoder:dn.encode,encodeValuesOnly:false,format:An,formatter:Kr.formatters[An],indices:false,serializeDate:function t(i){return wn.call(i)},skipNulls:false,strictNullHandling:false};var xn=function t(i){return typeof i==="string"||typeof i==="number"||typeof i==="boolean"||typeof i==="symbol"||typeof i==="bigint"};var En={};var Mn=function t(i,r,n,e,s,a,u,o,h,f,l,v,c,d,p,b){var m=i;var g=b;var y=0;var w=false;while((g=g.get(En))!==void undefined&&!w){var A=g.get(i);y+=1;if(typeof A!=="undefined"){if(A===y){throw new RangeError("Cyclic object value")}else{w=true}}if(typeof g.get(En)==="undefined"){y=0}}if(typeof o==="function"){m=o(r,m)}else if(m instanceof Date){m=l(m)}else if(n==="comma"&&mn(m)){m=dn.maybeMap(m,(function(t){if(t instanceof Date){return l(t)}return t}))}if(m===null){if(s){return u&&!d?u(r,On.encoder,p,"key",v):r}m=""}if(xn(m)||dn.isBuffer(m)){if(u){var O=d?r:u(r,On.encoder,p,"key",v);return[c(O)+"="+c(u(m,On.encoder,p,"value",v))]}return[c(r)+"="+c(String(m))]}var x=[];if(typeof m==="undefined"){return x}var E;if(n==="comma"&&mn(m)){if(d&&u){m=dn.maybeMap(m,u)}E=[{value:m.length>0?m.join(",")||null:void undefined}]}else if(mn(o)){E=o}else{var M=Object.keys(m);E=h?M.sort(h):M}var _=e&&mn(m)&&m.length===1?r+"[]":r;for(var j=0;j<E.length;++j){var T=E[j];var S=typeof T==="object"&&typeof T.value!=="undefined"?T.value:m[T];if(a&&S===null){continue}var I=mn(m)?typeof n==="function"?n(_,T):_:_+(f?"."+T:"["+T+"]");b.set(i,y);var C=qr();C.set(En,b);yn(x,t(S,I,n,e,s,a,n==="comma"&&d&&mn(m)?null:u,o,h,f,l,v,c,d,p,C))}return x};var _n=function t(i){if(!i){return On}if(i.encoder!==null&&typeof i.encoder!=="undefined"&&typeof i.encoder!=="function"){throw new TypeError("Encoder has to be a function.")}var r=i.charset||On.charset;if(typeof i.charset!=="undefined"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var n=Kr["default"];if(typeof i.format!=="undefined"){if(!pn.call(Kr.formatters,i.format)){throw new TypeError("Unknown format option provided.")}n=i.format}var e=Kr.formatters[n];var s=On.filter;if(typeof i.filter==="function"||mn(i.filter)){s=i.filter}return{addQueryPrefix:typeof i.addQueryPrefix==="boolean"?i.addQueryPrefix:On.addQueryPrefix,allowDots:typeof i.allowDots==="undefined"?On.allowDots:!!i.allowDots,charset:r,charsetSentinel:typeof i.charsetSentinel==="boolean"?i.charsetSentinel:On.charsetSentinel,delimiter:typeof i.delimiter==="undefined"?On.delimiter:i.delimiter,encode:typeof i.encode==="boolean"?i.encode:On.encode,encoder:typeof i.encoder==="function"?i.encoder:On.encoder,encodeValuesOnly:typeof i.encodeValuesOnly==="boolean"?i.encodeValuesOnly:On.encodeValuesOnly,filter:s,format:n,formatter:e,serializeDate:typeof i.serializeDate==="function"?i.serializeDate:On.serializeDate,skipNulls:typeof i.skipNulls==="boolean"?i.skipNulls:On.skipNulls,sort:typeof i.sort==="function"?i.sort:null,strictNullHandling:typeof i.strictNullHandling==="boolean"?i.strictNullHandling:On.strictNullHandling}};var jn=function(t,i){var r=t;var n=_n(i);var e;var s;if(typeof n.filter==="function"){s=n.filter;r=s("",r)}else if(mn(n.filter)){s=n.filter;e=s}var a=[];if(typeof r!=="object"||r===null){return""}var u;if(i&&i.arrayFormat in bn){u=i.arrayFormat}else if(i&&"indices"in i){u=i.indices?"indices":"repeat"}else{u="indices"}var o=bn[u];if(i&&"commaRoundTrip"in i&&typeof i.commaRoundTrip!=="boolean"){throw new TypeError("`commaRoundTrip` must be a boolean, or absent")}var h=o==="comma"&&i&&i.commaRoundTrip;if(!e){e=Object.keys(r)}if(n.sort){e.sort(n.sort)}var f=qr();for(var l=0;l<e.length;++l){var v=e[l];if(n.skipNulls&&r[v]===null){continue}yn(a,Mn(r[v],v,o,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var c=a.join(n.delimiter);var d=n.addQueryPrefix===true?"?":"";if(n.charsetSentinel){if(n.charset==="iso-8859-1"){d+="utf8=%26%2310003%3B&"}else{d+="utf8=%E2%9C%93&"}}return c.length>0?d+c:""};var Tn=Object.prototype.hasOwnProperty;var Sn=Array.isArray;var In={allowDots:false,allowPrototypes:false,allowSparse:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decoder:dn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictNullHandling:false};var Cn=function(t){return t.replace(/&#(\d+);/g,(function(t,i){return String.fromCharCode(parseInt(i,10))}))};var Pn=function(t,i){if(t&&typeof t==="string"&&i.comma&&t.indexOf(",")>-1){return t.split(",")}return t};var Rn="utf8=%26%2310003%3B";var Nn="utf8=%E2%9C%93";var Fn=function t(i,r){var n={__proto__:null};var e=r.ignoreQueryPrefix?i.replace(/^\?/,""):i;var s=r.parameterLimit===Infinity?undefined:r.parameterLimit;var a=e.split(r.delimiter,s);var u=-1;var o;var h=r.charset;if(r.charsetSentinel){for(o=0;o<a.length;++o){if(a[o].indexOf("utf8=")===0){if(a[o]===Nn){h="utf-8"}else if(a[o]===Rn){h="iso-8859-1"}u=o;o=a.length}}}for(o=0;o<a.length;++o){if(o===u){continue}var f=a[o];var l=f.indexOf("]=");var v=l===-1?f.indexOf("="):l+1;var c,d;if(v===-1){c=r.decoder(f,In.decoder,h,"key");d=r.strictNullHandling?null:""}else{c=r.decoder(f.slice(0,v),In.decoder,h,"key");d=dn.maybeMap(Pn(f.slice(v+1),r),(function(t){return r.decoder(t,In.decoder,h,"value")}))}if(d&&r.interpretNumericEntities&&h==="iso-8859-1"){d=Cn(d)}if(f.indexOf("[]=")>-1){d=Sn(d)?[d]:d}if(Tn.call(n,c)){n[c]=dn.combine(n[c],d)}else{n[c]=d}}return n};var Dn=function(t,i,r,n){var e=n?i:Pn(i,r);for(var s=t.length-1;s>=0;--s){var a;var u=t[s];if(u==="[]"&&r.parseArrays){a=[].concat(e)}else{a=r.plainObjects?Object.create(null):{};var o=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u;var h=parseInt(o,10);if(!r.parseArrays&&o===""){a={0:e}}else if(!isNaN(h)&&u!==o&&String(h)===o&&h>=0&&(r.parseArrays&&h<=r.arrayLimit)){a=[];a[h]=e}else if(o!=="__proto__"){a[o]=e}}e=a}return e};var Ln=function t(i,r,n,e){if(!i){return}var s=n.allowDots?i.replace(/\.([^.[]+)/g,"[$1]"):i;var a=/(\[[^[\]]*])/;var u=/(\[[^[\]]*])/g;var o=n.depth>0&&a.exec(s);var h=o?s.slice(0,o.index):s;var f=[];if(h){if(!n.plainObjects&&Tn.call(Object.prototype,h)){if(!n.allowPrototypes){return}}f.push(h)}var l=0;while(n.depth>0&&(o=u.exec(s))!==null&&l<n.depth){l+=1;if(!n.plainObjects&&Tn.call(Object.prototype,o[1].slice(1,-1))){if(!n.allowPrototypes){return}}f.push(o[1])}if(o){f.push("["+s.slice(o.index)+"]")}return Dn(f,r,n,e)};var Un=function t(i){if(!i){return In}if(i.decoder!==null&&i.decoder!==undefined&&typeof i.decoder!=="function"){throw new TypeError("Decoder has to be a function.")}if(typeof i.charset!=="undefined"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var r=typeof i.charset==="undefined"?In.charset:i.charset;return{allowDots:typeof i.allowDots==="undefined"?In.allowDots:!!i.allowDots,allowPrototypes:typeof i.allowPrototypes==="boolean"?i.allowPrototypes:In.allowPrototypes,allowSparse:typeof i.allowSparse==="boolean"?i.allowSparse:In.allowSparse,arrayLimit:typeof i.arrayLimit==="number"?i.arrayLimit:In.arrayLimit,charset:r,charsetSentinel:typeof i.charsetSentinel==="boolean"?i.charsetSentinel:In.charsetSentinel,comma:typeof i.comma==="boolean"?i.comma:In.comma,decoder:typeof i.decoder==="function"?i.decoder:In.decoder,delimiter:typeof i.delimiter==="string"||dn.isRegExp(i.delimiter)?i.delimiter:In.delimiter,depth:typeof i.depth==="number"||i.depth===false?+i.depth:In.depth,ignoreQueryPrefix:i.ignoreQueryPrefix===true,interpretNumericEntities:typeof i.interpretNumericEntities==="boolean"?i.interpretNumericEntities:In.interpretNumericEntities,parameterLimit:typeof i.parameterLimit==="number"?i.parameterLimit:In.parameterLimit,parseArrays:i.parseArrays!==false,plainObjects:typeof i.plainObjects==="boolean"?i.plainObjects:In.plainObjects,strictNullHandling:typeof i.strictNullHandling==="boolean"?i.strictNullHandling:In.strictNullHandling}};var kn=function(t,i){var r=Un(i);if(t===""||t===null||typeof t==="undefined"){return r.plainObjects?Object.create(null):{}}var n=typeof t==="string"?Fn(t,r):t;var e=r.plainObjects?Object.create(null):{};var s=Object.keys(n);for(var a=0;a<s.length;++a){var u=s[a];var o=Ln(u,n[u],r,typeof t==="string");e=dn.merge(e,o,r)}if(r.allowSparse===true){return e}return dn.compact(e)};var Bn={formats:Kr,parse:kn,stringify:jn};var Vn=f((function(t,i){(function(r){var n=i&&!i.nodeType&&i;var e=t&&!t.nodeType&&t;var s=typeof h=="object"&&h;if(s.global===s||s.window===s||s.self===s){r=s}var a,u=2147483647,o=36,f=1,l=26,v=38,c=700,d=72,p=128,b="-",m=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=o-f,O=Math.floor,x=String.fromCharCode,E;function M(t){throw new RangeError(w[t])}function _(t,i){var r=t.length;var n=[];while(r--){n[r]=i(t[r])}return n}function j(t,i){var r=t.split("@");var n="";if(r.length>1){n=r[0]+"@";t=r[1]}t=t.replace(y,".");var e=t.split(".");var s=_(e,i).join(".");return n+s}function T(t){var i=[],r=0,n=t.length,e,s;while(r<n){e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<n){s=t.charCodeAt(r++);if((s&64512)==56320){i.push(((e&1023)<<10)+(s&1023)+65536)}else{i.push(e);r--}}else{i.push(e)}}return i}function S(t){return _(t,(function(t){var i="";if(t>65535){t-=65536;i+=x(t>>>10&1023|55296);t=56320|t&1023}i+=x(t);return i})).join("")}function I(t){if(t-48<10){return t-22}if(t-65<26){return t-65}if(t-97<26){return t-97}return o}function C(t,i){return t+22+75*(t<26)-((i!=0)<<5)}function P(t,i,r){var n=0;t=r?O(t/c):t>>1;t+=O(t/i);for(;t>A*l>>1;n+=o){t=O(t/A)}return O(n+(A+1)*t/(t+v))}function R(t){var i=[],r=t.length,n,e=0,s=p,a=d,h,v,c,m,g,y,w,A,x;h=t.lastIndexOf(b);if(h<0){h=0}for(v=0;v<h;++v){if(t.charCodeAt(v)>=128){M("not-basic")}i.push(t.charCodeAt(v))}for(c=h>0?h+1:0;c<r;){for(m=e,g=1,y=o;;y+=o){if(c>=r){M("invalid-input")}w=I(t.charCodeAt(c++));if(w>=o||w>O((u-e)/g)){M("overflow")}e+=w*g;A=y<=a?f:y>=a+l?l:y-a;if(w<A){break}x=o-A;if(g>O(u/x)){M("overflow")}g*=x}n=i.length+1;a=P(e-m,n,m==0);if(O(e/n)>u-s){M("overflow")}s+=O(e/n);e%=n;i.splice(e++,0,s)}return S(i)}function N(t){var i,r,n,e,s,a,h,v,c,m,g,y=[],w,A,E,_;t=T(t);w=t.length;i=p;r=0;s=d;for(a=0;a<w;++a){g=t[a];if(g<128){y.push(x(g))}}n=e=y.length;if(e){y.push(b)}while(n<w){for(h=u,a=0;a<w;++a){g=t[a];if(g>=i&&g<h){h=g}}A=n+1;if(h-i>O((u-r)/A)){M("overflow")}r+=(h-i)*A;i=h;for(a=0;a<w;++a){g=t[a];if(g<i&&++r>u){M("overflow")}if(g==i){for(v=r,c=o;;c+=o){m=c<=s?f:c>=s+l?l:c-s;if(v<m){break}_=v-m;E=o-m;y.push(x(C(m+_%E,0)));v=O(_/E)}y.push(x(C(v,0)));s=P(r,A,n==e);r=0;++n}}++r;++i}return y.join("")}function F(t){return j(t,(function(t){return m.test(t)?R(t.slice(4).toLowerCase()):t}))}function D(t){return j(t,(function(t){return g.test(t)?"xn--"+N(t):t}))}a={version:"1.4.1",ucs2:{decode:T,encode:S},decode:R,encode:N,toASCII:D,toUnicode:F};if(n&&e){if(t.exports==n){e.exports=a}else{for(E in a){a.hasOwnProperty(E)&&(n[E]=a[E])}}}else{r.punycode=a}})(h)}));function Wn(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var Gn=/^([a-z0-9.+-]+:)/i,zn=/:[0-9]*$/,Hn=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Xn=["<",">",'"',"`"," ","\r","\n","\t"],Yn=["{","}","|","\\","^","`"].concat(Xn),qn=["'"].concat(Yn),$n=["%","/","?",";","#"].concat(qn),Jn=["/","?","#"],Zn=255,Kn=/^[+a-z0-9A-Z_-]{0,63}$/,Qn=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,te={javascript:true,"javascript:":true},ie={javascript:true,"javascript:":true},re={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true};function ne(t,i,r){if(t&&typeof t==="object"&&t instanceof Wn){return t}var n=new Wn;n.parse(t,i,r);return n}Wn.prototype.parse=function(t,i,r){if(typeof t!=="string"){throw new TypeError("Parameter 'url' must be a string, not "+typeof t)}var n=t.indexOf("?"),e=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(e),a=/\\/g;s[0]=s[0].replace(a,"/");t=s.join(e);var u=t;u=u.trim();if(!r&&t.split("#").length===1){var o=Hn.exec(u);if(o){this.path=u;this.href=u;this.pathname=o[1];if(o[2]){this.search=o[2];if(i){this.query=Bn.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(i){this.search="";this.query={}}return this}}var h=Gn.exec(u);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f;u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@/]+@[^@/]+/)){var l=u.substr(0,2)==="//";if(l&&!(h&&ie[h])){u=u.substr(2);this.slashes=true}}if(!ie[h]&&(l||h&&!re[h])){var v=-1;for(var c=0;c<Jn.length;c++){var d=u.indexOf(Jn[c]);if(d!==-1&&(v===-1||d<v)){v=d}}var p,b;if(v===-1){b=u.lastIndexOf("@")}else{b=u.lastIndexOf("@",v)}if(b!==-1){p=u.slice(0,b);u=u.slice(b+1);this.auth=decodeURIComponent(p)}v=-1;for(var c=0;c<$n.length;c++){var d=u.indexOf($n[c]);if(d!==-1&&(v===-1||d<v)){v=d}}if(v===-1){v=u.length}this.host=u.slice(0,v);u=u.slice(v);this.parseHost();this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){var g=this.hostname.split(/\./);for(var c=0,y=g.length;c<y;c++){var w=g[c];if(!w){continue}if(!w.match(Kn)){var A="";for(var O=0,x=w.length;O<x;O++){if(w.charCodeAt(O)>127){A+="x"}else{A+=w[O]}}if(!A.match(Kn)){var E=g.slice(0,c);var M=g.slice(c+1);var _=w.match(Qn);if(_){E.push(_[1]);M.unshift(_[2])}if(M.length){u="/"+M.join(".")+u}this.hostname=E.join(".");break}}}}if(this.hostname.length>Zn){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!m){this.hostname=Vn.toASCII(this.hostname)}var j=this.port?":"+this.port:"";var T=this.hostname||"";this.host=T+j;this.href+=this.host;if(m){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(u[0]!=="/"){u="/"+u}}}if(!te[f]){for(var c=0,y=qn.length;c<y;c++){var S=qn[c];if(u.indexOf(S)===-1){continue}var I=encodeURIComponent(S);if(I===S){I=escape(S)}u=u.split(S).join(I)}}var C=u.indexOf("#");if(C!==-1){this.hash=u.substr(C);u=u.slice(0,C)}var P=u.indexOf("?");if(P!==-1){this.search=u.substr(P);this.query=u.substr(P+1);if(i){this.query=Bn.parse(this.query)}u=u.slice(0,P)}else if(i){this.search="";this.query={}}if(u){this.pathname=u}if(re[f]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var j=this.pathname||"";var R=this.search||"";this.path=j+R}this.href=this.format();return this};function ee(t){if(typeof t==="string"){t=ne(t)}if(!(t instanceof Wn)){return Wn.prototype.format.call(t)}return t.format()}Wn.prototype.format=function(){var t=this.auth||"";if(t){t=encodeURIComponent(t);t=t.replace(/%3A/i,":");t+="@"}var i=this.protocol||"",r=this.pathname||"",n=this.hash||"",e=false,s="";if(this.host){e=t+this.host}else if(this.hostname){e=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){e+=":"+this.port}}if(this.query&&typeof this.query==="object"&&Object.keys(this.query).length){s=Bn.stringify(this.query)}var a=this.search||s&&"?"+s||"";if(i&&i.substr(-1)!==":"){i+=":"}if(this.slashes||(!i||re[i])&&e!==false){e="//"+(e||"");if(r&&r.charAt(0)!=="/"){r="/"+r}}else if(!e){e=""}if(n&&n.charAt(0)!=="#"){n="#"+n}if(a&&a.charAt(0)!=="?"){a="?"+a}r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)}));a=a.replace("#","%23");return i+e+r+a+n};function se(t,i){return ne(t,false,true).resolve(i)}Wn.prototype.resolve=function(t){return this.resolveObject(ne(t,false,true)).format()};function ae(t,i){if(!t){return i}return ne(t,false,true).resolveObject(i)}Wn.prototype.resolveObject=function(t){if(typeof t==="string"){var i=new Wn;i.parse(t,false,true);t=i}var r=new Wn;var n=Object.keys(this);for(var e=0;e<n.length;e++){var s=n[e];r[s]=this[s]}r.hash=t.hash;if(t.href===""){r.href=r.format();return r}if(t.slashes&&!t.protocol){var a=Object.keys(t);for(var u=0;u<a.length;u++){var o=a[u];if(o!=="protocol"){r[o]=t[o]}}if(re[r.protocol]&&r.hostname&&!r.pathname){r.pathname="/";r.path=r.pathname}r.href=r.format();return r}if(t.protocol&&t.protocol!==r.protocol){if(!re[t.protocol]){var h=Object.keys(t);for(var f=0;f<h.length;f++){var l=h[f];r[l]=t[l]}r.href=r.format();return r}r.protocol=t.protocol;if(!t.host&&!ie[t.protocol]){var v=(t.pathname||"").split("/");while(v.length&&!(t.host=v.shift())){}if(!t.host){t.host=""}if(!t.hostname){t.hostname=""}if(v[0]!==""){v.unshift("")}if(v.length<2){v.unshift("")}r.pathname=v.join("/")}else{r.pathname=t.pathname}r.search=t.search;r.query=t.query;r.host=t.host||"";r.auth=t.auth;r.hostname=t.hostname||t.host;r.port=t.port;if(r.pathname||r.search){var c=r.pathname||"";var d=r.search||"";r.path=c+d}r.slashes=r.slashes||t.slashes;r.href=r.format();return r}var p=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=b||p||r.host&&t.pathname,g=m,y=r.pathname&&r.pathname.split("/")||[],v=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!re[r.protocol];if(w){r.hostname="";r.port=null;if(r.host){if(y[0]===""){y[0]=r.host}else{y.unshift(r.host)}}r.host="";if(t.protocol){t.hostname=null;t.port=null;if(t.host){if(v[0]===""){v[0]=t.host}else{v.unshift(t.host)}}t.host=null}m=m&&(v[0]===""||y[0]==="")}if(b){r.host=t.host||t.host===""?t.host:r.host;r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname;r.search=t.search;r.query=t.query;y=v}else if(v.length){if(!y){y=[]}y.pop();y=y.concat(v);r.search=t.search;r.query=t.query}else if(t.search!=null){if(w){r.host=y.shift();r.hostname=r.host;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(A){r.auth=A.shift();r.hostname=A.shift();r.host=r.hostname}}r.search=t.search;r.query=t.query;if(r.pathname!==null||r.search!==null){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!y.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var O=y.slice(-1)[0];var x=(r.host||t.host||y.length>1)&&(O==="."||O==="..")||O==="";var E=0;for(var M=y.length;M>=0;M--){O=y[M];if(O==="."){y.splice(M,1)}else if(O===".."){y.splice(M,1);E++}else if(E){y.splice(M,1);E--}}if(!m&&!g){for(;E--;E){y.unshift("..")}}if(m&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")){y.unshift("")}if(x&&y.join("/").substr(-1)!=="/"){y.push("")}var _=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(w){r.hostname=_?"":y.length?y.shift():"";r.host=r.hostname;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(A){r.auth=A.shift();r.hostname=A.shift();r.host=r.hostname}}m=m||r.host&&y.length;if(m&&!_){y.unshift("")}if(y.length>0){r.pathname=y.join("/")}else{r.pathname=null;r.path=null}if(r.pathname!==null||r.search!==null){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=t.auth||r.auth;r.slashes=r.slashes||t.slashes;r.href=r.format();return r};Wn.prototype.parseHost=function(){var t=this.host;var i=zn.exec(t);if(i){i=i[0];if(i!==":"){this.port=i.substr(1)}t=t.substr(0,t.length-i.length)}if(t){this.hostname=t}};var ue=ne;var oe=se;var he=ae;var fe=ee;var le=Wn;var ve={parse:ue,resolve:oe,resolveObject:he,format:fe,Url:le};
/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ce;(function(t){t[t["WEBGL_LEGACY"]=0]="WEBGL_LEGACY";t[t["WEBGL"]=1]="WEBGL";t[t["WEBGL2"]=2]="WEBGL2"})(ce||(ce={}));var de;(function(t){t[t["UNKNOWN"]=0]="UNKNOWN";t[t["WEBGL"]=1]="WEBGL";t[t["CANVAS"]=2]="CANVAS"})(de||(de={}));var pe;(function(t){t[t["COLOR"]=16384]="COLOR";t[t["DEPTH"]=256]="DEPTH";t[t["STENCIL"]=1024]="STENCIL"})(pe||(pe={}));var be;(function(t){t[t["NORMAL"]=0]="NORMAL";t[t["ADD"]=1]="ADD";t[t["MULTIPLY"]=2]="MULTIPLY";t[t["SCREEN"]=3]="SCREEN";t[t["OVERLAY"]=4]="OVERLAY";t[t["DARKEN"]=5]="DARKEN";t[t["LIGHTEN"]=6]="LIGHTEN";t[t["COLOR_DODGE"]=7]="COLOR_DODGE";t[t["COLOR_BURN"]=8]="COLOR_BURN";t[t["HARD_LIGHT"]=9]="HARD_LIGHT";t[t["SOFT_LIGHT"]=10]="SOFT_LIGHT";t[t["DIFFERENCE"]=11]="DIFFERENCE";t[t["EXCLUSION"]=12]="EXCLUSION";t[t["HUE"]=13]="HUE";t[t["SATURATION"]=14]="SATURATION";t[t["COLOR"]=15]="COLOR";t[t["LUMINOSITY"]=16]="LUMINOSITY";t[t["NORMAL_NPM"]=17]="NORMAL_NPM";t[t["ADD_NPM"]=18]="ADD_NPM";t[t["SCREEN_NPM"]=19]="SCREEN_NPM";t[t["NONE"]=20]="NONE";t[t["SRC_OVER"]=0]="SRC_OVER";t[t["SRC_IN"]=21]="SRC_IN";t[t["SRC_OUT"]=22]="SRC_OUT";t[t["SRC_ATOP"]=23]="SRC_ATOP";t[t["DST_OVER"]=24]="DST_OVER";t[t["DST_IN"]=25]="DST_IN";t[t["DST_OUT"]=26]="DST_OUT";t[t["DST_ATOP"]=27]="DST_ATOP";t[t["ERASE"]=26]="ERASE";t[t["SUBTRACT"]=28]="SUBTRACT";t[t["XOR"]=29]="XOR"})(be||(be={}));var me;(function(t){t[t["POINTS"]=0]="POINTS";t[t["LINES"]=1]="LINES";t[t["LINE_LOOP"]=2]="LINE_LOOP";t[t["LINE_STRIP"]=3]="LINE_STRIP";t[t["TRIANGLES"]=4]="TRIANGLES";t[t["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP";t[t["TRIANGLE_FAN"]=6]="TRIANGLE_FAN"})(me||(me={}));var ge;(function(t){t[t["RGBA"]=6408]="RGBA";t[t["RGB"]=6407]="RGB";t[t["ALPHA"]=6406]="ALPHA";t[t["LUMINANCE"]=6409]="LUMINANCE";t[t["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA";t[t["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT";t[t["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL"})(ge||(ge={}));var ye;(function(t){t[t["TEXTURE_2D"]=3553]="TEXTURE_2D";t[t["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP";t[t["TEXTURE_2D_ARRAY"]=35866]="TEXTURE_2D_ARRAY";t[t["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";t[t["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";t[t["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";t[t["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ye||(ye={}));var we;(function(t){t[t["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE";t[t["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT";t[t["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5";t[t["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4";t[t["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1";t[t["FLOAT"]=5126]="FLOAT";t[t["HALF_FLOAT"]=36193]="HALF_FLOAT"})(we||(we={}));var Ae;(function(t){t[t["NEAREST"]=0]="NEAREST";t[t["LINEAR"]=1]="LINEAR"})(Ae||(Ae={}));var Oe;(function(t){t[t["CLAMP"]=33071]="CLAMP";t[t["REPEAT"]=10497]="REPEAT";t[t["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT"})(Oe||(Oe={}));var xe;(function(t){t[t["OFF"]=0]="OFF";t[t["POW2"]=1]="POW2";t[t["ON"]=2]="ON"})(xe||(xe={}));var Ee;(function(t){t[t["NPM"]=0]="NPM";t[t["UNPACK"]=1]="UNPACK";t[t["PMA"]=2]="PMA";t[t["NO_PREMULTIPLIED_ALPHA"]=0]="NO_PREMULTIPLIED_ALPHA";t[t["PREMULTIPLY_ON_UPLOAD"]=1]="PREMULTIPLY_ON_UPLOAD";t[t["PREMULTIPLY_ALPHA"]=2]="PREMULTIPLY_ALPHA"})(Ee||(Ee={}));var Me;(function(t){t[t["NO"]=0]="NO";t[t["YES"]=1]="YES";t[t["AUTO"]=2]="AUTO";t[t["BLEND"]=0]="BLEND";t[t["CLEAR"]=1]="CLEAR";t[t["BLIT"]=2]="BLIT"})(Me||(Me={}));var _e;(function(t){t[t["AUTO"]=0]="AUTO";t[t["MANUAL"]=1]="MANUAL"})(_e||(_e={}));var je;(function(t){t["LOW"]="lowp";t["MEDIUM"]="mediump";t["HIGH"]="highp"})(je||(je={}));var Te;(function(t){t[t["NONE"]=0]="NONE";t[t["SCISSOR"]=1]="SCISSOR";t[t["STENCIL"]=2]="STENCIL";t[t["SPRITE"]=3]="SPRITE"})(Te||(Te={}));var Se;(function(t){t[t["NONE"]=0]="NONE";t[t["LOW"]=2]="LOW";t[t["MEDIUM"]=4]="MEDIUM";t[t["HIGH"]=8]="HIGH"})(Se||(Se={}));
/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Y.RETINA_PREFIX=/@([0-9\.]+)x/;Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=true;var Ie=false;var Ce="5.3.12";function Pe(t){var i;if(Ie){return}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+Ce+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(i=window.console).log.apply(i,r)}else if(window.console){window.console.log("PixiJS "+Ce+" - "+t+" - http://www.pixijs.com/")}Ie=true}var Re;function Ne(){if(typeof Re==="undefined"){Re=function t(){var i={stencil:true,failIfMajorPerformanceCaveat:Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext){return false}var r=document.createElement("canvas");var n=r.getContext("webgl",i)||r.getContext("experimental-webgl",i);var e=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");if(s){s.loseContext()}}n=null;return e}catch(t){return false}}()}return Re}function Fe(t,i){if(i===void 0){i=[]}i[0]=(t>>16&255)/255;i[1]=(t>>8&255)/255;i[2]=(t&255)/255;return i}function De(t){var i=t.toString(16);i="000000".substr(0,6-i.length)+i;return"#"+i}function Le(t){if(typeof t==="string"&&t[0]==="#"){t=t.substr(1)}return parseInt(t,16)}function Ue(){var t=[];var i=[];for(var r=0;r<32;r++){t[r]=r;i[r]=r}t[be.NORMAL_NPM]=be.NORMAL;t[be.ADD_NPM]=be.ADD;t[be.SCREEN_NPM]=be.SCREEN;i[be.NORMAL]=be.NORMAL_NPM;i[be.ADD]=be.ADD_NPM;i[be.SCREEN]=be.SCREEN_NPM;var n=[];n.push(i);n.push(t);return n}var ke=Ue();function Be(t,i){return ke[i?1:0][t]}function Ve(t,i,r,n){r=r||new Float32Array(4);if(n||n===undefined){r[0]=t[0]*i;r[1]=t[1]*i;r[2]=t[2]*i}else{r[0]=t[0];r[1]=t[1];r[2]=t[2]}r[3]=i;return r}function We(t,i){if(i===1){return(i*255<<24)+t}if(i===0){return 0}var r=t>>16&255;var n=t>>8&255;var e=t&255;r=r*i+.5|0;n=n*i+.5|0;e=e*i+.5|0;return(i*255<<24)+(r<<16)+(n<<8)+e}function Ge(t,i,r,n){r=r||new Float32Array(4);r[0]=(t>>16&255)/255;r[1]=(t>>8&255)/255;r[2]=(t&255)/255;if(n||n===undefined){r[0]*=i;r[1]*=i;r[2]*=i}r[3]=i;return r}function ze(t,i){if(i===void 0){i=null}var r=t*6;i=i||new Uint16Array(r);if(i.length!==r){throw new Error("Out buffer length is incorrect, got "+i.length+" and expected "+r)}for(var n=0,e=0;n<r;n+=6,e+=4){i[n+0]=e+0;i[n+1]=e+1;i[n+2]=e+2;i[n+3]=e+0;i[n+4]=e+2;i[n+5]=e+3}return i}function He(t){t+=t===0?1:0;--t;t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t+1}function Xe(t){return!(t&t-1)&&!!t}function Ye(t){var i=(t>65535?1:0)<<4;t>>>=i;var r=(t>255?1:0)<<3;t>>>=r;i|=r;r=(t>15?1:0)<<2;t>>>=r;i|=r;r=(t>3?1:0)<<1;t>>>=r;i|=r;return i|t>>1}function qe(t,i,r){var n=t.length;var e;if(i>=n||r===0){return}r=i+r>n?n-i:r;var s=n-r;for(e=i;e<s;++e){t[e]=t[e+r]}t.length=s}function $e(t){if(t===0){return 0}return t<0?-1:1}var Je=0;function Ze(){return++Je}var Ke={};function Qe(t,i,r){if(r===void 0){r=3}if(Ke[i]){return}var n=(new Error).stack;if(typeof n==="undefined"){console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+t)}else{n=n.split("\n").splice(r).join("\n");if(console.groupCollapsed){console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i+"\nDeprecated since v"+t);console.warn(n);console.groupEnd()}else{console.warn("PixiJS Deprecation Warning: ",i+"\nDeprecated since v"+t);console.warn(n)}}Ke[i]=true}var ts={};var is=Object.create(null);var rs=Object.create(null);var ns=function(){function t(t,i,r){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=r||Y.RESOLUTION;this.resize(t,i)}t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};t.prototype.resize=function(t,i){this.canvas.width=t*this.resolution;this.canvas.height=i*this.resolution};t.prototype.destroy=function(){this.context=null;this.canvas=null};Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:false,configurable:true});return t}();function es(t){var i=t.width;var r=t.height;var n=t.getContext("2d");var e=n.getImageData(0,0,i,r);var s=e.data;var a=s.length;var u={top:null,left:null,right:null,bottom:null};var o=null;var h;var f;var l;for(h=0;h<a;h+=4){if(s[h+3]!==0){f=h/4%i;l=~~(h/4/i);if(u.top===null){u.top=l}if(u.left===null){u.left=f}else if(f<u.left){u.left=f}if(u.right===null){u.right=f+1}else if(u.right<f){u.right=f+1}if(u.bottom===null){u.bottom=l}else if(u.bottom<l){u.bottom=l}}}if(u.top!==null){i=u.right-u.left;r=u.bottom-u.top+1;o=n.getImageData(u.left,u.top,i,r)}return{height:r,width:i,data:o}}var ss;function as(t,i){if(i===void 0){i=window.location}if(t.indexOf("data:")===0){return""}i=i||window.location;if(!ss){ss=document.createElement("a")}ss.href=t;var r=ue(ss.href);var n=!r.port&&i.port===""||r.port===i.port;if(r.hostname!==i.hostname||!n||r.protocol!==i.protocol){return"anonymous"}return""}function us(t,i){var r=Y.RETINA_PREFIX.exec(t);if(r){return parseFloat(r[1])}return i!==undefined?i:1}
/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var os=Math.PI*2;var hs=180/Math.PI;var fs=Math.PI/180;var ls;(function(t){t[t["POLY"]=0]="POLY";t[t["RECT"]=1]="RECT";t[t["CIRC"]=2]="CIRC";t[t["ELIP"]=3]="ELIP";t[t["RREC"]=4]="RREC"})(ls||(ls={}));var vs=function(){function t(t,i,r,n){if(t===void 0){t=0}if(i===void 0){i=0}if(r===void 0){r=0}if(n===void 0){n=0}this.x=Number(t);this.y=Number(i);this.width=Number(r);this.height=Number(n);this.type=ls.RECT}Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:false,configurable:true});Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:false,configurable:true});t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.copyFrom=function(t){this.x=t.x;this.y=t.y;this.width=t.width;this.height=t.height;return this};t.prototype.copyTo=function(t){t.x=this.x;t.y=this.y;t.width=this.width;t.height=this.height;return t};t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0){return false}if(t>=this.x&&t<this.x+this.width){if(i>=this.y&&i<this.y+this.height){return true}}return false};t.prototype.pad=function(t,i){if(t===void 0){t=0}if(i===void 0){i=t}this.x-=t;this.y-=i;this.width+=t*2;this.height+=i*2;return this};t.prototype.fit=function(t){var i=Math.max(this.x,t.x);var r=Math.min(this.x+this.width,t.x+t.width);var n=Math.max(this.y,t.y);var e=Math.min(this.y+this.height,t.y+t.height);this.x=i;this.width=Math.max(r-i,0);this.y=n;this.height=Math.max(e-n,0);return this};t.prototype.ceil=function(t,i){if(t===void 0){t=1}if(i===void 0){i=.001}var r=Math.ceil((this.x+this.width-i)*t)/t;var n=Math.ceil((this.y+this.height-i)*t)/t;this.x=Math.floor((this.x+i)*t)/t;this.y=Math.floor((this.y+i)*t)/t;this.width=r-this.x;this.height=n-this.y;return this};t.prototype.enlarge=function(t){var i=Math.min(this.x,t.x);var r=Math.max(this.x+this.width,t.x+t.width);var n=Math.min(this.y,t.y);var e=Math.max(this.y+this.height,t.y+t.height);this.x=i;this.width=r-i;this.y=n;this.height=e-n;return this};return t}();var cs=function(){function t(t,i,r){if(t===void 0){t=0}if(i===void 0){i=0}if(r===void 0){r=0}this.x=t;this.y=i;this.radius=r;this.type=ls.CIRC}t.prototype.clone=function(){return new t(this.x,this.y,this.radius)};t.prototype.contains=function(t,i){if(this.radius<=0){return false}var r=this.radius*this.radius;var n=this.x-t;var e=this.y-i;n*=n;e*=e;return n+e<=r};t.prototype.getBounds=function(){return new vs(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return t}();var ds=function(){function t(t,i,r,n){if(t===void 0){t=0}if(i===void 0){i=0}if(r===void 0){r=0}if(n===void 0){n=0}this.x=t;this.y=i;this.width=r;this.height=n;this.type=ls.ELIP}t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0){return false}var r=(t-this.x)/this.width;var n=(i-this.y)/this.height;r*=r;n*=n;return r+n<=1};t.prototype.getBounds=function(){return new vs(this.x-this.width,this.y-this.height,this.width,this.height)};return t}();var ps=function(){function t(){var t=arguments;var i=[];for(var r=0;r<arguments.length;r++){i[r]=t[r]}var n=Array.isArray(i[0])?i[0]:i;if(typeof n[0]!=="number"){var e=[];for(var s=0,a=n.length;s<a;s++){e.push(n[s].x,n[s].y)}n=e}this.points=n;this.type=ls.POLY;this.closeStroke=true}t.prototype.clone=function(){var i=this.points.slice();var r=new t(i);r.closeStroke=this.closeStroke;return r};t.prototype.contains=function(t,i){var r=false;var n=this.points.length/2;for(var e=0,s=n-1;e<n;s=e++){var a=this.points[e*2];var u=this.points[e*2+1];var o=this.points[s*2];var h=this.points[s*2+1];var f=u>i!==h>i&&t<(o-a)*((i-u)/(h-u))+a;if(f){r=!r}}return r};return t}();var bs=function(){function t(t,i,r,n,e){if(t===void 0){t=0}if(i===void 0){i=0}if(r===void 0){r=0}if(n===void 0){n=0}if(e===void 0){e=20}this.x=t;this.y=i;this.width=r;this.height=n;this.radius=e;this.type=ls.RREC}t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)};t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0){return false}if(t>=this.x&&t<=this.x+this.width){if(i>=this.y&&i<=this.y+this.height){if(i>=this.y+this.radius&&i<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius){return true}var r=t-(this.x+this.radius);var n=i-(this.y+this.radius);var e=this.radius*this.radius;if(r*r+n*n<=e){return true}r=t-(this.x+this.width-this.radius);if(r*r+n*n<=e){return true}n=i-(this.y+this.height-this.radius);if(r*r+n*n<=e){return true}r=t-(this.x+this.radius);if(r*r+n*n<=e){return true}}}return false};return t}();var ms=function(){function t(t,i){if(t===void 0){t=0}if(i===void 0){i=0}this.x=t;this.y=i}t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.copyFrom=function(t){this.set(t.x,t.y);return this};t.prototype.copyTo=function(t){t.set(this.x,this.y);return t};t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y};t.prototype.set=function(t,i){if(t===void 0){t=0}if(i===void 0){i=t}this.x=t;this.y=i;return this};return t}();var gs=function(){function t(t,i,r,n){if(r===void 0){r=0}if(n===void 0){n=0}this._x=r;this._y=n;this.cb=t;this.scope=i}t.prototype.clone=function(i,r){if(i===void 0){i=this.cb}if(r===void 0){r=this.scope}return new t(i,r,this._x,this._y)};t.prototype.set=function(t,i){if(t===void 0){t=0}if(i===void 0){i=t}if(this._x!==t||this._y!==i){this._x=t;this._y=i;this.cb.call(this.scope)}return this};t.prototype.copyFrom=function(t){if(this._x!==t.x||this._y!==t.y){this._x=t.x;this._y=t.y;this.cb.call(this.scope)}return this};t.prototype.copyTo=function(t){t.set(this._x,this._y);return t};t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y};Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){if(this._x!==t){this._x=t;this.cb.call(this.scope)}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){if(this._y!==t){this._y=t;this.cb.call(this.scope)}},enumerable:false,configurable:true});return t}();var ys=function(){function t(t,i,r,n,e,s){if(t===void 0){t=1}if(i===void 0){i=0}if(r===void 0){r=0}if(n===void 0){n=1}if(e===void 0){e=0}if(s===void 0){s=0}this.array=null;this.a=t;this.b=i;this.c=r;this.d=n;this.tx=e;this.ty=s}t.prototype.fromArray=function(t){this.a=t[0];this.b=t[1];this.c=t[3];this.d=t[4];this.tx=t[2];this.ty=t[5]};t.prototype.set=function(t,i,r,n,e,s){this.a=t;this.b=i;this.c=r;this.d=n;this.tx=e;this.ty=s;return this};t.prototype.toArray=function(t,i){if(!this.array){this.array=new Float32Array(9)}var r=i||this.array;if(t){r[0]=this.a;r[1]=this.b;r[2]=0;r[3]=this.c;r[4]=this.d;r[5]=0;r[6]=this.tx;r[7]=this.ty;r[8]=1}else{r[0]=this.a;r[1]=this.c;r[2]=this.tx;r[3]=this.b;r[4]=this.d;r[5]=this.ty;r[6]=0;r[7]=0;r[8]=1}return r};t.prototype.apply=function(t,i){i=i||new ms;var r=t.x;var n=t.y;i.x=this.a*r+this.c*n+this.tx;i.y=this.b*r+this.d*n+this.ty;return i};t.prototype.applyInverse=function(t,i){i=i||new ms;var r=1/(this.a*this.d+this.c*-this.b);var n=t.x;var e=t.y;i.x=this.d*r*n+-this.c*r*e+(this.ty*this.c-this.tx*this.d)*r;i.y=this.a*r*e+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r;return i};t.prototype.translate=function(t,i){this.tx+=t;this.ty+=i;return this};t.prototype.scale=function(t,i){this.a*=t;this.d*=i;this.c*=t;this.b*=i;this.tx*=t;this.ty*=i;return this};t.prototype.rotate=function(t){var i=Math.cos(t);var r=Math.sin(t);var n=this.a;var e=this.c;var s=this.tx;this.a=n*i-this.b*r;this.b=n*r+this.b*i;this.c=e*i-this.d*r;this.d=e*r+this.d*i;this.tx=s*i-this.ty*r;this.ty=s*r+this.ty*i;return this};t.prototype.append=function(t){var i=this.a;var r=this.b;var n=this.c;var e=this.d;this.a=t.a*i+t.b*n;this.b=t.a*r+t.b*e;this.c=t.c*i+t.d*n;this.d=t.c*r+t.d*e;this.tx=t.tx*i+t.ty*n+this.tx;this.ty=t.tx*r+t.ty*e+this.ty;return this};t.prototype.setTransform=function(t,i,r,n,e,s,a,u,o){this.a=Math.cos(a+o)*e;this.b=Math.sin(a+o)*e;this.c=-Math.sin(a-u)*s;this.d=Math.cos(a-u)*s;this.tx=t-(r*this.a+n*this.c);this.ty=i-(r*this.b+n*this.d);return this};t.prototype.prepend=function(t){var i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a;var n=this.c;this.a=r*t.a+this.b*t.c;this.b=r*t.b+this.b*t.d;this.c=n*t.a+this.d*t.c;this.d=n*t.b+this.d*t.d}this.tx=i*t.a+this.ty*t.c+t.tx;this.ty=i*t.b+this.ty*t.d+t.ty;return this};t.prototype.decompose=function(t){var i=this.a;var r=this.b;var n=this.c;var e=this.d;var s=-Math.atan2(-n,e);var a=Math.atan2(r,i);var u=Math.abs(s+a);if(u<1e-5||Math.abs(os-u)<1e-5){t.rotation=a;t.skew.x=t.skew.y=0}else{t.rotation=0;t.skew.x=s;t.skew.y=a}t.scale.x=Math.sqrt(i*i+r*r);t.scale.y=Math.sqrt(n*n+e*e);t.position.x=this.tx;t.position.y=this.ty;return t};t.prototype.invert=function(){var t=this.a;var i=this.b;var r=this.c;var n=this.d;var e=this.tx;var s=t*n-i*r;this.a=n/s;this.b=-i/s;this.c=-r/s;this.d=t/s;this.tx=(r*this.ty-n*e)/s;this.ty=-(t*this.ty-i*e)/s;return this};t.prototype.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};t.prototype.clone=function(){var i=new t;i.a=this.a;i.b=this.b;i.c=this.c;i.d=this.d;i.tx=this.tx;i.ty=this.ty;return i};t.prototype.copyTo=function(t){t.a=this.a;t.b=this.b;t.c=this.c;t.d=this.d;t.tx=this.tx;t.ty=this.ty;return t};t.prototype.copyFrom=function(t){this.a=t.a;this.b=t.b;this.c=t.c;this.d=t.d;this.tx=t.tx;this.ty=t.ty;return this};Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:false,configurable:true});Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:false,configurable:true});return t}();var ws=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1];var As=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1];var Os=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1];var xs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1];var Es=[];var Ms=[];var _s=Math.sign;function js(){for(var t=0;t<16;t++){var i=[];Es.push(i);for(var r=0;r<16;r++){var n=_s(ws[t]*ws[r]+Os[t]*As[r]);var e=_s(As[t]*ws[r]+xs[t]*As[r]);var s=_s(ws[t]*Os[r]+Os[t]*xs[r]);var a=_s(As[t]*Os[r]+xs[t]*xs[r]);for(var u=0;u<16;u++){if(ws[u]===n&&As[u]===e&&Os[u]===s&&xs[u]===a){i.push(u);break}}}}for(var t=0;t<16;t++){var o=new ys;o.set(ws[t],As[t],Os[t],xs[t],0,0);Ms.push(o)}}js();var Ts={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ws[t]},uY:function(t){return As[t]},vX:function(t){return Os[t]},vY:function(t){return xs[t]},inv:function(t){if(t&8){return t&15}return-t&7},add:function(t,i){return Es[t][i]},sub:function(t,i){return Es[t][Ts.inv(i)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,i){if(Math.abs(t)*2<=Math.abs(i)){if(i>=0){return Ts.S}return Ts.N}else if(Math.abs(i)*2<=Math.abs(t)){if(t>0){return Ts.E}return Ts.W}else if(i>0){if(t>0){return Ts.SE}return Ts.SW}else if(t>0){return Ts.NE}return Ts.NW},matrixAppendRotationInv:function(t,i,r,n){if(r===void 0){r=0}if(n===void 0){n=0}var e=Ms[Ts.inv(i)];e.tx=r;e.ty=n;t.append(e)}};var Ss=function(){function t(){this.worldTransform=new ys;this.localTransform=new ys;this.position=new gs(this.onChange,this,0,0);this.scale=new gs(this.onChange,this,1,1);this.pivot=new gs(this.onChange,this,0,0);this.skew=new gs(this.updateSkew,this,0,0);this._rotation=0;this._cx=1;this._sx=0;this._cy=0;this._sy=1;this._localID=0;this._currentLocalID=0;this._worldID=0;this._parentID=0}t.prototype.onChange=function(){this._localID++};t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y);this._sx=Math.sin(this._rotation+this.skew.y);this._cy=-Math.sin(this._rotation-this.skew.x);this._sy=Math.cos(this._rotation-this.skew.x);this._localID++};t.prototype.updateLocalTransform=function(){var t=this.localTransform;if(this._localID!==this._currentLocalID){t.a=this._cx*this.scale.x;t.b=this._sx*this.scale.x;t.c=this._cy*this.scale.y;t.d=this._sy*this.scale.y;t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c);t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);this._currentLocalID=this._localID;this._parentID=-1}};t.prototype.updateTransform=function(t){var i=this.localTransform;if(this._localID!==this._currentLocalID){i.a=this._cx*this.scale.x;i.b=this._sx*this.scale.x;i.c=this._cy*this.scale.y;i.d=this._sy*this.scale.y;i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c);i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d);this._currentLocalID=this._localID;this._parentID=-1}if(this._parentID!==t._worldID){var r=t.worldTransform;var n=this.worldTransform;n.a=i.a*r.a+i.b*r.c;n.b=i.a*r.b+i.b*r.d;n.c=i.c*r.a+i.d*r.c;n.d=i.c*r.b+i.d*r.d;n.tx=i.tx*r.a+i.ty*r.c+r.tx;n.ty=i.tx*r.b+i.ty*r.d+r.ty;this._parentID=t._worldID;this._worldID++}};t.prototype.setFromMatrix=function(t){t.decompose(this);this._localID++};Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){if(this._rotation!==t){this._rotation=t;this.updateSkew()}},enumerable:false,configurable:true});t.IDENTITY=new t;return t}();
/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Y.SORTABLE_CHILDREN=false;var Is=function(){function t(){this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity;this.rect=null;this.updateID=-1}t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};t.prototype.clear=function(){this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity};t.prototype.getRectangle=function(t){if(this.minX>this.maxX||this.minY>this.maxY){return vs.EMPTY}t=t||new vs(0,0,1,1);t.x=this.minX;t.y=this.minY;t.width=this.maxX-this.minX;t.height=this.maxY-this.minY;return t};t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x);this.maxX=Math.max(this.maxX,t.x);this.minY=Math.min(this.minY,t.y);this.maxY=Math.max(this.maxY,t.y)};t.prototype.addQuad=function(t){var i=this.minX;var r=this.minY;var n=this.maxX;var e=this.maxY;var s=t[0];var a=t[1];i=s<i?s:i;r=a<r?a:r;n=s>n?s:n;e=a>e?a:e;s=t[2];a=t[3];i=s<i?s:i;r=a<r?a:r;n=s>n?s:n;e=a>e?a:e;s=t[4];a=t[5];i=s<i?s:i;r=a<r?a:r;n=s>n?s:n;e=a>e?a:e;s=t[6];a=t[7];i=s<i?s:i;r=a<r?a:r;n=s>n?s:n;e=a>e?a:e;this.minX=i;this.minY=r;this.maxX=n;this.maxY=e};t.prototype.addFrame=function(t,i,r,n,e){this.addFrameMatrix(t.worldTransform,i,r,n,e)};t.prototype.addFrameMatrix=function(t,i,r,n,e){var s=t.a;var a=t.b;var u=t.c;var o=t.d;var h=t.tx;var f=t.ty;var l=this.minX;var v=this.minY;var c=this.maxX;var d=this.maxY;var p=s*i+u*r+h;var b=a*i+o*r+f;l=p<l?p:l;v=b<v?b:v;c=p>c?p:c;d=b>d?b:d;p=s*n+u*r+h;b=a*n+o*r+f;l=p<l?p:l;v=b<v?b:v;c=p>c?p:c;d=b>d?b:d;p=s*i+u*e+h;b=a*i+o*e+f;l=p<l?p:l;v=b<v?b:v;c=p>c?p:c;d=b>d?b:d;p=s*n+u*e+h;b=a*n+o*e+f;l=p<l?p:l;v=b<v?b:v;c=p>c?p:c;d=b>d?b:d;this.minX=l;this.minY=v;this.maxX=c;this.maxY=d};t.prototype.addVertexData=function(t,i,r){var n=this.minX;var e=this.minY;var s=this.maxX;var a=this.maxY;for(var u=i;u<r;u+=2){var o=t[u];var h=t[u+1];n=o<n?o:n;e=h<e?h:e;s=o>s?o:s;a=h>a?h:a}this.minX=n;this.minY=e;this.maxX=s;this.maxY=a};t.prototype.addVertices=function(t,i,r,n){this.addVerticesMatrix(t.worldTransform,i,r,n)};t.prototype.addVerticesMatrix=function(t,i,r,n,e,s){if(e===void 0){e=0}if(s===void 0){s=e}var a=t.a;var u=t.b;var o=t.c;var h=t.d;var f=t.tx;var l=t.ty;var v=this.minX;var c=this.minY;var d=this.maxX;var p=this.maxY;for(var b=r;b<n;b+=2){var m=i[b];var g=i[b+1];var y=a*m+o*g+f;var w=h*g+u*m+l;v=Math.min(v,y-e);d=Math.max(d,y+e);c=Math.min(c,w-s);p=Math.max(p,w+s)}this.minX=v;this.minY=c;this.maxX=d;this.maxY=p};t.prototype.addBounds=function(t){var i=this.minX;var r=this.minY;var n=this.maxX;var e=this.maxY;this.minX=t.minX<i?t.minX:i;this.minY=t.minY<r?t.minY:r;this.maxX=t.maxX>n?t.maxX:n;this.maxY=t.maxY>e?t.maxY:e};t.prototype.addBoundsMask=function(t,i){var r=t.minX>i.minX?t.minX:i.minX;var n=t.minY>i.minY?t.minY:i.minY;var e=t.maxX<i.maxX?t.maxX:i.maxX;var s=t.maxY<i.maxY?t.maxY:i.maxY;if(r<=e&&n<=s){var a=this.minX;var u=this.minY;var o=this.maxX;var h=this.maxY;this.minX=r<a?r:a;this.minY=n<u?n:u;this.maxX=e>o?e:o;this.maxY=s>h?s:h}};t.prototype.addBoundsMatrix=function(t,i){this.addFrameMatrix(i,t.minX,t.minY,t.maxX,t.maxY)};t.prototype.addBoundsArea=function(t,i){var r=t.minX>i.x?t.minX:i.x;var n=t.minY>i.y?t.minY:i.y;var e=t.maxX<i.x+i.width?t.maxX:i.x+i.width;var s=t.maxY<i.y+i.height?t.maxY:i.y+i.height;if(r<=e&&n<=s){var a=this.minX;var u=this.minY;var o=this.maxX;var h=this.maxY;this.minX=r<a?r:a;this.minY=n<u?n:u;this.maxX=e>o?e:o;this.maxY=s>h?s:h}};t.prototype.pad=function(t,i){if(t===void 0){t=0}if(i===void 0){i=t}if(!this.isEmpty()){this.minX-=t;this.maxX+=t;this.minY-=i;this.maxY+=i}};t.prototype.addFramePad=function(t,i,r,n,e,s){t-=e;i-=s;r+=e;n+=s;this.minX=this.minX<t?this.minX:t;this.maxX=this.maxX>r?this.maxX:r;this.minY=this.minY<i?this.minY:i;this.maxY=this.maxY>n?this.maxY:n};return t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cs=function(t,i){Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Cs(t,i)};function Ps(t,i){Cs(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Rs=function(t){Ps(i,t);function i(){var i=t.call(this)||this;i.tempDisplayObjectParent=null;i.transform=new Ss;i.alpha=1;i.visible=true;i.renderable=true;i.parent=null;i.worldAlpha=1;i._lastSortedIndex=0;i._zIndex=0;i.filterArea=null;i.filters=null;i._enabledFilters=null;i._bounds=new Is;i._localBounds=null;i._boundsID=0;i._boundsRect=null;i._localBoundsRect=null;i._mask=null;i._destroyed=false;i.isSprite=false;i.isMask=false;return i}i.mixin=function(t){var r=Object.keys(t);for(var n=0;n<r.length;++n){var e=r[n];Object.defineProperty(i.prototype,e,Object.getOwnPropertyDescriptor(t,e))}};i.prototype._recursivePostUpdateTransform=function(){if(this.parent){this.parent._recursivePostUpdateTransform();this.transform.updateTransform(this.parent.transform)}else{this.transform.updateTransform(this._tempDisplayObjectParent.transform)}};i.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha};i.prototype.getBounds=function(t,i){if(!t){if(!this.parent){this.parent=this._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this._recursivePostUpdateTransform();this.updateTransform()}}if(this._bounds.updateID!==this._boundsID){this.calculateBounds();this._bounds.updateID=this._boundsID}if(!i){if(!this._boundsRect){this._boundsRect=new vs}i=this._boundsRect}return this._bounds.getRectangle(i)};i.prototype.getLocalBounds=function(t){if(!t){if(!this._localBoundsRect){this._localBoundsRect=new vs}t=this._localBoundsRect}if(!this._localBounds){this._localBounds=new Is}var i=this.transform;var r=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds;var e=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(false,t);this.parent=r;this.transform=i;this._bounds=n;this._bounds.updateID+=this._boundsID-e;return s};i.prototype.toGlobal=function(t,i,r){if(r===void 0){r=false}if(!r){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.apply(t,i)};i.prototype.toLocal=function(t,i,r,n){if(i){t=i.toGlobal(t,r,n)}if(!n){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.applyInverse(t,r)};i.prototype.setParent=function(t){if(!t||!t.addChild){throw new Error("setParent: Argument must be a Container")}t.addChild(this);return t};i.prototype.setTransform=function(t,i,r,n,e,s,a,u,o){if(t===void 0){t=0}if(i===void 0){i=0}if(r===void 0){r=1}if(n===void 0){n=1}if(e===void 0){e=0}if(s===void 0){s=0}if(a===void 0){a=0}if(u===void 0){u=0}if(o===void 0){o=0}this.position.x=t;this.position.y=i;this.scale.x=!r?1:r;this.scale.y=!n?1:n;this.rotation=e;this.skew.x=s;this.skew.y=a;this.pivot.x=u;this.pivot.y=o;return this};i.prototype.destroy=function(t){if(this.parent){this.parent.removeChild(this)}this.removeAllListeners();this.transform=null;this.parent=null;this._bounds=null;this._mask=null;this.filters=null;this.filterArea=null;this.hitArea=null;this.interactive=false;this.interactiveChildren=false;this._destroyed=true};Object.defineProperty(i.prototype,"_tempDisplayObjectParent",{get:function(){if(this.tempDisplayObjectParent===null){this.tempDisplayObjectParent=new Ns}return this.tempDisplayObjectParent},enumerable:false,configurable:true});i.prototype.enableTempParent=function(){var t=this.parent;this.parent=this._tempDisplayObjectParent;return t};i.prototype.disableTempParent=function(t){this.parent=t};Object.defineProperty(i.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"angle",{get:function(){return this.transform.rotation*hs},set:function(t){this.transform.rotation=t*fs},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t;if(this.parent){this.parent.sortDirty=true}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible){return false}t=t.parent}while(t);return true},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask){var i=this._mask.maskObject||this._mask;i.renderable=true;i.isMask=false}this._mask=t;if(this._mask){var i=this._mask.maskObject||this._mask;i.renderable=false;i.isMask=true}},enumerable:false,configurable:true});return i}(q);var Ns=function(t){Ps(i,t);function i(){var i=t!==null&&t.apply(this,arguments)||this;i.sortDirty=null;return i}return i}(Rs);Rs.prototype.displayObjectUpdateTransform=Rs.prototype.updateTransform;function Fs(t,i){if(t.zIndex===i.zIndex){return t._lastSortedIndex-i._lastSortedIndex}return t.zIndex-i.zIndex}var Ds=function(t){Ps(i,t);function i(){var i=t.call(this)||this;i.children=[];i.sortableChildren=Y.SORTABLE_CHILDREN;i.sortDirty=false;return i}i.prototype.onChildrenChange=function(t){};i.prototype.addChild=function(){var t=arguments;var i=[];for(var r=0;r<arguments.length;r++){i[r]=t[r]}if(i.length>1){for(var n=0;n<i.length;n++){this.addChild(i[n])}}else{var e=i[0];if(e.parent){e.parent.removeChild(e)}e.parent=this;this.sortDirty=true;e.transform._parentID=-1;this.children.push(e);this._boundsID++;this.onChildrenChange(this.children.length-1);this.emit("childAdded",e,this,this.children.length-1);e.emit("added",this)}return i[0]};i.prototype.addChildAt=function(t,i){if(i<0||i>this.children.length){throw new Error(t+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length)}if(t.parent){t.parent.removeChild(t)}t.parent=this;this.sortDirty=true;t.transform._parentID=-1;this.children.splice(i,0,t);this._boundsID++;this.onChildrenChange(i);t.emit("added",this);this.emit("childAdded",t,this,i);return t};i.prototype.swapChildren=function(t,i){if(t===i){return}var r=this.getChildIndex(t);var n=this.getChildIndex(i);this.children[r]=i;this.children[n]=t;this.onChildrenChange(r<n?r:n)};i.prototype.getChildIndex=function(t){var i=this.children.indexOf(t);if(i===-1){throw new Error("The supplied DisplayObject must be a child of the caller")}return i};i.prototype.setChildIndex=function(t,i){if(i<0||i>=this.children.length){throw new Error("The index "+i+" supplied is out of bounds "+this.children.length)}var r=this.getChildIndex(t);qe(this.children,r,1);this.children.splice(i,0,t);this.onChildrenChange(i)};i.prototype.getChildAt=function(t){if(t<0||t>=this.children.length){throw new Error("getChildAt: Index ("+t+") does not exist.")}return this.children[t]};i.prototype.removeChild=function(){var t=arguments;var i=[];for(var r=0;r<arguments.length;r++){i[r]=t[r]}if(i.length>1){for(var n=0;n<i.length;n++){this.removeChild(i[n])}}else{var e=i[0];var s=this.children.indexOf(e);if(s===-1){return null}e.parent=null;e.transform._parentID=-1;qe(this.children,s,1);this._boundsID++;this.onChildrenChange(s);e.emit("removed",this);this.emit("childRemoved",e,this,s)}return i[0]};i.prototype.removeChildAt=function(t){var i=this.getChildAt(t);i.parent=null;i.transform._parentID=-1;qe(this.children,t,1);this._boundsID++;this.onChildrenChange(t);i.emit("removed",this);this.emit("childRemoved",i,this,t);return i};i.prototype.removeChildren=function(t,i){if(t===void 0){t=0}if(i===void 0){i=this.children.length}var r=t;var n=i;var e=n-r;var s;if(e>0&&e<=n){s=this.children.splice(r,e);for(var a=0;a<s.length;++a){s[a].parent=null;if(s[a].transform){s[a].transform._parentID=-1}}this._boundsID++;this.onChildrenChange(t);for(var a=0;a<s.length;++a){s[a].emit("removed",this);this.emit("childRemoved",s[a],this,a)}return s}else if(e===0&&this.children.length===0){return[]}throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};i.prototype.sortChildren=function(){var t=false;for(var i=0,r=this.children.length;i<r;++i){var n=this.children[i];n._lastSortedIndex=i;if(!t&&n.zIndex!==0){t=true}}if(t&&this.children.length>1){this.children.sort(Fs)}this.sortDirty=false};i.prototype.updateTransform=function(){if(this.sortableChildren&&this.sortDirty){this.sortChildren()}this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,i=this.children.length;t<i;++t){var r=this.children[t];if(r.visible){r.updateTransform()}}};i.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var t=0;t<this.children.length;t++){var i=this.children[t];if(!i.visible||!i.renderable){continue}i.calculateBounds();if(i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds();this._bounds.addBoundsMask(i._bounds,r._bounds)}else if(i.filterArea){this._bounds.addBoundsArea(i._bounds,i.filterArea)}else{this._bounds.addBounds(i._bounds)}}this._bounds.updateID=this._boundsID};i.prototype.getLocalBounds=function(i,r){if(r===void 0){r=false}var n=t.prototype.getLocalBounds.call(this,i);if(!r){for(var e=0,s=this.children.length;e<s;++e){var a=this.children[e];if(a.visible){a.updateTransform()}}}return n};i.prototype._calculateBounds=function(){};i.prototype.render=function(t){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}if(this._mask||this.filters&&this.filters.length){this.renderAdvanced(t)}else{this._render(t);for(var i=0,r=this.children.length;i<r;++i){this.children[i].render(t)}}};i.prototype.renderAdvanced=function(t){t.batch.flush();var i=this.filters;var r=this._mask;if(i){if(!this._enabledFilters){this._enabledFilters=[]}this._enabledFilters.length=0;for(var n=0;n<i.length;n++){if(i[n].enabled){this._enabledFilters.push(i[n])}}if(this._enabledFilters.length){t.filter.push(this,this._enabledFilters)}}if(r){t.mask.push(this,this._mask)}this._render(t);for(var n=0,e=this.children.length;n<e;n++){this.children[n].render(t)}t.batch.flush();if(r){t.mask.pop(this)}if(i&&this._enabledFilters&&this._enabledFilters.length){t.filter.pop()}};i.prototype._render=function(t){};i.prototype.destroy=function(i){t.prototype.destroy.call(this);this.sortDirty=false;var r=typeof i==="boolean"?i:i&&i.children;var n=this.removeChildren(0,this.children.length);if(r){for(var e=0;e<n.length;++e){n[e].destroy(i)}}};Object.defineProperty(i.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var i=this.getLocalBounds().width;if(i!==0){this.scale.x=t/i}else{this.scale.x=1}this._width=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var i=this.getLocalBounds().height;if(i!==0){this.scale.y=t/i}else{this.scale.y=1}this._height=t},enumerable:false,configurable:true});return i}(Rs);Ds.prototype.containerUpdateTransform=Ds.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ls={accessible:false,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:false,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:true,renderId:-1};Rs.mixin(Ls);var Us=9;var ks=100;var Bs=0;var Vs=0;var Ws=2;var Gs=1;var zs=-1e3;var Hs=-1e3;var Xs=2;var Ys=function(){function t(t){this._hookDiv=null;if(z.tablet||z.phone){this.createTouchHook()}var i=document.createElement("div");i.style.width=ks+"px";i.style.height=ks+"px";i.style.position="absolute";i.style.top=Bs+"px";i.style.left=Vs+"px";i.style.zIndex=Ws.toString();this.div=i;this.pool=[];this.renderId=0;this.debug=false;this.renderer=t;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._isActive=false;this._isMobileAccessibility=false;this.androidUpdateCount=0;this.androidUpdateFrequency=500;window.addEventListener("keydown",this._onKeyDown,false)}Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:false,configurable:true});t.prototype.createTouchHook=function(){var t=this;var i=document.createElement("button");i.style.width=Gs+"px";i.style.height=Gs+"px";i.style.position="absolute";i.style.top=zs+"px";i.style.left=Hs+"px";i.style.zIndex=Xs.toString();i.style.backgroundColor="#FF0000";i.title="select to enable accessability for this content";i.addEventListener("focus",(function(){t._isMobileAccessibility=true;t.activate();t.destroyTouchHook()}));document.body.appendChild(i);this._hookDiv=i};t.prototype.destroyTouchHook=function(){if(!this._hookDiv){return}document.body.removeChild(this._hookDiv);this._hookDiv=null};t.prototype.activate=function(){if(this._isActive){return}this._isActive=true;window.document.addEventListener("mousemove",this._onMouseMove,true);window.removeEventListener("keydown",this._onKeyDown,false);this.renderer.on("postrender",this.update,this);if(this.renderer.view.parentNode){this.renderer.view.parentNode.appendChild(this.div)}};t.prototype.deactivate=function(){if(!this._isActive||this._isMobileAccessibility){return}this._isActive=false;window.document.removeEventListener("mousemove",this._onMouseMove,true);window.addEventListener("keydown",this._onKeyDown,false);this.renderer.off("postrender",this.update);if(this.div.parentNode){this.div.parentNode.removeChild(this.div)}};t.prototype.updateAccessibleObjects=function(t){if(!t.visible||!t.accessibleChildren){return}if(t.accessible&&t.interactive){if(!t._accessibleActive){this.addChild(t)}t.renderId=this.renderId}var i=t.children;for(var r=0;r<i.length;r++){this.updateAccessibleObjects(i[r])}};t.prototype.update=function(){var t=performance.now();if(z.android.device&&t<this.androidUpdateCount){return}this.androidUpdateCount=t+this.androidUpdateFrequency;if(!this.renderer.renderingToScreen){return}if(this.renderer._lastObjectRendered){this.updateAccessibleObjects(this.renderer._lastObjectRendered)}var i=this.renderer.view.getBoundingClientRect();var r=this.renderer.resolution;var n=i.width/this.renderer.width*r;var e=i.height/this.renderer.height*r;var s=this.div;s.style.left=i.left+"px";s.style.top=i.top+"px";s.style.width=this.renderer.width+"px";s.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var u=this.children[a];if(u.renderId!==this.renderId){u._accessibleActive=false;qe(this.children,a,1);this.div.removeChild(u._accessibleDiv);this.pool.push(u._accessibleDiv);u._accessibleDiv=null;a--}else{s=u._accessibleDiv;var o=u.hitArea;var h=u.worldTransform;if(u.hitArea){s.style.left=(h.tx+o.x*h.a)*n+"px";s.style.top=(h.ty+o.y*h.d)*e+"px";s.style.width=o.width*h.a*n+"px";s.style.height=o.height*h.d*e+"px"}else{o=u.getBounds();this.capHitArea(o);s.style.left=o.x*n+"px";s.style.top=o.y*e+"px";s.style.width=o.width*n+"px";s.style.height=o.height*e+"px";if(s.title!==u.accessibleTitle&&u.accessibleTitle!==null){s.title=u.accessibleTitle}if(s.getAttribute("aria-label")!==u.accessibleHint&&u.accessibleHint!==null){s.setAttribute("aria-label",u.accessibleHint)}}if(u.accessibleTitle!==s.title||u.tabIndex!==s.tabIndex){s.title=u.accessibleTitle;s.tabIndex=u.tabIndex;if(this.debug){this.updateDebugHTML(s)}}}}this.renderId++};t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex};t.prototype.capHitArea=function(t){if(t.x<0){t.width+=t.x;t.x=0}if(t.y<0){t.height+=t.y;t.y=0}if(t.x+t.width>this.renderer.width){t.width=this.renderer.width-t.x}if(t.y+t.height>this.renderer.height){t.height=this.renderer.height-t.y}};t.prototype.addChild=function(t){var i=this.pool.pop();if(!i){i=document.createElement("button");i.style.width=ks+"px";i.style.height=ks+"px";i.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent";i.style.position="absolute";i.style.zIndex=Ws.toString();i.style.borderStyle="none";if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){i.setAttribute("aria-live","off")}else{i.setAttribute("aria-live","polite")}if(navigator.userAgent.match(/rv:.*Gecko\//)){i.setAttribute("aria-relevant","additions")}else{i.setAttribute("aria-relevant","text")}i.addEventListener("click",this._onClick.bind(this));i.addEventListener("focus",this._onFocus.bind(this));i.addEventListener("focusout",this._onFocusOut.bind(this))}i.style.pointerEvents=t.accessiblePointerEvents;i.type=t.accessibleType;if(t.accessibleTitle&&t.accessibleTitle!==null){i.title=t.accessibleTitle}else if(!t.accessibleHint||t.accessibleHint===null){i.title="displayObject "+t.tabIndex}if(t.accessibleHint&&t.accessibleHint!==null){i.setAttribute("aria-label",t.accessibleHint)}if(this.debug){this.updateDebugHTML(i)}t._accessibleActive=true;t._accessibleDiv=i;i.displayObject=t;this.children.push(t);this.div.appendChild(t._accessibleDiv);t._accessibleDiv.tabIndex=t.tabIndex};t.prototype._onClick=function(t){var i=this.renderer.plugins.interaction;i.dispatchEvent(t.target.displayObject,"click",i.eventData);i.dispatchEvent(t.target.displayObject,"pointertap",i.eventData);i.dispatchEvent(t.target.displayObject,"tap",i.eventData)};t.prototype._onFocus=function(t){if(!t.target.getAttribute("aria-live")){t.target.setAttribute("aria-live","assertive")}var i=this.renderer.plugins.interaction;i.dispatchEvent(t.target.displayObject,"mouseover",i.eventData)};t.prototype._onFocusOut=function(t){if(!t.target.getAttribute("aria-live")){t.target.setAttribute("aria-live","polite")}var i=this.renderer.plugins.interaction;i.dispatchEvent(t.target.displayObject,"mouseout",i.eventData)};t.prototype._onKeyDown=function(t){if(t.keyCode!==Us){return}this.activate()};t.prototype._onMouseMove=function(t){if(t.movementX===0&&t.movementY===0){return}this.deactivate()};t.prototype.destroy=function(){this.destroyTouchHook();this.div=null;window.document.removeEventListener("mousemove",this._onMouseMove,true);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return t}();
/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Y.TARGET_FPMS=.06;var qs;(function(t){t[t["INTERACTION"]=50]="INTERACTION";t[t["HIGH"]=25]="HIGH";t[t["NORMAL"]=0]="NORMAL";t[t["LOW"]=-25]="LOW";t[t["UTILITY"]=-50]="UTILITY"})(qs||(qs={}));var $s=function(){function t(t,i,r,n){if(i===void 0){i=null}if(r===void 0){r=0}if(n===void 0){n=false}this.fn=t;this.context=i;this.priority=r;this.once=n;this.next=null;this.previous=null;this._destroyed=false}t.prototype.match=function(t,i){if(i===void 0){i=null}return this.fn===t&&this.context===i};t.prototype.emit=function(t){if(this.fn){if(this.context){this.fn.call(this.context,t)}else{this.fn(t)}}var i=this.next;if(this.once){this.destroy(true)}if(this._destroyed){this.next=null}return i};t.prototype.connect=function(t){this.previous=t;if(t.next){t.next.previous=this}this.next=t.next;t.next=this};t.prototype.destroy=function(t){if(t===void 0){t=false}this._destroyed=true;this.fn=null;this.context=null;if(this.previous){this.previous.next=this.next}if(this.next){this.next.previous=this.previous}var i=this.next;this.next=t?null:i;this.previous=null;return i};return t}();var Js=function(){function t(){var t=this;this._head=new $s(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this.autoStart=false;this.deltaTime=1;this.deltaMS=1/Y.TARGET_FPMS;this.elapsedMS=1/Y.TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=false;this._protected=false;this._lastFrame=-1;this._tick=function(i){t._requestId=null;if(t.started){t.update(i);if(t.started&&t._requestId===null&&t._head.next){t._requestId=requestAnimationFrame(t._tick)}}}}t.prototype._requestIfNeeded=function(){if(this._requestId===null&&this._head.next){this.lastTime=performance.now();this._lastFrame=this.lastTime;this._requestId=requestAnimationFrame(this._tick)}};t.prototype._cancelIfNeeded=function(){if(this._requestId!==null){cancelAnimationFrame(this._requestId);this._requestId=null}};t.prototype._startIfPossible=function(){if(this.started){this._requestIfNeeded()}else if(this.autoStart){this.start()}};t.prototype.add=function(t,i,r){if(r===void 0){r=qs.NORMAL}return this._addListener(new $s(t,i,r))};t.prototype.addOnce=function(t,i,r){if(r===void 0){r=qs.NORMAL}return this._addListener(new $s(t,i,r,true))};t.prototype._addListener=function(t){var i=this._head.next;var r=this._head;if(!i){t.connect(r)}else{while(i){if(t.priority>i.priority){t.connect(r);break}r=i;i=i.next}if(!t.previous){t.connect(r)}}this._startIfPossible();return this};t.prototype.remove=function(t,i){var r=this._head.next;while(r){if(r.match(t,i)){r=r.destroy()}else{r=r.next}}if(!this._head.next){this._cancelIfNeeded()}return this};Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head){return 0}var t=0;var i=this._head;while(i=i.next){t++}return t},enumerable:false,configurable:true});t.prototype.start=function(){if(!this.started){this.started=true;this._requestIfNeeded()}};t.prototype.stop=function(){if(this.started){this.started=false;this._cancelIfNeeded()}};t.prototype.destroy=function(){if(!this._protected){this.stop();var t=this._head.next;while(t){t=t.destroy(true)}this._head.destroy();this._head=null}};t.prototype.update=function(t){if(t===void 0){t=performance.now()}var i;if(t>this.lastTime){i=this.elapsedMS=t-this.lastTime;if(i>this._maxElapsedMS){i=this._maxElapsedMS}i*=this.speed;if(this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS){return}this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=i;this.deltaTime=this.deltaMS*Y.TARGET_FPMS;var n=this._head;var e=n.next;while(e){e=e.emit(this.deltaTime)}if(!n.next){this._cancelIfNeeded()}}else{this.deltaTime=this.deltaMS=this.elapsedMS=0}this.lastTime=t};Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var i=Math.min(this.maxFPS,t);var r=Math.min(Math.max(0,i)/1e3,Y.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"maxFPS",{get:function(){if(this._minElapsedMS){return Math.round(1e3/this._minElapsedMS)}return 0},set:function(t){if(t===0){this._minElapsedMS=0}else{var i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}},enumerable:false,configurable:true});Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var i=t._shared=new t;i.autoStart=true;i._protected=true}return t._shared},enumerable:false,configurable:true});Object.defineProperty(t,"system",{get:function(){if(!t._system){var i=t._system=new t;i.autoStart=true;i._protected=true}return t._system},enumerable:false,configurable:true});return t}();var Zs=function(){function t(){}t.init=function(t){var i=this;t=Object.assign({autoStart:true,sharedTicker:false},t);Object.defineProperty(this,"ticker",{set:function(t){if(this._ticker){this._ticker.remove(this.render,this)}this._ticker=t;if(t){t.add(this.render,this,qs.LOW)}},get:function(){return this._ticker}});this.stop=function(){i._ticker.stop()};this.start=function(){i._ticker.start()};this._ticker=null;this.ticker=t.sharedTicker?Js.shared:new Js;if(t.autoStart){this.start()}};t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null;t.destroy()}};return t}();
/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ks=function(){function t(){this.pressure=0;this.rotationAngle=0;this.twist=0;this.tangentialPressure=0;this.global=new ms;this.target=null;this.originalEvent=null;this.identifier=null;this.isPrimary=false;this.button=0;this.buttons=0;this.width=0;this.height=0;this.tiltX=0;this.tiltY=0;this.pointerType=null;this.pressure=0;this.rotationAngle=0;this.twist=0;this.tangentialPressure=0}Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:false,configurable:true});t.prototype.getLocalPosition=function(t,i,r){return t.worldTransform.applyInverse(r||this.global,i)};t.prototype.copyEvent=function(t){if("isPrimary"in t&&t.isPrimary){this.isPrimary=true}this.button="button"in t&&t.button;var i="buttons"in t&&t.buttons;this.buttons=Number.isInteger(i)?i:"which"in t&&t.which;this.width="width"in t&&t.width;this.height="height"in t&&t.height;this.tiltX="tiltX"in t&&t.tiltX;this.tiltY="tiltY"in t&&t.tiltY;this.pointerType="pointerType"in t&&t.pointerType;this.pressure="pressure"in t&&t.pressure;this.rotationAngle="rotationAngle"in t&&t.rotationAngle;this.twist="twist"in t&&t.twist||0;this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0};t.prototype.reset=function(){this.isPrimary=false};return t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Qs=function(t,i){Qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Qs(t,i)};function ta(t,i){Qs(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var ia=function(){function t(){this.stopped=false;this.stopsPropagatingAt=null;this.stopPropagationHint=false;this.target=null;this.currentTarget=null;this.type=null;this.data=null}t.prototype.stopPropagation=function(){this.stopped=true;this.stopPropagationHint=true;this.stopsPropagatingAt=this.currentTarget};t.prototype.reset=function(){this.stopped=false;this.stopsPropagatingAt=null;this.stopPropagationHint=false;this.currentTarget=null;this.target=null};return t}();var ra=function(){function t(i){this._pointerId=i;this._flags=t.FLAGS.NONE}t.prototype._doSet=function(t,i){if(i){this._flags=this._flags|t}else{this._flags=this._flags&~t}};Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(i){this._doSet(t.FLAGS.OVER,i)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(i){this._doSet(t.FLAGS.RIGHT_DOWN,i)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(i){this._doSet(t.FLAGS.LEFT_DOWN,i)},enumerable:false,configurable:true});t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2});return t}();var na=function(){function t(){this._tempPoint=new ms}t.prototype.recursiveFindHit=function(t,i,r,n,e){if(!i||!i.visible){return false}var s=t.data.global;e=i.interactive||e;var a=false;var u=e;var o=true;if(i.hitArea){if(n){i.worldTransform.applyInverse(s,this._tempPoint);if(!i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)){n=false;o=false}else{a=true}}u=false}else if(i._mask){if(n){if(!(i._mask.containsPoint&&i._mask.containsPoint(s))){n=false}}}if(o&&i.interactiveChildren&&i.children){var h=i.children;for(var f=h.length-1;f>=0;f--){var l=h[f];var v=this.recursiveFindHit(t,l,r,n,u);if(v){if(!l.parent){continue}u=false;if(v){if(t.target){n=false}a=true}}}}if(e){if(n&&!t.target){if(!i.hitArea&&i.containsPoint){if(i.containsPoint(s)){a=true}}}if(i.interactive){if(a&&!t.target){t.target=i}if(r){r(t,i,!!a)}}}return a};t.prototype.findHit=function(t,i,r,n){this.recursiveFindHit(t,i,r,n,false)};return t}();var ea={interactive:false,interactiveChildren:true,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){if(t){this.cursor="pointer"}else if(this.cursor==="pointer"){this.cursor=null}},cursor:null,get trackedPointers(){if(this._trackedPointers===undefined){this._trackedPointers={}}return this._trackedPointers},_trackedPointers:undefined};Rs.mixin(ea);var sa=1;var aa={target:null,data:{global:null}};var ua=function(t){ta(i,t);function i(i,r){var n=t.call(this)||this;r=r||{};n.renderer=i;n.autoPreventDefault=r.autoPreventDefault!==undefined?r.autoPreventDefault:true;n.interactionFrequency=r.interactionFrequency||10;n.mouse=new Ks;n.mouse.identifier=sa;n.mouse.global.set(-999999);n.activeInteractionData={};n.activeInteractionData[sa]=n.mouse;n.interactionDataPool=[];n.eventData=new ia;n.interactionDOMElement=null;n.moveWhenInside=false;n.eventsAdded=false;n.tickerAdded=false;n.mouseOverRenderer=false;n.supportsTouchEvents="ontouchstart"in window;n.supportsPointerEvents=!!window.PointerEvent;n.onPointerUp=n.onPointerUp.bind(n);n.processPointerUp=n.processPointerUp.bind(n);n.onPointerCancel=n.onPointerCancel.bind(n);n.processPointerCancel=n.processPointerCancel.bind(n);n.onPointerDown=n.onPointerDown.bind(n);n.processPointerDown=n.processPointerDown.bind(n);n.onPointerMove=n.onPointerMove.bind(n);n.processPointerMove=n.processPointerMove.bind(n);n.onPointerOut=n.onPointerOut.bind(n);n.processPointerOverOut=n.processPointerOverOut.bind(n);n.onPointerOver=n.onPointerOver.bind(n);n.cursorStyles={default:"inherit",pointer:"pointer"};n.currentCursorMode=null;n.cursor=null;n.resolution=1;n.delayedEvents=[];n.search=new na;n._tempDisplayObject=new Ns;n._useSystemTicker=r.useSystemTicker!==undefined?r.useSystemTicker:true;n.setTargetElement(n.renderer.view,n.renderer.resolution);return n}Object.defineProperty(i.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t;if(t){this.addTickerListener()}else{this.removeTickerListener()}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:false,configurable:true});i.prototype.hitTest=function(t,i){aa.target=null;aa.data.global=t;if(!i){i=this.lastObjectRendered}this.processInteractive(aa,i,null,true);return aa.target};i.prototype.setTargetElement=function(t,i){if(i===void 0){i=1}this.removeTickerListener();this.removeEvents();this.interactionDOMElement=t;this.resolution=i;this.addEvents();this.addTickerListener()};i.prototype.addTickerListener=function(){if(this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker){return}Js.system.add(this.tickerUpdate,this,qs.INTERACTION);this.tickerAdded=true};i.prototype.removeTickerListener=function(){if(!this.tickerAdded){return}Js.system.remove(this.tickerUpdate,this);this.tickerAdded=false};i.prototype.addEvents=function(){if(this.eventsAdded||!this.interactionDOMElement){return}var t=this.interactionDOMElement.style;if(window.navigator.msPointerEnabled){t.msContentZooming="none";t.msTouchAction="none"}else if(this.supportsPointerEvents){t.touchAction="none"}if(this.supportsPointerEvents){window.document.addEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,true);window.addEventListener("pointercancel",this.onPointerCancel,true);window.addEventListener("pointerup",this.onPointerUp,true)}else{window.document.addEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,true);window.addEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,true)}this.eventsAdded=true};i.prototype.removeEvents=function(){if(!this.eventsAdded||!this.interactionDOMElement){return}var t=this.interactionDOMElement.style;if(window.navigator.msPointerEnabled){t.msContentZooming="";t.msTouchAction=""}else if(this.supportsPointerEvents){t.touchAction=""}if(this.supportsPointerEvents){window.document.removeEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,true);window.removeEventListener("pointercancel",this.onPointerCancel,true);window.removeEventListener("pointerup",this.onPointerUp,true)}else{window.document.removeEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,true);window.removeEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,true)}this.interactionDOMElement=null;this.eventsAdded=false};i.prototype.tickerUpdate=function(t){this._deltaTime+=t;if(this._deltaTime<this.interactionFrequency){return}this._deltaTime=0;this.update()};i.prototype.update=function(){if(!this.interactionDOMElement){return}if(this._didMove){this._didMove=false;return}this.cursor=null;for(var t in this.activeInteractionData){if(this.activeInteractionData.hasOwnProperty(t)){var i=this.activeInteractionData[t];if(i.originalEvent&&i.pointerType!=="touch"){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,true)}}}this.setCursorMode(this.cursor)};i.prototype.setCursorMode=function(t){t=t||"default";if(this.currentCursorMode===t){return}this.currentCursorMode=t;var i=this.cursorStyles[t];if(i){switch(typeof i){case"string":this.interactionDOMElement.style.cursor=i;break;case"function":i(t);break;case"object":Object.assign(this.interactionDOMElement.style,i);break}}else if(typeof t==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)){this.interactionDOMElement.style.cursor=t}};i.prototype.dispatchEvent=function(t,i,r){if(!r.stopPropagationHint||t===r.stopsPropagatingAt){r.currentTarget=t;r.type=i;t.emit(i,r);if(t[i]){t[i](r)}}};i.prototype.delayDispatchEvent=function(t,i,r){this.delayedEvents.push({displayObject:t,eventString:i,eventData:r})};i.prototype.mapPositionToPoint=function(t,i,r){var n;if(!this.interactionDOMElement.parentElement){n={x:0,y:0,width:0,height:0}}else{n=this.interactionDOMElement.getBoundingClientRect()}var e=1/this.resolution;t.x=(i-n.left)*(this.interactionDOMElement.width/n.width)*e;t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*e};i.prototype.processInteractive=function(t,i,r,n){var e=this.search.findHit(t,i,r,n);var s=this.delayedEvents;if(!s.length){return e}t.stopPropagationHint=false;var a=s.length;this.delayedEvents=[];for(var u=0;u<a;u++){var o=s[u],h=o.displayObject,f=o.eventString,l=o.eventData;if(l.stopsPropagatingAt===h){l.stopPropagationHint=true}this.dispatchEvent(h,f,l)}return e};i.prototype.onPointerDown=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}var i=this.normalizeToPointerData(t);if(this.autoPreventDefault&&i[0].isNormalized){var r=t.cancelable||!("cancelable"in t);if(r){t.preventDefault()}}var n=i.length;for(var e=0;e<n;e++){var s=i[e];var a=this.getInteractionDataForPointerId(s);var u=this.configureInteractionEventForDOMEvent(this.eventData,s,a);u.data.originalEvent=t;this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,true);this.emit("pointerdown",u);if(s.pointerType==="touch"){this.emit("touchstart",u)}else if(s.pointerType==="mouse"||s.pointerType==="pen"){var o=s.button===2;this.emit(o?"rightdown":"mousedown",this.eventData)}}};i.prototype.processPointerDown=function(t,i,r){var n=t.data;var e=t.data.identifier;if(r){if(!i.trackedPointers[e]){i.trackedPointers[e]=new ra(e)}this.dispatchEvent(i,"pointerdown",t);if(n.pointerType==="touch"){this.dispatchEvent(i,"touchstart",t)}else if(n.pointerType==="mouse"||n.pointerType==="pen"){var s=n.button===2;if(s){i.trackedPointers[e].rightDown=true}else{i.trackedPointers[e].leftDown=true}this.dispatchEvent(i,s?"rightdown":"mousedown",t)}}};i.prototype.onPointerComplete=function(t,i,r){var n=this.normalizeToPointerData(t);var e=n.length;var s=t.target!==this.interactionDOMElement?"outside":"";for(var a=0;a<e;a++){var u=n[a];var o=this.getInteractionDataForPointerId(u);var h=this.configureInteractionEventForDOMEvent(this.eventData,u,o);h.data.originalEvent=t;this.processInteractive(h,this.lastObjectRendered,r,i||!s);this.emit(i?"pointercancel":"pointerup"+s,h);if(u.pointerType==="mouse"||u.pointerType==="pen"){var f=u.button===2;this.emit(f?"rightup"+s:"mouseup"+s,h)}else if(u.pointerType==="touch"){this.emit(i?"touchcancel":"touchend"+s,h);this.releaseInteractionDataForPointerId(u.pointerId)}}};i.prototype.onPointerCancel=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}this.onPointerComplete(t,true,this.processPointerCancel)};i.prototype.processPointerCancel=function(t,i){var r=t.data;var n=t.data.identifier;if(i.trackedPointers[n]!==undefined){delete i.trackedPointers[n];this.dispatchEvent(i,"pointercancel",t);if(r.pointerType==="touch"){this.dispatchEvent(i,"touchcancel",t)}}};i.prototype.onPointerUp=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}this.onPointerComplete(t,false,this.processPointerUp)};i.prototype.processPointerUp=function(t,i,r){var n=t.data;var e=t.data.identifier;var s=i.trackedPointers[e];var a=n.pointerType==="touch";var u=n.pointerType==="mouse"||n.pointerType==="pen";var o=false;if(u){var h=n.button===2;var f=ra.FLAGS;var l=h?f.RIGHT_DOWN:f.LEFT_DOWN;var v=s!==undefined&&s.flags&l;if(r){this.dispatchEvent(i,h?"rightup":"mouseup",t);if(v){this.dispatchEvent(i,h?"rightclick":"click",t);o=true}}else if(v){this.dispatchEvent(i,h?"rightupoutside":"mouseupoutside",t)}if(s){if(h){s.rightDown=false}else{s.leftDown=false}}}if(r){this.dispatchEvent(i,"pointerup",t);if(a){this.dispatchEvent(i,"touchend",t)}if(s){if(!u||o){this.dispatchEvent(i,"pointertap",t)}if(a){this.dispatchEvent(i,"tap",t);s.over=false}}}else if(s){this.dispatchEvent(i,"pointerupoutside",t);if(a){this.dispatchEvent(i,"touchendoutside",t)}}if(s&&s.none){delete i.trackedPointers[e]}};i.prototype.onPointerMove=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}var i=this.normalizeToPointerData(t);if(i[0].pointerType==="mouse"||i[0].pointerType==="pen"){this._didMove=true;this.cursor=null}var r=i.length;for(var n=0;n<r;n++){var e=i[n];var s=this.getInteractionDataForPointerId(e);var a=this.configureInteractionEventForDOMEvent(this.eventData,e,s);a.data.originalEvent=t;this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,true);this.emit("pointermove",a);if(e.pointerType==="touch"){this.emit("touchmove",a)}if(e.pointerType==="mouse"||e.pointerType==="pen"){this.emit("mousemove",a)}}if(i[0].pointerType==="mouse"){this.setCursorMode(this.cursor)}};i.prototype.processPointerMove=function(t,i,r){var n=t.data;var e=n.pointerType==="touch";var s=n.pointerType==="mouse"||n.pointerType==="pen";if(s){this.processPointerOverOut(t,i,r)}if(!this.moveWhenInside||r){this.dispatchEvent(i,"pointermove",t);if(e){this.dispatchEvent(i,"touchmove",t)}if(s){this.dispatchEvent(i,"mousemove",t)}}};i.prototype.onPointerOut=function(t){if(this.supportsTouchEvents&&t.pointerType==="touch"){return}var i=this.normalizeToPointerData(t);var r=i[0];if(r.pointerType==="mouse"){this.mouseOverRenderer=false;this.setCursorMode(null)}var n=this.getInteractionDataForPointerId(r);var e=this.configureInteractionEventForDOMEvent(this.eventData,r,n);e.data.originalEvent=r;this.processInteractive(e,this.lastObjectRendered,this.processPointerOverOut,false);this.emit("pointerout",e);if(r.pointerType==="mouse"||r.pointerType==="pen"){this.emit("mouseout",e)}else{this.releaseInteractionDataForPointerId(n.identifier)}};i.prototype.processPointerOverOut=function(t,i,r){var n=t.data;var e=t.data.identifier;var s=n.pointerType==="mouse"||n.pointerType==="pen";var a=i.trackedPointers[e];if(r&&!a){a=i.trackedPointers[e]=new ra(e)}if(a===undefined){return}if(r&&this.mouseOverRenderer){if(!a.over){a.over=true;this.delayDispatchEvent(i,"pointerover",t);if(s){this.delayDispatchEvent(i,"mouseover",t)}}if(s&&this.cursor===null){this.cursor=i.cursor}}else if(a.over){a.over=false;this.dispatchEvent(i,"pointerout",this.eventData);if(s){this.dispatchEvent(i,"mouseout",t)}if(a.none){delete i.trackedPointers[e]}}};i.prototype.onPointerOver=function(t){var i=this.normalizeToPointerData(t);var r=i[0];var n=this.getInteractionDataForPointerId(r);var e=this.configureInteractionEventForDOMEvent(this.eventData,r,n);e.data.originalEvent=r;if(r.pointerType==="mouse"){this.mouseOverRenderer=true}this.emit("pointerover",e);if(r.pointerType==="mouse"||r.pointerType==="pen"){this.emit("mouseover",e)}};i.prototype.getInteractionDataForPointerId=function(t){var i=t.pointerId;var r;if(i===sa||t.pointerType==="mouse"){r=this.mouse}else if(this.activeInteractionData[i]){r=this.activeInteractionData[i]}else{r=this.interactionDataPool.pop()||new Ks;r.identifier=i;this.activeInteractionData[i]=r}r.copyEvent(t);return r};i.prototype.releaseInteractionDataForPointerId=function(t){var i=this.activeInteractionData[t];if(i){delete this.activeInteractionData[t];i.reset();this.interactionDataPool.push(i)}};i.prototype.configureInteractionEventForDOMEvent=function(t,i,r){t.data=r;this.mapPositionToPoint(r.global,i.clientX,i.clientY);if(i.pointerType==="touch"){i.globalX=r.global.x;i.globalY=r.global.y}r.originalEvent=i;t.reset();return t};i.prototype.normalizeToPointerData=function(t){var i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent){for(var r=0,n=t.changedTouches.length;r<n;r++){var e=t.changedTouches[r];if(typeof e.button==="undefined"){e.button=t.touches.length?1:0}if(typeof e.buttons==="undefined"){e.buttons=t.touches.length?1:0}if(typeof e.isPrimary==="undefined"){e.isPrimary=t.touches.length===1&&t.type==="touchstart"}if(typeof e.width==="undefined"){e.width=e.radiusX||1}if(typeof e.height==="undefined"){e.height=e.radiusY||1}if(typeof e.tiltX==="undefined"){e.tiltX=0}if(typeof e.tiltY==="undefined"){e.tiltY=0}if(typeof e.pointerType==="undefined"){e.pointerType="touch"}if(typeof e.pointerId==="undefined"){e.pointerId=e.identifier||0}if(typeof e.pressure==="undefined"){e.pressure=e.force||.5}if(typeof e.twist==="undefined"){e.twist=0}if(typeof e.tangentialPressure==="undefined"){e.tangentialPressure=0}if(typeof e.layerX==="undefined"){e.layerX=e.offsetX=e.clientX}if(typeof e.layerY==="undefined"){e.layerY=e.offsetY=e.clientY}e.isNormalized=true;i.push(e)}}else if(t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof window.PointerEvent))){var s=t;if(typeof s.isPrimary==="undefined"){s.isPrimary=true}if(typeof s.width==="undefined"){s.width=1}if(typeof s.height==="undefined"){s.height=1}if(typeof s.tiltX==="undefined"){s.tiltX=0}if(typeof s.tiltY==="undefined"){s.tiltY=0}if(typeof s.pointerType==="undefined"){s.pointerType="mouse"}if(typeof s.pointerId==="undefined"){s.pointerId=sa}if(typeof s.pressure==="undefined"){s.pressure=.5}if(typeof s.twist==="undefined"){s.twist=0}if(typeof s.tangentialPressure==="undefined"){s.tangentialPressure=0}s.isNormalized=true;i.push(s)}else{i.push(t)}return i};i.prototype.destroy=function(){this.removeEvents();this.removeTickerListener();this.removeAllListeners();this.renderer=null;this.mouse=null;this.eventData=null;this.interactionDOMElement=null;this.onPointerDown=null;this.processPointerDown=null;this.onPointerUp=null;this.processPointerUp=null;this.onPointerCancel=null;this.processPointerCancel=null;this.onPointerMove=null;this.processPointerMove=null;this.onPointerOut=null;this.processPointerOverOut=null;this.onPointerOver=null;this.search=null};return i}(q);
/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var oa=function(){function t(t){this.items=[];this._name=t;this._aliasCount=0}t.prototype.emit=function(t,i,r,n,e,s,a,u){if(arguments.length>8){throw new Error("max arguments reached")}var o=this,h=o.name,f=o.items;this._aliasCount++;for(var l=0,v=f.length;l<v;l++){f[l][h](t,i,r,n,e,s,a,u)}if(f===this.items){this._aliasCount--}return this};t.prototype.ensureNonAliasedItems=function(){if(this._aliasCount>0&&this.items.length>1){this._aliasCount=0;this.items=this.items.slice(0)}};t.prototype.add=function(t){if(t[this._name]){this.ensureNonAliasedItems();this.remove(t);this.items.push(t)}return this};t.prototype.remove=function(t){var i=this.items.indexOf(t);if(i!==-1){this.ensureNonAliasedItems();this.items.splice(i,1)}return this};t.prototype.contains=function(t){return this.items.indexOf(t)!==-1};t.prototype.removeAll=function(){this.ensureNonAliasedItems();this.items.length=0;return this};t.prototype.destroy=function(){this.removeAll();this.items=null;this._name=null};Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:false,configurable:true});return t}();Object.defineProperties(oa.prototype,{dispatch:{value:oa.prototype.emit},run:{value:oa.prototype.emit}});
/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Y.PREFER_ENV=z.any?ce.WEBGL:ce.WEBGL2;Y.STRICT_TEXTURE_CACHE=false;var ha=[];function fa(t,i){if(!t){return null}var r="";if(typeof t==="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);if(n){r=n[1].toLowerCase()}}for(var e=ha.length-1;e>=0;--e){var s=ha[e];if(s.test&&s.test(t,r)){return new s(t,i)}}throw new Error("Unrecognized source type to auto-detect Resource")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var la=function(t,i){la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return la(t,i)};function va(t,i){la(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var ca=function(){function t(t,i){if(t===void 0){t=0}if(i===void 0){i=0}this._width=t;this._height=i;this.destroyed=false;this.internal=false;this.onResize=new oa("setRealSize");this.onUpdate=new oa("update");this.onError=new oa("onError")}t.prototype.bind=function(t){this.onResize.add(t);this.onUpdate.add(t);this.onError.add(t);if(this._width||this._height){this.onResize.emit(this._width,this._height)}};t.prototype.unbind=function(t){this.onResize.remove(t);this.onUpdate.remove(t);this.onError.remove(t)};t.prototype.resize=function(t,i){if(t!==this._width||i!==this._height){this._width=t;this._height=i;this.onResize.emit(t,i)}};Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:false,configurable:true});t.prototype.update=function(){if(!this.destroyed){this.onUpdate.emit()}};t.prototype.load=function(){return Promise.resolve(this)};Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:false,configurable:true});t.prototype.style=function(t,i,r){return false};t.prototype.dispose=function(){};t.prototype.destroy=function(){if(!this.destroyed){this.destroyed=true;this.dispose();this.onError.removeAll();this.onError=null;this.onResize.removeAll();this.onResize=null;this.onUpdate.removeAll();this.onUpdate=null}};t.test=function(t,i){return false};return t}();var da=function(t){va(i,t);function i(i,r){var n=this;var e=r||{},s=e.width,a=e.height;if(!s||!a){throw new Error("BufferResource width or height invalid")}n=t.call(this,s,a)||this;n.data=i;return n}i.prototype.upload=function(t,i,r){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Ee.UNPACK);if(r.width===i.width&&r.height===i.height){n.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data)}else{r.width=i.width;r.height=i.height;n.texImage2D(i.target,0,r.internalFormat,i.width,i.height,0,i.format,r.type,this.data)}return true};i.prototype.dispose=function(){this.data=null};i.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array};return i}(ca);var pa={scaleMode:Ae.NEAREST,format:ge.RGBA,alphaMode:Ee.NPM};var ba=function(t){va(i,t);function i(i,r){if(i===void 0){i=null}if(r===void 0){r=null}var n=t.call(this)||this;r=r||{};var e=r.alphaMode,s=r.mipmap,a=r.anisotropicLevel,u=r.scaleMode,o=r.width,h=r.height,f=r.wrapMode,l=r.format,v=r.type,c=r.target,d=r.resolution,p=r.resourceOptions;if(i&&!(i instanceof ca)){i=fa(i,p);i.internal=true}n.width=o||0;n.height=h||0;n.resolution=d||Y.RESOLUTION;n.mipmap=s!==undefined?s:Y.MIPMAP_TEXTURES;n.anisotropicLevel=a!==undefined?a:Y.ANISOTROPIC_LEVEL;n.wrapMode=f||Y.WRAP_MODE;n.scaleMode=u!==undefined?u:Y.SCALE_MODE;n.format=l||ge.RGBA;n.type=v||we.UNSIGNED_BYTE;n.target=c||ye.TEXTURE_2D;n.alphaMode=e!==undefined?e:Ee.UNPACK;if(r.premultiplyAlpha!==undefined){n.premultiplyAlpha=r.premultiplyAlpha}n.uid=Ze();n.touched=0;n.isPowerOfTwo=false;n._refreshPOT();n._glTextures={};n.dirtyId=0;n.dirtyStyleId=0;n.cacheId=null;n.valid=o>0&&h>0;n.textureCacheIds=[];n.destroyed=false;n.resource=null;n._batchEnabled=0;n._batchLocation=0;n.parentTextureArray=null;n.setResource(i);return n}Object.defineProperty(i.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:false,configurable:true});i.prototype.setStyle=function(t,i){var r;if(t!==undefined&&t!==this.scaleMode){this.scaleMode=t;r=true}if(i!==undefined&&i!==this.mipmap){this.mipmap=i;r=true}if(r){this.dirtyStyleId++}return this};i.prototype.setSize=function(t,i,r){this.resolution=r||this.resolution;this.width=t;this.height=i;this._refreshPOT();this.update();return this};i.prototype.setRealSize=function(t,i,r){this.resolution=r||this.resolution;this.width=t/this.resolution;this.height=i/this.resolution;this._refreshPOT();this.update();return this};i.prototype._refreshPOT=function(){this.isPowerOfTwo=Xe(this.realWidth)&&Xe(this.realHeight)};i.prototype.setResolution=function(t){var i=this.resolution;if(i===t){return this}this.resolution=t;if(this.valid){this.width=this.width*i/t;this.height=this.height*i/t;this.emit("update",this)}this._refreshPOT();return this};i.prototype.setResource=function(t){if(this.resource===t){return this}if(this.resource){throw new Error("Resource can be set only once")}t.bind(this);this.resource=t;return this};i.prototype.update=function(){if(!this.valid){if(this.width>0&&this.height>0){this.valid=true;this.emit("loaded",this);this.emit("update",this)}}else{this.dirtyId++;this.dirtyStyleId++;this.emit("update",this)}};i.prototype.onError=function(t){this.emit("error",this,t)};i.prototype.destroy=function(){if(this.resource){this.resource.unbind(this);if(this.resource.internal){this.resource.destroy()}this.resource=null}if(this.cacheId){delete rs[this.cacheId];delete is[this.cacheId];this.cacheId=null}this.dispose();i.removeFromCache(this);this.textureCacheIds=null;this.destroyed=true};i.prototype.dispose=function(){this.emit("dispose",this)};i.prototype.castToBaseTexture=function(){return this};i.from=function(t,r,n){if(n===void 0){n=Y.STRICT_TEXTURE_CACHE}var e=typeof t==="string";var s=null;if(e){s=t}else{if(!t._pixiId){t._pixiId="pixiid_"+Ze()}s=t._pixiId}var a=rs[s];if(e&&n&&!a){throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.')}if(!a){a=new i(t,r);a.cacheId=s;i.addToCache(a,s)}return a};i.fromBuffer=function(t,r,n,e){t=t||new Float32Array(r*n*4);var s=new da(t,{width:r,height:n});var a=t instanceof Float32Array?we.FLOAT:we.UNSIGNED_BYTE;return new i(s,Object.assign(pa,e||{width:r,height:n,type:a}))};i.addToCache=function(t,i){if(i){if(t.textureCacheIds.indexOf(i)===-1){t.textureCacheIds.push(i)}if(rs[i]){console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry")}rs[i]=t}};i.removeFromCache=function(t){if(typeof t==="string"){var i=rs[t];if(i){var r=i.textureCacheIds.indexOf(t);if(r>-1){i.textureCacheIds.splice(r,1)}delete rs[t];return i}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n){delete rs[t.textureCacheIds[n]]}t.textureCacheIds.length=0;return t}return null};i._globalBatch=0;return i}(q);var ma=function(t){va(i,t);function i(i,r){var n=this;var e=r||{},s=e.width,a=e.height;n=t.call(this,s,a)||this;n.items=[];n.itemDirtyIds=[];for(var u=0;u<i;u++){var o=new ba;n.items.push(o);n.itemDirtyIds.push(-2)}n.length=i;n._load=null;n.baseTexture=null;return n}i.prototype.initFromArray=function(t,i){for(var r=0;r<this.length;r++){if(!t[r]){continue}if(t[r].castToBaseTexture){this.addBaseTextureAt(t[r].castToBaseTexture(),r)}else if(t[r]instanceof ca){this.addResourceAt(t[r],r)}else{this.addResourceAt(fa(t[r],i),r)}}};i.prototype.dispose=function(){for(var t=0,i=this.length;t<i;t++){this.items[t].destroy()}this.items=null;this.itemDirtyIds=null;this._load=null};i.prototype.addResourceAt=function(t,i){if(!this.items[i]){throw new Error("Index "+i+" is out of bounds")}if(t.valid&&!this.valid){this.resize(t.width,t.height)}this.items[i].setResource(t);return this};i.prototype.bind=function(i){if(this.baseTexture!==null){throw new Error("Only one base texture per TextureArray is allowed")}t.prototype.bind.call(this,i);for(var r=0;r<this.length;r++){this.items[r].parentTextureArray=i;this.items[r].on("update",i.update,i)}};i.prototype.unbind=function(i){t.prototype.unbind.call(this,i);for(var r=0;r<this.length;r++){this.items[r].parentTextureArray=null;this.items[r].off("update",i.update,i)}};i.prototype.load=function(){var t=this;if(this._load){return this._load}var i=this.items.map((function(t){return t.resource})).filter((function(t){return t}));var r=i.map((function(t){return t.load()}));this._load=Promise.all(r).then((function(){var i=t.items[0],r=i.realWidth,n=i.realHeight;t.resize(r,n);return Promise.resolve(t)}));return this._load};return i}(ca);var ga=function(t){va(i,t);function i(i,r){var n=this;var e=r||{},s=e.width,a=e.height;var u;var o;if(Array.isArray(i)){u=i;o=i.length}else{o=i}n=t.call(this,o,{width:s,height:a})||this;if(u){n.initFromArray(u,r)}return n}i.prototype.addBaseTextureAt=function(t,i){if(t.resource){this.addResourceAt(t.resource,i)}else{throw new Error("ArrayResource does not support RenderTexture")}return this};i.prototype.bind=function(i){t.prototype.bind.call(this,i);i.target=ye.TEXTURE_2D_ARRAY};i.prototype.upload=function(t,i,r){var n=this,e=n.length,s=n.itemDirtyIds,a=n.items;var u=t.gl;if(r.dirtyId<0){u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.format,this._width,this._height,e,0,i.format,i.type,null)}for(var o=0;o<e;o++){var h=a[o];if(s[o]<h.dirtyId){s[o]=h.dirtyId;if(h.valid){u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,o,h.resource.width,h.resource.height,1,i.format,i.type,h.resource.source)}}}return true};return i}(ma);var ya=function(t){va(i,t);function i(i){var r=this;var n=i;var e=n.naturalWidth||n.videoWidth||n.width;var s=n.naturalHeight||n.videoHeight||n.height;r=t.call(this,e,s)||this;r.source=i;r.noSubImage=false;return r}i.crossOrigin=function(t,i,r){if(r===undefined&&i.indexOf("data:")!==0){t.crossOrigin=as(i)}else if(r!==false){t.crossOrigin=typeof r==="string"?r:"anonymous"}};i.prototype.upload=function(t,i,r,n){var e=t.gl;var s=i.realWidth;var a=i.realHeight;n=n||this.source;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Ee.UNPACK);if(!this.noSubImage&&i.target===e.TEXTURE_2D&&r.width===s&&r.height===a){e.texSubImage2D(e.TEXTURE_2D,0,0,0,i.format,i.type,n)}else{r.width=s;r.height=a;e.texImage2D(i.target,0,i.format,i.format,i.type,n)}return true};i.prototype.update=function(){if(this.destroyed){return}var i=this.source;var r=i.naturalWidth||i.videoWidth||i.width;var n=i.naturalHeight||i.videoHeight||i.height;this.resize(r,n);t.prototype.update.call(this)};i.prototype.dispose=function(){this.source=null};return i}(ca);var wa=function(t){va(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.test=function(t){var i=window.OffscreenCanvas;if(i&&t instanceof i){return true}return t instanceof HTMLCanvasElement};return i}(ya);var Aa=function(t){va(i,t);function i(r,n){var e=this;var s=n||{},a=s.width,u=s.height,o=s.autoLoad,h=s.linkBaseTexture;if(r&&r.length!==i.SIDES){throw new Error("Invalid length. Got "+r.length+", expected 6")}e=t.call(this,6,{width:a,height:u})||this;for(var f=0;f<i.SIDES;f++){e.items[f].target=ye.TEXTURE_CUBE_MAP_POSITIVE_X+f}e.linkBaseTexture=h!==false;if(r){e.initFromArray(r,n)}if(o!==false){e.load()}return e}i.prototype.bind=function(i){t.prototype.bind.call(this,i);i.target=ye.TEXTURE_CUBE_MAP};i.prototype.addBaseTextureAt=function(t,i,r){if(!this.items[i]){throw new Error("Index "+i+" is out of bounds")}if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(t.resource){this.addResourceAt(t.resource,i)}else{throw new Error("CubeResource does not support copying of renderTexture.")}}else{t.target=ye.TEXTURE_CUBE_MAP_POSITIVE_X+i;t.parentTextureArray=this.baseTexture;this.items[i]=t}if(t.valid&&!this.valid){this.resize(t.realWidth,t.realHeight)}this.items[i]=t;return this};i.prototype.upload=function(t,r,n){var e=this.itemDirtyIds;for(var s=0;s<i.SIDES;s++){var a=this.items[s];if(e[s]<a.dirtyId){if(a.valid&&a.resource){a.resource.upload(t,a,n);e[s]=a.dirtyId}else if(e[s]<-1){t.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null);e[s]=-1}}}return true};i.test=function(t){return Array.isArray(t)&&t.length===i.SIDES};i.SIDES=6;return i}(ma);var Oa=function(t){va(i,t);function i(i,r){var n=this;r=r||{};if(!(i instanceof HTMLImageElement)){var e=new Image;ya.crossOrigin(e,i,r.crossorigin);e.src=i;i=e}n=t.call(this,i)||this;if(!i.complete&&!!n._width&&!!n._height){n._width=0;n._height=0}n.url=i.src;n._process=null;n.preserveBitmap=false;n.createBitmap=(r.createBitmap!==undefined?r.createBitmap:Y.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap;n.alphaMode=typeof r.alphaMode==="number"?r.alphaMode:null;if(r.premultiplyAlpha!==undefined){n.premultiplyAlpha=r.premultiplyAlpha}n.bitmap=null;n._load=null;if(r.autoLoad!==false){n.load()}return n}i.prototype.load=function(t){var i=this;if(this._load){return this._load}if(t!==undefined){this.createBitmap=t}this._load=new Promise((function(t,r){var n=i.source;i.url=n.src;var e=function(){if(i.destroyed){return}n.onload=null;n.onerror=null;i.resize(n.width,n.height);i._load=null;if(i.createBitmap){t(i.process())}else{t(i)}};if(n.complete&&n.src){e()}else{n.onload=e;n.onerror=function(t){r(t);i.onError.emit(t)}}}));return this._load};i.prototype.process=function(){var t=this;var i=this.source;if(this._process!==null){return this._process}if(this.bitmap!==null||!window.createImageBitmap){return Promise.resolve(this)}this._process=window.createImageBitmap(i,0,0,i.width,i.height,{premultiplyAlpha:this.alphaMode===Ee.UNPACK?"premultiply":"none"}).then((function(i){if(t.destroyed){return Promise.reject()}t.bitmap=i;t.update();t._process=null;return Promise.resolve(t)}));return this._process};i.prototype.upload=function(i,r,n){if(typeof this.alphaMode==="number"){r.alphaMode=this.alphaMode}if(!this.createBitmap){return t.prototype.upload.call(this,i,r,n)}if(!this.bitmap){this.process();if(!this.bitmap){return false}}t.prototype.upload.call(this,i,r,n,this.bitmap);if(!this.preserveBitmap){var e=true;var s=r._glTextures;for(var a in s){var u=s[a];if(u!==n&&u.dirtyId!==r.dirtyId){e=false;break}}if(e){if(this.bitmap.close){this.bitmap.close()}this.bitmap=null}}return true};i.prototype.dispose=function(){this.source.onload=null;this.source.onerror=null;t.prototype.dispose.call(this);if(this.bitmap){this.bitmap.close();this.bitmap=null}this._process=null;this._load=null};i.test=function(t){return typeof t==="string"||t instanceof HTMLImageElement};return i}(ya);var xa=function(t){va(i,t);function i(i,r){var n=this;r=r||{};n=t.call(this,document.createElement("canvas"))||this;n._width=0;n._height=0;n.svg=i;n.scale=r.scale||1;n._overrideWidth=r.width;n._overrideHeight=r.height;n._resolve=null;n._crossorigin=r.crossorigin;n._load=null;if(r.autoLoad!==false){n.load()}return n}i.prototype.load=function(){var t=this;if(this._load){return this._load}this._load=new Promise((function(i){t._resolve=function(){t.resize(t.source.width,t.source.height);i(t)};if(/^\<svg/.test(t.svg.trim())){if(!btoa){throw new Error("Your browser doesn't support base64 conversions.")}t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}));return this._load};i.prototype._loadSvg=function(){var t=this;var i=new Image;ya.crossOrigin(i,this.svg,this._crossorigin);i.src=this.svg;i.onerror=function(r){if(!t._resolve){return}i.onerror=null;t.onError.emit(r)};i.onload=function(){if(!t._resolve){return}var r=i.width;var n=i.height;if(!r||!n){throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.")}var e=r*t.scale;var s=n*t.scale;if(t._overrideWidth||t._overrideHeight){e=t._overrideWidth||t._overrideHeight/n*r;s=t._overrideHeight||t._overrideWidth/r*n}e=Math.round(e);s=Math.round(s);var a=t.source;a.width=e;a.height=s;a._pixiId="canvas_"+Ze();a.getContext("2d").drawImage(i,0,0,r,n,0,0,e,s);t._resolve();t._resolve=null}};i.getSize=function(t){var r=i.SVG_SIZE.exec(t);var n={};if(r){n[r[1]]=Math.round(parseFloat(r[3]));n[r[5]]=Math.round(parseFloat(r[7]))}return n};i.prototype.dispose=function(){t.prototype.dispose.call(this);this._resolve=null;this._crossorigin=null};i.test=function(t,i){return i==="svg"||typeof t==="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||typeof t==="string"&&t.indexOf("<svg")===0};i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;return i}(ya);var Ea=function(t){va(i,t);function i(r,n){var e=this;n=n||{};if(!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto");s.setAttribute("webkit-playsinline","");s.setAttribute("playsinline","");if(typeof r==="string"){r=[r]}var a=r[0].src||r[0];ya.crossOrigin(s,a,n.crossorigin);for(var u=0;u<r.length;++u){var o=document.createElement("source");var h=r[u],f=h.src,l=h.mime;f=f||r[u];var v=f.split("?").shift().toLowerCase();var c=v.substr(v.lastIndexOf(".")+1);l=l||i.MIME_TYPES[c]||"video/"+c;o.src=f;o.type=l;s.appendChild(o)}r=s}e=t.call(this,r)||this;e.noSubImage=true;e._autoUpdate=true;e._isConnectedToTicker=false;e._updateFPS=n.updateFPS||0;e._msToNextUpdate=0;e.autoPlay=n.autoPlay!==false;e._load=null;e._resolve=null;e._onCanPlay=e._onCanPlay.bind(e);e._onError=e._onError.bind(e);if(n.autoLoad!==false){e.load()}return e}i.prototype.update=function(i){if(!this.destroyed){var r=Js.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r);if(!this._updateFPS||this._msToNextUpdate<=0){t.prototype.update.call(this);this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0}}};i.prototype.load=function(){var t=this;if(this._load){return this._load}var i=this.source;if((i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height){i.complete=true}i.addEventListener("play",this._onPlayStart.bind(this));i.addEventListener("pause",this._onPlayStop.bind(this));if(!this._isSourceReady()){i.addEventListener("canplay",this._onCanPlay);i.addEventListener("canplaythrough",this._onCanPlay);i.addEventListener("error",this._onError,true)}else{this._onCanPlay()}this._load=new Promise((function(r){if(t.valid){r(t)}else{t._resolve=r;i.load()}}));return this._load};i.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,true);this.onError.emit(t)};i.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===false&&t.ended===false&&t.readyState>2};i.prototype._isSourceReady=function(){var t=this.source;return t.readyState===3||t.readyState===4};i.prototype._onPlayStart=function(){if(!this.valid){this._onCanPlay()}if(this.autoUpdate&&!this._isConnectedToTicker){Js.shared.add(this.update,this);this._isConnectedToTicker=true}};i.prototype._onPlayStop=function(){if(this._isConnectedToTicker){Js.shared.remove(this.update,this);this._isConnectedToTicker=false}};i.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay);t.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(t.videoWidth,t.videoHeight);if(!i&&this._resolve){this._resolve(this);this._resolve=null}if(this._isSourcePlaying()){this._onPlayStart()}else if(this.autoPlay){t.play()}};i.prototype.dispose=function(){if(this._isConnectedToTicker){Js.shared.remove(this.update,this)}var i=this.source;if(i){i.removeEventListener("error",this._onError,true);i.pause();i.src="";i.load()}t.prototype.dispose.call(this)};Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){if(t!==this._autoUpdate){this._autoUpdate=t;if(!this._autoUpdate&&this._isConnectedToTicker){Js.shared.remove(this.update,this);this._isConnectedToTicker=false}else if(this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()){Js.shared.add(this.update,this);this._isConnectedToTicker=true}}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){if(t!==this._updateFPS){this._updateFPS=t}},enumerable:false,configurable:true});i.test=function(t,r){return t instanceof HTMLVideoElement||i.TYPES.indexOf(r)>-1};i.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];i.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};return i}(ya);var Ma=function(t){va(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap};return i}(ya);ha.push(Oa,Ma,wa,Ea,xa,da,Aa,ga);var _a=function(){function t(t){this.renderer=t}t.prototype.destroy=function(){this.renderer=null};return t}();var ja=function(t){va(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}i.prototype.upload=function(t,i,r){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Ee.UNPACK);if(r.width===i.width&&r.height===i.height){n.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data)}else{r.width=i.width;r.height=i.height;n.texImage2D(i.target,0,t.context.webGLVersion===1?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,i.width,i.height,0,i.format,i.type,this.data)}return true};return i}(da);var Ta=function(){function t(t,i){this.width=Math.ceil(t||100);this.height=Math.ceil(i||100);this.stencil=false;this.depth=false;this.dirtyId=0;this.dirtyFormat=0;this.dirtySize=0;this.depthTexture=null;this.colorTextures=[];this.glFramebuffers={};this.disposeRunner=new oa("disposeFramebuffer");this.multisample=Se.NONE}Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:false,configurable:true});t.prototype.addColorTexture=function(t,i){if(t===void 0){t=0}this.colorTextures[t]=i||new ba(null,{scaleMode:Ae.NEAREST,resolution:1,mipmap:xe.OFF,width:this.width,height:this.height});this.dirtyId++;this.dirtyFormat++;return this};t.prototype.addDepthTexture=function(t){this.depthTexture=t||new ba(new ja(null,{width:this.width,height:this.height}),{scaleMode:Ae.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:xe.OFF,format:ge.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT});this.dirtyId++;this.dirtyFormat++;return this};t.prototype.enableDepth=function(){this.depth=true;this.dirtyId++;this.dirtyFormat++;return this};t.prototype.enableStencil=function(){this.stencil=true;this.dirtyId++;this.dirtyFormat++;return this};t.prototype.resize=function(t,i){t=Math.ceil(t);i=Math.ceil(i);if(t===this.width&&i===this.height){return}this.width=t;this.height=i;this.dirtyId++;this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r];var e=n.resolution;n.setSize(t/e,i/e)}if(this.depthTexture){var e=this.depthTexture.resolution;this.depthTexture.setSize(t/e,i/e)}};t.prototype.dispose=function(){this.disposeRunner.emit(this,false)};t.prototype.destroyDepthTexture=function(){if(this.depthTexture){this.depthTexture.destroy();this.depthTexture=null;++this.dirtyId;++this.dirtyFormat}};return t}();var Sa=function(t){va(i,t);function i(i){var r=this;if(typeof i==="number"){var n=arguments[0];var e=arguments[1];var s=arguments[2];var a=arguments[3];i={width:n,height:e,scaleMode:s,resolution:a}}r=t.call(this,null,i)||this;var u=i||{},o=u.width,h=u.height;r.mipmap=0;r.width=Math.ceil(o)||100;r.height=Math.ceil(h)||100;r.valid=true;r.clearColor=[0,0,0,0];r.framebuffer=new Ta(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r);r.maskStack=[];r.filterStack=[{}];return r}i.prototype.resize=function(t,i){t=Math.ceil(t);i=Math.ceil(i);this.framebuffer.resize(t*this.resolution,i*this.resolution)};i.prototype.dispose=function(){this.framebuffer.dispose();t.prototype.dispose.call(this)};i.prototype.destroy=function(){t.prototype.destroy.call(this);this.framebuffer.destroyDepthTexture();this.framebuffer=null};return i}(ba);var Ia=function(){function t(){this.x0=0;this.y0=0;this.x1=1;this.y1=0;this.x2=1;this.y2=1;this.x3=0;this.y3=1;this.uvsFloat32=new Float32Array(8)}t.prototype.set=function(t,i,r){var n=i.width;var e=i.height;if(r){var s=t.width/2/n;var a=t.height/2/e;var u=t.x/n+s;var o=t.y/e+a;r=Ts.add(r,Ts.NW);this.x0=u+s*Ts.uX(r);this.y0=o+a*Ts.uY(r);r=Ts.add(r,2);this.x1=u+s*Ts.uX(r);this.y1=o+a*Ts.uY(r);r=Ts.add(r,2);this.x2=u+s*Ts.uX(r);this.y2=o+a*Ts.uY(r);r=Ts.add(r,2);this.x3=u+s*Ts.uX(r);this.y3=o+a*Ts.uY(r)}else{this.x0=t.x/n;this.y0=t.y/e;this.x1=(t.x+t.width)/n;this.y1=t.y/e;this.x2=(t.x+t.width)/n;this.y2=(t.y+t.height)/e;this.x3=t.x/n;this.y3=(t.y+t.height)/e}this.uvsFloat32[0]=this.x0;this.uvsFloat32[1]=this.y0;this.uvsFloat32[2]=this.x1;this.uvsFloat32[3]=this.y1;this.uvsFloat32[4]=this.x2;this.uvsFloat32[5]=this.y2;this.uvsFloat32[6]=this.x3;this.uvsFloat32[7]=this.y3};return t}();var Ca=new Ia;var Pa=function(t){va(i,t);function i(r,n,e,s,a,u){var o=t.call(this)||this;o.noFrame=false;if(!n){o.noFrame=true;n=new vs(0,0,1,1)}if(r instanceof i){r=r.baseTexture}o.baseTexture=r;o._frame=n;o.trim=s;o.valid=false;o._uvs=Ca;o.uvMatrix=null;o.orig=e||n;o._rotate=Number(a||0);if(a===true){o._rotate=2}else if(o._rotate%2!==0){throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually")}o.defaultAnchor=u?new ms(u.x,u.y):new ms(0,0);o._updateID=0;o.textureCacheIds=[];if(!r.valid){r.once("loaded",o.onBaseTextureUpdated,o)}else if(o.noFrame){if(r.valid){o.onBaseTextureUpdated(r)}}else{o.frame=n}if(o.noFrame){r.on("update",o.onBaseTextureUpdated,o)}return o}i.prototype.update=function(){if(this.baseTexture.resource){this.baseTexture.resource.update()}};i.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid){return}this._frame.width=t.width;this._frame.height=t.height;this.valid=true;this.updateUvs()}else{this.frame=this._frame}this.emit("update",this)};i.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;if(r&&r.url&&is[r.url]){i.removeFromCache(r.url)}this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this);this.baseTexture.off("update",this.onBaseTextureUpdated,this);this.baseTexture=null}this._frame=null;this._uvs=null;this.trim=null;this.orig=null;this.valid=false;i.removeFromCache(this);this.textureCacheIds=null};i.prototype.clone=function(){return new i(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)};i.prototype.updateUvs=function(){if(this._uvs===Ca){this._uvs=new Ia}this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};i.from=function(t,r,n){if(r===void 0){r={}}if(n===void 0){n=Y.STRICT_TEXTURE_CACHE}var e=typeof t==="string";var s=null;if(e){s=t}else{if(!t._pixiId){t._pixiId="pixiid_"+Ze()}s=t._pixiId}var a=is[s];if(e&&n&&!a){throw new Error('The cacheId "'+s+'" does not exist in TextureCache.')}if(!a){if(!r.resolution){r.resolution=us(t)}a=new i(new ba(t,r));a.baseTexture.cacheId=s;ba.addToCache(a.baseTexture,s);i.addToCache(a,s)}return a};i.fromURL=function(t,r){var n=Object.assign({autoLoad:false},r===null||r===void 0?void 0:r.resourceOptions);var e=i.from(t,Object.assign({resourceOptions:n},r),false);var s=e.baseTexture.resource;if(e.baseTexture.valid){return Promise.resolve(e)}return s.load().then((function(){return Promise.resolve(e)}))};i.fromBuffer=function(t,r,n,e){return new i(ba.fromBuffer(t,r,n,e))};i.fromLoader=function(t,r,n){var e=new Oa(t);e.url=r;var s=new ba(e,{scaleMode:Y.SCALE_MODE,resolution:us(r)});var a=new i(s);if(!n){n=r}ba.addToCache(a.baseTexture,n);i.addToCache(a,n);if(n!==r){ba.addToCache(a.baseTexture,r);i.addToCache(a,r)}return a};i.addToCache=function(t,i){if(i){if(t.textureCacheIds.indexOf(i)===-1){t.textureCacheIds.push(i)}if(is[i]){console.warn("Texture added to the cache with an id ["+i+"] that already had an entry")}is[i]=t}};i.removeFromCache=function(t){if(typeof t==="string"){var i=is[t];if(i){var r=i.textureCacheIds.indexOf(t);if(r>-1){i.textureCacheIds.splice(r,1)}delete is[t];return i}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n){if(is[t.textureCacheIds[n]]===t){delete is[t.textureCacheIds[n]]}}t.textureCacheIds.length=0;return t}return null};Object.defineProperty(i.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t;this.noFrame=false;var i=t.x,r=t.y,n=t.width,e=t.height;var s=i+n>this.baseTexture.width;var a=r+e>this.baseTexture.height;if(s||a){var u=s&&a?"and":"or";var o="X: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.width;var h="Y: "+r+" + "+e+" = "+(r+e)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(o+" "+u+" "+h))}this.valid=n&&e&&this.baseTexture.valid;if(!this.trim&&!this.rotate){this.orig=t}if(this.valid){this.updateUvs()}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t;if(this.valid){this.updateUvs()}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"width",{get:function(){return this.orig.width},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return this.orig.height},enumerable:false,configurable:true});i.prototype.castToBaseTexture=function(){return this.baseTexture};return i}(q);function Ra(){var t=document.createElement("canvas");t.width=16;t.height=16;var i=t.getContext("2d");i.fillStyle="white";i.fillRect(0,0,16,16);return new Pa(new ba(new wa(t)))}function Na(t){t.destroy=function t(){};t.on=function t(){};t.once=function t(){};t.emit=function t(){}}Pa.EMPTY=new Pa(new ba);Na(Pa.EMPTY);Na(Pa.EMPTY.baseTexture);Pa.WHITE=Ra();Na(Pa.WHITE);Na(Pa.WHITE.baseTexture);var Fa=function(t){va(i,t);function i(i,r){var n=this;var e=null;if(!(i instanceof Sa)){var s=arguments[1];var a=arguments[2];var u=arguments[3];var o=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly.");e=arguments[0];r=null;i=new Sa({width:s,height:a,scaleMode:u,resolution:o})}n=t.call(this,i,r)||this;n.legacyRenderer=e;n.valid=true;n.filterFrame=null;n.filterPoolKey=null;n.updateUvs();return n}Object.defineProperty(i.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:false,configurable:true});i.prototype.resize=function(t,i,r){if(r===void 0){r=true}t=Math.ceil(t);i=Math.ceil(i);this.valid=t>0&&i>0;this._frame.width=this.orig.width=t;this._frame.height=this.orig.height=i;if(r){this.baseTexture.resize(t,i)}this.updateUvs()};i.prototype.setResolution=function(t){var i=this.baseTexture;if(i.resolution===t){return}i.setResolution(t);this.resize(i.width,i.height,false)};i.create=function(t){if(typeof t==="number"){t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}return new i(new Sa(t))};return i}(Pa);var Da=function(){function t(t){this.texturePool={};this.textureOptions=t||{};this.enableFullScreen=false;this._pixelsWidth=0;this._pixelsHeight=0}t.prototype.createTexture=function(t,i){var r=new Sa(Object.assign({width:t,height:i,resolution:1},this.textureOptions));return new Fa(r)};t.prototype.getOptimalTexture=function(i,r,n){if(n===void 0){n=1}var e=t.SCREEN_KEY;i*=n;r*=n;if(!this.enableFullScreen||i!==this._pixelsWidth||r!==this._pixelsHeight){i=He(i);r=He(r);e=(i&65535)<<16|r&65535}if(!this.texturePool[e]){this.texturePool[e]=[]}var s=this.texturePool[e].pop();if(!s){s=this.createTexture(i,r)}s.filterPoolKey=e;s.setResolution(n);return s};t.prototype.getFilterTexture=function(t,i){var r=this.getOptimalTexture(t.width,t.height,i||t.resolution);r.filterFrame=t.filterFrame;return r};t.prototype.returnTexture=function(t){var i=t.filterPoolKey;t.filterFrame=null;this.texturePool[i].push(t)};t.prototype.returnFilterTexture=function(t){this.returnTexture(t)};t.prototype.clear=function(t){t=t!==false;if(t){for(var i in this.texturePool){var r=this.texturePool[i];if(r){for(var n=0;n<r.length;n++){r[n].destroy(true)}}}}this.texturePool={}};t.prototype.setScreenSize=function(i){if(i.width===this._pixelsWidth&&i.height===this._pixelsHeight){return}var r=t.SCREEN_KEY;var n=this.texturePool[r];this.enableFullScreen=i.width>0&&i.height>0;if(n){for(var e=0;e<n.length;e++){n[e].destroy(true)}}this.texturePool[r]=[];this._pixelsWidth=i.width;this._pixelsHeight=i.height};t.SCREEN_KEY="screen";return t}();var La=function(){function t(t,i,r,n,e,s,a){if(i===void 0){i=0}if(r===void 0){r=false}if(n===void 0){n=5126}this.buffer=t;this.size=i;this.normalized=r;this.type=n;this.stride=e;this.start=s;this.instance=a}t.prototype.destroy=function(){this.buffer=null};t.from=function(i,r,n,e,s){return new t(i,r,n,e,s)};return t}();var Ua=0;var ka=function(){function t(t,i,r){if(i===void 0){i=true}if(r===void 0){r=false}this.data=t||new Float32Array(1);this._glBuffers={};this._updateID=0;this.index=r;this.static=i;this.id=Ua++;this.disposeRunner=new oa("disposeBuffer")}t.prototype.update=function(t){this.data=t||this.data;this._updateID++};t.prototype.dispose=function(){this.disposeRunner.emit(this,false)};t.prototype.destroy=function(){this.dispose();this.data=null};t.from=function(i){if(i instanceof Array){i=new Float32Array(i)}return new t(i)};return t}();function Ba(t){if(t.BYTES_PER_ELEMENT===4){if(t instanceof Float32Array){return"Float32Array"}else if(t instanceof Uint32Array){return"Uint32Array"}return"Int32Array"}else if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array){return"Uint16Array"}}else if(t.BYTES_PER_ELEMENT===1){if(t instanceof Uint8Array){return"Uint8Array"}}return null}var Va={Float32Array,Uint32Array,Int32Array,Uint8Array};function Wa(t,i){var r=0;var n=0;var e={};for(var s=0;s<t.length;s++){n+=i[s];r+=t[s].length}var a=new ArrayBuffer(r*4);var u=null;var o=0;for(var s=0;s<t.length;s++){var h=i[s];var f=t[s];var l=Ba(f);if(!e[l]){e[l]=new Va[l](a)}u=e[l];for(var v=0;v<f.length;v++){var c=(v/h|0)*n+o;var d=v%h;u[c+d]=f[v]}o+=h}return new Float32Array(a)}var Ga={5126:4,5123:2,5121:1};var za=0;var Ha={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};var Xa=function(){function t(t,i){if(t===void 0){t=[]}if(i===void 0){i={}}this.buffers=t;this.indexBuffer=null;this.attributes=i;this.glVertexArrayObjects={};this.id=za++;this.instanced=false;this.instanceCount=1;this.disposeRunner=new oa("disposeGeometry");this.refCount=0}t.prototype.addAttribute=function(t,i,r,n,e,s,a,u){if(r===void 0){r=0}if(n===void 0){n=false}if(u===void 0){u=false}if(!i){throw new Error("You must pass a buffer when creating an attribute")}if(!(i instanceof ka)){if(i instanceof Array){i=new Float32Array(i)}i=new ka(i)}var o=t.split("|");if(o.length>1){for(var h=0;h<o.length;h++){this.addAttribute(o[h],i,r,n,e)}return this}var f=this.buffers.indexOf(i);if(f===-1){this.buffers.push(i);f=this.buffers.length-1}this.attributes[t]=new La(f,r,n,e,s,a,u);this.instanced=this.instanced||u;return this};t.prototype.getAttribute=function(t){return this.attributes[t]};t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]};t.prototype.addIndex=function(t){if(!(t instanceof ka)){if(t instanceof Array){t=new Uint16Array(t)}t=new ka(t)}t.index=true;this.indexBuffer=t;if(this.buffers.indexOf(t)===-1){this.buffers.push(t)}return this};t.prototype.getIndex=function(){return this.indexBuffer};t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer){return this}var t=[];var i=[];var r=new ka;var n;for(n in this.attributes){var e=this.attributes[n];var s=this.buffers[e.buffer];t.push(s.data);i.push(e.size*Ga[e.type]/4);e.buffer=0}r.data=Wa(t,i);for(n=0;n<this.buffers.length;n++){if(this.buffers[n]!==this.indexBuffer){this.buffers[n].destroy()}}this.buffers=[r];if(this.indexBuffer){this.buffers.push(this.indexBuffer)}return this};t.prototype.getSize=function(){for(var t in this.attributes){var i=this.attributes[t];var r=this.buffers[i.buffer];return r.data.length/(i.stride/4||i.size)}return 0};t.prototype.dispose=function(){this.disposeRunner.emit(this,false)};t.prototype.destroy=function(){this.dispose();this.buffers=null;this.indexBuffer=null;this.attributes=null};t.prototype.clone=function(){var i=new t;for(var r=0;r<this.buffers.length;r++){i.buffers[r]=new ka(this.buffers[r].data.slice(0))}for(var r in this.attributes){var n=this.attributes[r];i.attributes[r]=new La(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}if(this.indexBuffer){i.indexBuffer=i.buffers[this.buffers.indexOf(this.indexBuffer)];i.indexBuffer.index=true}return i};t.merge=function(i){var r=new t;var n=[];var e=[];var s=[];var a;for(var u=0;u<i.length;u++){a=i[u];for(var o=0;o<a.buffers.length;o++){e[o]=e[o]||0;e[o]+=a.buffers[o].data.length;s[o]=0}}for(var u=0;u<a.buffers.length;u++){n[u]=new(Ha[Ba(a.buffers[u].data)])(e[u]);r.buffers[u]=new ka(n[u])}for(var u=0;u<i.length;u++){a=i[u];for(var o=0;o<a.buffers.length;o++){n[o].set(a.buffers[o].data,s[o]);s[o]+=a.buffers[o].data.length}}r.attributes=a.attributes;if(a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)];r.indexBuffer.index=true;var h=0;var f=0;var l=0;var v=0;for(var u=0;u<a.buffers.length;u++){if(a.buffers[u]!==a.indexBuffer){v=u;break}}for(var u in a.attributes){var c=a.attributes[u];if((c.buffer|0)===v){f+=c.size*Ga[c.type]/4}}for(var u=0;u<i.length;u++){var d=i[u].indexBuffer.data;for(var o=0;o<d.length;o++){r.indexBuffer.data[o+l]+=h}h+=a.buffers[v].data.length/f;l+=d.length}}return r};return t}();var Ya=function(t){va(i,t);function i(){var i=t.call(this)||this;i.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]);return i}return i}(Xa);var qa=function(t){va(i,t);function i(){var i=t.call(this)||this;i.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);i.uvs=new Float32Array([0,0,1,0,1,1,0,1]);i.vertexBuffer=new ka(i.vertices);i.uvBuffer=new ka(i.uvs);i.addAttribute("aVertexPosition",i.vertexBuffer).addAttribute("aTextureCoord",i.uvBuffer).addIndex([0,1,2,0,2,3]);return i}i.prototype.map=function(t,i){var r=0;var n=0;this.uvs[0]=r;this.uvs[1]=n;this.uvs[2]=r+i.width/t.width;this.uvs[3]=n;this.uvs[4]=r+i.width/t.width;this.uvs[5]=n+i.height/t.height;this.uvs[6]=r;this.uvs[7]=n+i.height/t.height;r=i.x;n=i.y;this.vertices[0]=r;this.vertices[1]=n;this.vertices[2]=r+i.width;this.vertices[3]=n;this.vertices[4]=r+i.width;this.vertices[5]=n+i.height;this.vertices[6]=r;this.vertices[7]=n+i.height;this.invalidate();return this};i.prototype.invalidate=function(){this.vertexBuffer._updateID++;this.uvBuffer._updateID++;return this};return i}(Xa);var $a=0;var Ja=function(){function t(t,i){this.uniforms=t;this.group=true;this.syncUniforms={};this.dirtyId=0;this.id=$a++;this.static=!!i}t.prototype.update=function(){this.dirtyId++};t.prototype.add=function(i,r,n){this.uniforms[i]=new t(r,n)};t.from=function(i,r){return new t(i,r)};return t}();var Za=function(){function t(){this.renderTexture=null;this.target=null;this.legacy=false;this.resolution=1;this.sourceFrame=new vs;this.destinationFrame=new vs;this.filters=[]}t.prototype.clear=function(){this.target=null;this.filters=null;this.renderTexture=null};return t}();var Ka=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.defaultFilterStack=[{}];r.texturePool=new Da;r.texturePool.setScreenSize(i.view);r.statePool=[];r.quad=new Ya;r.quadUv=new qa;r.tempRect=new vs;r.activeState={};r.globalUniforms=new Ja({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},true);r.forceClear=false;r.useMaxPadding=false;return r}i.prototype.push=function(t,i){var r=this.renderer;var n=this.defaultFilterStack;var e=this.statePool.pop()||new Za;var s=i[0].resolution;var a=i[0].padding;var u=i[0].autoFit;var o=i[0].legacy;for(var h=1;h<i.length;h++){var f=i[h];s=Math.min(s,f.resolution);a=this.useMaxPadding?Math.max(a,f.padding):a+f.padding;u=u&&f.autoFit;o=o||f.legacy}if(n.length===1){this.defaultFilterStack[0].renderTexture=r.renderTexture.current}n.push(e);e.resolution=s;e.legacy=o;e.target=t;e.sourceFrame.copyFrom(t.filterArea||t.getBounds(true));e.sourceFrame.pad(a);if(u){e.sourceFrame.fit(this.renderer.renderTexture.sourceFrame)}e.sourceFrame.ceil(s);e.renderTexture=this.getOptimalFilterTexture(e.sourceFrame.width,e.sourceFrame.height,s);e.filters=i;e.destinationFrame.width=e.renderTexture.width;e.destinationFrame.height=e.renderTexture.height;var l=this.tempRect;l.width=e.sourceFrame.width;l.height=e.sourceFrame.height;e.renderTexture.filterFrame=e.sourceFrame;r.renderTexture.bind(e.renderTexture,e.sourceFrame,l);r.renderTexture.clear()};i.prototype.pop=function(){var t=this.defaultFilterStack;var i=t.pop();var r=i.filters;this.activeState=i;var n=this.globalUniforms.uniforms;n.outputFrame=i.sourceFrame;n.resolution=i.resolution;var e=n.inputSize;var s=n.inputPixel;var a=n.inputClamp;e[0]=i.destinationFrame.width;e[1]=i.destinationFrame.height;e[2]=1/e[0];e[3]=1/e[1];s[0]=e[0]*i.resolution;s[1]=e[1]*i.resolution;s[2]=1/s[0];s[3]=1/s[1];a[0]=.5*s[2];a[1]=.5*s[3];a[2]=i.sourceFrame.width*e[2]-.5*s[2];a[3]=i.sourceFrame.height*e[3]-.5*s[3];if(i.legacy){var u=n.filterArea;u[0]=i.destinationFrame.width;u[1]=i.destinationFrame.height;u[2]=i.sourceFrame.x;u[3]=i.sourceFrame.y;n.filterClamp=n.inputClamp}this.globalUniforms.update();var o=t[t.length-1];if(i.renderTexture.framebuffer.multisample>1){this.renderer.framebuffer.blit()}if(r.length===1){r[0].apply(this,i.renderTexture,o.renderTexture,Me.BLEND,i);this.returnFilterTexture(i.renderTexture)}else{var h=i.renderTexture;var f=this.getOptimalFilterTexture(h.width,h.height,i.resolution);f.filterFrame=h.filterFrame;var l=0;for(l=0;l<r.length-1;++l){r[l].apply(this,h,f,Me.CLEAR,i);var v=h;h=f;f=v}r[l].apply(this,h,o.renderTexture,Me.BLEND,i);this.returnFilterTexture(h);this.returnFilterTexture(f)}i.clear();this.statePool.push(i)};i.prototype.bindAndClear=function(t,i){if(i===void 0){i=Me.CLEAR}if(t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width;r.height=t.filterFrame.height;this.renderer.renderTexture.bind(t,t.filterFrame,r)}else{this.renderer.renderTexture.bind(t)}if(typeof i==="boolean"){i=i?Me.CLEAR:Me.BLEND;Qe("5.2.1","Use CLEAR_MODES when using clear applyFilter option")}if(i===Me.CLEAR||i===Me.BLIT&&this.forceClear){this.renderer.renderTexture.clear()}};i.prototype.applyFilter=function(t,i,r,n){var e=this.renderer;this.bindAndClear(r,n);t.uniforms.uSampler=i;t.uniforms.filterGlobals=this.globalUniforms;e.state.set(t.state);e.shader.bind(t);if(t.legacy){this.quadUv.map(i._frame,i.filterFrame);e.geometry.bind(this.quadUv);e.geometry.draw(me.TRIANGLES)}else{e.geometry.bind(this.quad);e.geometry.draw(me.TRIANGLE_STRIP)}};i.prototype.calculateSpriteMatrix=function(t,i){var r=this.activeState,n=r.sourceFrame,e=r.destinationFrame;var s=i._texture.orig;var a=t.set(e.width,0,0,e.height,n.x,n.y);var u=i.worldTransform.copyTo(ys.TEMP_MATRIX);u.invert();a.prepend(u);a.scale(1/s.width,1/s.height);a.translate(i.anchor.x,i.anchor.y);return a};i.prototype.destroy=function(){this.texturePool.clear(false)};i.prototype.getOptimalFilterTexture=function(t,i,r){if(r===void 0){r=1}return this.texturePool.getOptimalTexture(t,i,r)};i.prototype.getFilterTexture=function(t,i){if(typeof t==="number"){var r=t;t=i;i=r}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,i||t.resolution);n.filterFrame=t.filterFrame;return n};i.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)};i.prototype.emptyPool=function(){this.texturePool.clear(true)};i.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)};return i}(_a);var Qa=function(){function t(t){this.renderer=t}t.prototype.flush=function(){};t.prototype.destroy=function(){this.renderer=null};t.prototype.start=function(){};t.prototype.stop=function(){this.flush()};t.prototype.render=function(t){};return t}();var tu=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.emptyRenderer=new Qa(i);r.currentRenderer=r.emptyRenderer;return r}i.prototype.setObjectRenderer=function(t){if(this.currentRenderer===t){return}this.currentRenderer.stop();this.currentRenderer=t;this.currentRenderer.start()};i.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};i.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)};i.prototype.copyBoundTextures=function(t,i){var r=this.renderer.texture.boundTextures;for(var n=i-1;n>=0;--n){t[n]=r[n]||null;if(t[n]){t[n]._batchLocation=n}}};i.prototype.boundArray=function(t,i,r,n){var e=t.elements,s=t.ids,a=t.count;var u=0;for(var o=0;o<a;o++){var h=e[o];var f=h._batchLocation;if(f>=0&&f<n&&i[f]===h){s[o]=f;continue}while(u<n){var l=i[u];if(l&&l._batchEnabled===r&&l._batchLocation===u){u++;continue}s[o]=u;h._batchLocation=u;i[u]=h;break}}};return i}(_a);var iu=0;var ru=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.webGLVersion=1;r.extensions={};r.supports={uint32Indices:false};r.handleContextLost=r.handleContextLost.bind(r);r.handleContextRestored=r.handleContextRestored.bind(r);i.view.addEventListener("webglcontextlost",r.handleContextLost,false);i.view.addEventListener("webglcontextrestored",r.handleContextRestored,false);return r}Object.defineProperty(i.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:false,configurable:true});i.prototype.contextChange=function(t){this.gl=t;this.renderer.gl=t;this.renderer.CONTEXT_UID=iu++;if(t.isContextLost()&&t.getExtension("WEBGL_lose_context")){t.getExtension("WEBGL_lose_context").restoreContext()}};i.prototype.initFromContext=function(t){this.gl=t;this.validateContext(t);this.renderer.gl=t;this.renderer.CONTEXT_UID=iu++;this.renderer.runners.contextChange.emit(t)};i.prototype.initFromOptions=function(t){var i=this.createContext(this.renderer.view,t);this.initFromContext(i)};i.prototype.createContext=function(t,i){var r;if(Y.PREFER_ENV>=ce.WEBGL2){r=t.getContext("webgl2",i)}if(r){this.webGLVersion=2}else{this.webGLVersion=1;r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);if(!r){throw new Error("This browser does not support WebGL. Try using the canvas renderer")}}this.gl=r;this.getExtensions();return this.gl};i.prototype.getExtensions=function(){var t=this.gl;if(this.webGLVersion===1){Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")})}else if(this.webGLVersion===2){Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})}};i.prototype.handleContextLost=function(t){t.preventDefault()};i.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)};i.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost);t.removeEventListener("webglcontextrestored",this.handleContextRestored);this.gl.useProgram(null);if(this.extensions.loseContext){this.extensions.loseContext.loseContext()}};i.prototype.postrender=function(){if(this.renderer.renderingToScreen){this.gl.flush()}};i.prototype.validateContext=function(t){var i=t.getContextAttributes();var r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;if(r){this.webGLVersion=2}if(!i.stencil){console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}var n=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n;if(!n){console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}};return i}(_a);var nu=function(){function t(t){this.framebuffer=t;this.stencil=null;this.dirtyId=0;this.dirtyFormat=0;this.dirtySize=0;this.multisample=Se.NONE;this.msaaBuffer=null;this.blitFramebuffer=null}return t}();var eu=new vs;var su=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.managedFramebuffers=[];r.unknownFramebuffer=new Ta(10,10);r.msaaSamples=null;return r}i.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.current=this.unknownFramebuffer;this.viewport=new vs;this.hasMRT=true;this.writeDepthTexture=true;this.disposeAll(true);if(this.renderer.context.webGLVersion===1){var i=this.renderer.context.extensions.drawBuffers;var r=this.renderer.context.extensions.depthTexture;if(Y.PREFER_ENV===ce.WEBGL_LEGACY){i=null;r=null}if(i){t.drawBuffers=function(t){return i.drawBuffersWEBGL(t)}}else{this.hasMRT=false;t.drawBuffers=function(){}}if(!r){this.writeDepthTexture=false}}else{this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}};i.prototype.bind=function(t,i){var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);if(this.current!==t){this.current=t;r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)}if(n.dirtyId!==t.dirtyId){n.dirtyId=t.dirtyId;if(n.dirtyFormat!==t.dirtyFormat){n.dirtyFormat=t.dirtyFormat;this.updateFramebuffer(t)}else if(n.dirtySize!==t.dirtySize){n.dirtySize=t.dirtySize;this.resizeFramebuffer(t)}}for(var e=0;e<t.colorTextures.length;e++){var s=t.colorTextures[e];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture){this.renderer.texture.unbind(t.depthTexture)}if(i){this.setViewport(i.x,i.y,i.width,i.height)}else{this.setViewport(0,0,t.width,t.height)}}else{if(this.current){this.current=null;r.bindFramebuffer(r.FRAMEBUFFER,null)}if(i){this.setViewport(i.x,i.y,i.width,i.height)}else{this.setViewport(0,0,this.renderer.width,this.renderer.height)}}};i.prototype.setViewport=function(t,i,r,n){var e=this.viewport;if(e.width!==r||e.height!==n||e.x!==t||e.y!==i){e.x=t;e.y=i;e.width=r;e.height=n;this.gl.viewport(t,i,r,n)}};Object.defineProperty(i.prototype,"size",{get:function(){if(this.current){return{x:0,y:0,width:this.current.width,height:this.current.height}}return{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:false,configurable:true});i.prototype.clear=function(t,i,r,n,e){if(e===void 0){e=pe.COLOR|pe.DEPTH}var s=this.gl;s.clearColor(t,i,r,n);s.clear(e)};i.prototype.initFramebuffer=function(t){var i=this.gl;var r=new nu(i.createFramebuffer());r.multisample=this.detectSamples(t.multisample);t.glFramebuffers[this.CONTEXT_UID]=r;this.managedFramebuffers.push(t);t.disposeRunner.add(this);return r};i.prototype.resizeFramebuffer=function(t){var i=this.gl;var r=t.glFramebuffers[this.CONTEXT_UID];if(r.stencil){i.bindRenderbuffer(i.RENDERBUFFER,r.stencil);i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height)}var n=t.colorTextures;for(var e=0;e<n.length;e++){this.renderer.texture.bind(n[e],0)}if(t.depthTexture){this.renderer.texture.bind(t.depthTexture,0)}};i.prototype.updateFramebuffer=function(t){var i=this.gl;var r=t.glFramebuffers[this.CONTEXT_UID];var n=t.colorTextures;var e=n.length;if(!i.drawBuffers){e=Math.min(e,1)}if(r.multisample>1){r.msaaBuffer=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer);i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)}var s=[];for(var a=0;a<e;a++){if(a===0&&r.multisample>1){continue}var u=t.colorTextures[a];var o=u.parentTextureArray||u;this.renderer.texture.bind(o,0);i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,u.target,o._glTextures[this.CONTEXT_UID].texture,0);s.push(i.COLOR_ATTACHMENT0+a)}if(s.length>1){i.drawBuffers(s)}if(t.depthTexture){var h=this.writeDepthTexture;if(h){var f=t.depthTexture;this.renderer.texture.bind(f,0);i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)}}if(!r.stencil&&(t.stencil||t.depth)){r.stencil=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,r.stencil);i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height);if(!t.depthTexture){i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil)}}};i.prototype.detectSamples=function(t){var i=this.msaaSamples;var r=Se.NONE;if(t<=1||i===null){return r}for(var n=0;n<i.length;n++){if(i[n]<=t){r=i[n];break}}if(r===1){r=Se.NONE}return r};i.prototype.blit=function(t,i,r){var n=this,e=n.current,s=n.renderer,a=n.gl,u=n.CONTEXT_UID;if(s.context.webGLVersion!==2){return}if(!e){return}var o=e.glFramebuffers[u];if(!o){return}if(!t){if(o.multisample<=1){return}if(!o.blitFramebuffer){o.blitFramebuffer=new Ta(e.width,e.height);o.blitFramebuffer.addColorTexture(0,e.colorTextures[0])}t=o.blitFramebuffer;t.width=e.width;t.height=e.height}if(!i){i=eu;i.width=e.width;i.height=e.height}if(!r){r=i}var h=i.width===r.width&&i.height===r.height;this.bind(t);a.bindFramebuffer(a.READ_FRAMEBUFFER,o.framebuffer);a.blitFramebuffer(i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height,a.COLOR_BUFFER_BIT,h?a.NEAREST:a.LINEAR)};i.prototype.disposeFramebuffer=function(t,i){var r=t.glFramebuffers[this.CONTEXT_UID];var n=this.gl;if(!r){return}delete t.glFramebuffers[this.CONTEXT_UID];var e=this.managedFramebuffers.indexOf(t);if(e>=0){this.managedFramebuffers.splice(e,1)}t.disposeRunner.remove(this);if(!i){n.deleteFramebuffer(r.framebuffer);if(r.stencil){n.deleteRenderbuffer(r.stencil)}}};i.prototype.disposeAll=function(t){var i=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<i.length;r++){this.disposeFramebuffer(i[r],t)}};i.prototype.forceStencil=function(){var t=this.current;if(!t){return}var i=t.glFramebuffers[this.CONTEXT_UID];if(!i||i.stencil){return}t.enableStencil();var r=t.width;var n=t.height;var e=this.gl;var s=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,s);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r,n);i.stencil=s;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,s)};i.prototype.reset=function(){this.current=this.unknownFramebuffer;this.viewport=new vs};return i}(_a);var au=function(){function t(t){this.buffer=t||null;this.updateID=-1;this.byteLength=-1;this.refCount=0}return t}();var uu={5126:4,5123:2,5121:1};var ou=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r._activeGeometry=null;r._activeVao=null;r.hasVao=true;r.hasInstance=true;r.canUseUInt32ElementIndex=false;r.managedGeometries={};r.managedBuffers={};return r}i.prototype.contextChange=function(){this.disposeAll(true);var t=this.gl=this.renderer.gl;var i=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID;if(i.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;if(Y.PREFER_ENV===ce.WEBGL_LEGACY){r=null}if(r){t.createVertexArray=function(){return r.createVertexArrayOES()};t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)};t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}}else{this.hasVao=false;t.createVertexArray=function(){return null};t.bindVertexArray=function(){return null};t.deleteVertexArray=function(){return null}}}if(i.webGLVersion!==2){var n=t.getExtension("ANGLE_instanced_arrays");if(n){t.vertexAttribDivisor=function(t,i){return n.vertexAttribDivisorANGLE(t,i)};t.drawElementsInstanced=function(t,i,r,e,s){return n.drawElementsInstancedANGLE(t,i,r,e,s)};t.drawArraysInstanced=function(t,i,r,e){return n.drawArraysInstancedANGLE(t,i,r,e)}}else{this.hasInstance=false}}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex};i.prototype.bind=function(t,i){i=i||this.renderer.shader.shader;var r=this.gl;var n=t.glVertexArrayObjects[this.CONTEXT_UID];var e=false;if(!n){this.managedGeometries[t.id]=t;t.disposeRunner.add(this);t.glVertexArrayObjects[this.CONTEXT_UID]=n={};e=true}var s=n[i.program.id]||this.initGeometryVao(t,i.program,e);this._activeGeometry=t;if(this._activeVao!==s){this._activeVao=s;if(this.hasVao){r.bindVertexArray(s)}else{this.activateVao(t,i.program)}}this.updateBuffers()};i.prototype.reset=function(){this.unbind()};i.prototype.updateBuffers=function(){var t=this._activeGeometry;var i=this.gl;for(var r=0;r<t.buffers.length;r++){var n=t.buffers[r];var e=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==e.updateID){e.updateID=n._updateID;var s=n.index?i.ELEMENT_ARRAY_BUFFER:i.ARRAY_BUFFER;i.bindBuffer(s,e.buffer);this._boundBuffer=e;if(e.byteLength>=n.data.byteLength){i.bufferSubData(s,0,n.data)}else{var a=n.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;e.byteLength=n.data.byteLength;i.bufferData(s,n.data,a)}}}};i.prototype.checkCompatibility=function(t,i){var r=t.attributes;var n=i.attributeData;for(var e in n){if(!r[e]){throw new Error('shader and geometry incompatible, geometry missing the "'+e+'" attribute')}}};i.prototype.getSignature=function(t,i){var r=t.attributes;var n=i.attributeData;var e=["g",t.id];for(var s in r){if(n[s]){e.push(s)}}return e.join("-")};i.prototype.initGeometryVao=function(t,i,r){if(r===void 0){r=true}this.checkCompatibility(t,i);var n=this.gl;var e=this.CONTEXT_UID;var s=this.getSignature(t,i);var a=t.glVertexArrayObjects[this.CONTEXT_UID];var u=a[s];if(u){a[i.id]=u;return u}var o=t.buffers;var h=t.attributes;var f={};var l={};for(var v in o){f[v]=0;l[v]=0}for(var v in h){if(!h[v].size&&i.attributeData[v]){h[v].size=i.attributeData[v].size}else if(!h[v].size){console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)")}f[h[v].buffer]+=h[v].size*uu[h[v].type]}for(var v in h){var c=h[v];var d=c.size;if(c.stride===undefined){if(f[c.buffer]===d*uu[c.type]){c.stride=0}else{c.stride=f[c.buffer]}}if(c.start===undefined){c.start=l[c.buffer];l[c.buffer]+=d*uu[c.type]}}u=n.createVertexArray();n.bindVertexArray(u);for(var p=0;p<o.length;p++){var b=o[p];if(!b._glBuffers[e]){b._glBuffers[e]=new au(n.createBuffer());this.managedBuffers[b.id]=b;b.disposeRunner.add(this)}if(r){b._glBuffers[e].refCount++}}this.activateVao(t,i);this._activeVao=u;a[i.id]=u;a[s]=u;return u};i.prototype.disposeBuffer=function(t,i){if(!this.managedBuffers[t.id]){return}delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID];var n=this.gl;t.disposeRunner.remove(this);if(!r){return}if(!i){n.deleteBuffer(r.buffer)}delete t._glBuffers[this.CONTEXT_UID]};i.prototype.disposeGeometry=function(t,i){if(!this.managedGeometries[t.id]){return}delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID];var n=this.gl;var e=t.buffers;t.disposeRunner.remove(this);if(!r){return}for(var s=0;s<e.length;s++){var a=e[s]._glBuffers[this.CONTEXT_UID];a.refCount--;if(a.refCount===0&&!i){this.disposeBuffer(e[s],i)}}if(!i){for(var u in r){if(u[0]==="g"){var o=r[u];if(this._activeVao===o){this.unbind()}n.deleteVertexArray(o)}}}delete t.glVertexArrayObjects[this.CONTEXT_UID]};i.prototype.disposeAll=function(t){var i=Object.keys(this.managedGeometries);for(var r=0;r<i.length;r++){this.disposeGeometry(this.managedGeometries[i[r]],t)}i=Object.keys(this.managedBuffers);for(var r=0;r<i.length;r++){this.disposeBuffer(this.managedBuffers[i[r]],t)}};i.prototype.activateVao=function(t,i){var r=this.gl;var n=this.CONTEXT_UID;var e=t.buffers;var s=t.attributes;if(t.indexBuffer){r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[n].buffer)}var a=null;for(var u in s){var o=s[u];var h=e[o.buffer];var f=h._glBuffers[n];if(i.attributeData[u]){if(a!==f){r.bindBuffer(r.ARRAY_BUFFER,f.buffer);a=f}var l=i.attributeData[u].location;r.enableVertexAttribArray(l);r.vertexAttribPointer(l,o.size,o.type||r.FLOAT,o.normalized,o.stride,o.start);if(o.instance){if(this.hasInstance){r.vertexAttribDivisor(l,1)}else{throw new Error("geometry error, GPU Instancing is not supported on this device")}}}}};i.prototype.draw=function(t,i,r,n){var e=this.gl;var s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT;var u=a===2?e.UNSIGNED_SHORT:e.UNSIGNED_INT;if(a===2||a===4&&this.canUseUInt32ElementIndex){if(s.instanced){e.drawElementsInstanced(t,i||s.indexBuffer.data.length,u,(r||0)*a,n||1)}else{e.drawElements(t,i||s.indexBuffer.data.length,u,(r||0)*a)}}else{console.warn("unsupported index buffer type: uint32")}}else if(s.instanced){e.drawArraysInstanced(t,r,i||s.getSize(),n||1)}else{e.drawArrays(t,r,i||s.getSize())}return this};i.prototype.unbind=function(){this.gl.bindVertexArray(null);this._activeVao=null;this._activeGeometry=null};return i}(_a);var hu=function(){function t(t){if(t===void 0){t=null}this.type=Te.NONE;this.autoDetect=true;this.maskObject=t||null;this.pooled=false;this.isMaskData=true;this._stencilCounter=0;this._scissorCounter=0;this._scissorRect=null;this._target=null}t.prototype.reset=function(){if(this.pooled){this.maskObject=null;this.type=Te.NONE;this.autoDetect=true}this._target=null};t.prototype.copyCountersOrReset=function(t){if(t){this._stencilCounter=t._stencilCounter;this._scissorCounter=t._scissorCounter;this._scissorRect=t._scissorRect}else{this._stencilCounter=0;this._scissorCounter=0;this._scissorRect=null}};return t}();function fu(t,i,r){var n=t.createShader(i);t.shaderSource(n,r);t.compileShader(n);return n}function lu(t,i,r,n){var e=fu(t,t.VERTEX_SHADER,i);var s=fu(t,t.FRAGMENT_SHADER,r);var a=t.createProgram();t.attachShader(a,e);t.attachShader(a,s);if(n){for(var u in n){t.bindAttribLocation(a,n[u],u)}}t.linkProgram(a);if(!t.getProgramParameter(a,t.LINK_STATUS)){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){console.warn(i);console.error(t.getShaderInfoLog(e))}if(!t.getShaderParameter(s,t.COMPILE_STATUS)){console.warn(r);console.error(t.getShaderInfoLog(s))}console.error("Pixi.js Error: Could not initialize shader.");console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS));console.error("gl.getError()",t.getError());if(t.getProgramInfoLog(a)!==""){console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a))}t.deleteProgram(a);a=null}t.deleteShader(e);t.deleteShader(s);return a}function vu(t){var i=new Array(t);for(var r=0;r<i.length;r++){i[r]=false}return i}function cu(t,i){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*i);case"vec3":return new Float32Array(3*i);case"vec4":return new Float32Array(4*i);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*i);case"ivec3":return new Int32Array(3*i);case"ivec4":return new Int32Array(4*i);case"bool":return false;case"bvec2":return vu(2*i);case"bvec3":return vu(3*i);case"bvec4":return vu(4*i);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var du={};var pu=du;function bu(){if(pu===du||pu&&pu.isContextLost()){var t=document.createElement("canvas");var i=void 0;if(Y.PREFER_ENV>=ce.WEBGL2){i=t.getContext("webgl2",{})}if(!i){i=t.getContext("webgl",{})||t.getContext("experimental-webgl",{});if(!i){i=null}else{i.getExtension("WEBGL_draw_buffers")}}pu=i}return pu}var mu;function gu(){if(!mu){mu=je.MEDIUM;var t=bu();if(t){if(t.getShaderPrecisionFormat){var i=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);mu=i.precision?je.HIGH:je.MEDIUM}}}return mu}function yu(t,i,r){if(t.substring(0,9)!=="precision"){var n=i;if(i===je.HIGH&&r!==je.HIGH){n=je.MEDIUM}return"precision "+n+" float;\n"+t}else if(r!==je.HIGH&&t.substring(0,15)==="precision highp"){return t.replace("precision highp","precision mediump")}return t}var wu={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Au(t){return wu[t]}var Ou=null;var xu={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Eu(t,i){if(!Ou){var r=Object.keys(xu);Ou={};for(var n=0;n<r.length;++n){var e=r[n];Ou[t[e]]=xu[e]}}return Ou[i]}var Mu=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,i){return t.type==="mat3"&&t.size===1&&i.a!==undefined},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,i){return t.type==="vec2"&&t.size===1&&i.x!==undefined},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,i){return t.type==="vec4"&&t.size===1&&i.width!==undefined},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}];var _u={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"};var ju={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Tu(t,i){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var n in t.uniforms){var e=i[n];if(!e){if(t.uniforms[n].group){r.push('\n                    renderer.shader.syncUniformGroup(uv["'+n+'"], syncData);\n                ')}continue}var s=t.uniforms[n];var a=false;for(var u=0;u<Mu.length;u++){if(Mu[u].test(e,s)){r.push(Mu[u].code(n,s));a=true;break}}if(!a){var o=e.size===1?_u:ju;var h=o[e.type].replace("location",'ud["'+n+'"].location');r.push('\n            cv = ud["'+n+'"].value;\n            v = uv["'+n+'"];\n            '+h+";")}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}var Su=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Iu(t){var i="";for(var r=0;r<t;++r){if(r>0){i+="\nelse "}if(r<t-1){i+="if(test == "+r+".0){}"}}return i}function Cu(t,i){if(t===0){throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`")}var r=i.createShader(i.FRAGMENT_SHADER);while(true){var n=Su.replace(/%forloop%/gi,Iu(t));i.shaderSource(r,n);i.compileShader(r);if(!i.getShaderParameter(r,i.COMPILE_STATUS)){t=t/2|0}else{break}}return t}var Pu;function Ru(){if(typeof Pu==="boolean"){return Pu}try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Pu=t({a:"b"},"a","b")===true}catch(t){Pu=false}return Pu}var Nu="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}";var Fu="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";var Du=0;var Lu={};var Uu=function(){function t(i,r,n){if(n===void 0){n="pixi-shader"}this.id=Du++;this.vertexSrc=i||t.defaultVertexSrc;this.fragmentSrc=r||t.defaultFragmentSrc;this.vertexSrc=this.vertexSrc.trim();this.fragmentSrc=this.fragmentSrc.trim();if(this.vertexSrc.substring(0,8)!=="#version"){n=n.replace(/\s+/g,"-");if(Lu[n]){Lu[n]++;n+="-"+Lu[n]}else{Lu[n]=1}this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc;this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc;this.vertexSrc=yu(this.vertexSrc,Y.PRECISION_VERTEX,je.HIGH);this.fragmentSrc=yu(this.fragmentSrc,Y.PRECISION_FRAGMENT,gu())}this.extractData(this.vertexSrc,this.fragmentSrc);this.glPrograms={};this.syncUniforms=null}t.prototype.extractData=function(t,i){var r=bu();if(r){var n=lu(r,t,i);this.attributeData=this.getAttributeData(n,r);this.uniformData=this.getUniformData(n,r);r.deleteProgram(n)}else{this.uniformData={};this.attributeData={}}};t.prototype.getAttributeData=function(t,i){var r={};var n=[];var e=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(var s=0;s<e;s++){var a=i.getActiveAttrib(t,s);var u=Eu(i,a.type);var o={type:u,name:a.name,size:Au(u),location:0};r[a.name]=o;n.push(o)}n.sort((function(t,i){return t.name>i.name?1:-1}));for(var s=0;s<n.length;s++){n[s].location=s}return r};t.prototype.getUniformData=function(t,i){var r={};var n=i.getProgramParameter(t,i.ACTIVE_UNIFORMS);for(var e=0;e<n;e++){var s=i.getActiveUniform(t,e);var a=s.name.replace(/\[.*?\]$/,"");var u=s.name.match(/\[.*?\]$/);var o=Eu(i,s.type);r[a]={type:o,size:s.size,isArray:u,value:cu(o,s.size)}}return r};Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Fu},enumerable:false,configurable:true});Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return Nu},enumerable:false,configurable:true});t.from=function(i,r,n){var e=i+r;var s=ts[e];if(!s){ts[e]=s=new t(i,r,n)}return s};return t}();var ku=function(){function t(t,i){this.program=t;if(i){if(i instanceof Ja){this.uniformGroup=i}else{this.uniformGroup=new Ja(i)}}else{this.uniformGroup=new Ja({})}for(var r in t.uniformData){if(this.uniformGroup.uniforms[r]instanceof Array){this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r])}}}t.prototype.checkUniformExists=function(t,i){if(i.uniforms[t]){return true}for(var r in i.uniforms){var n=i.uniforms[r];if(n.group){if(this.checkUniformExists(t,n)){return true}}}return false};t.prototype.destroy=function(){this.uniformGroup=null};Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:false,configurable:true});t.from=function(i,r,n){var e=Uu.from(i,r);return new t(e,n)};return t}();var Bu=0;var Vu=1;var Wu=2;var Gu=3;var zu=4;var Hu=function(){function t(){this.data=0;this.blendMode=be.NORMAL;this.polygonOffset=0;this.blend=true}Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<Bu)},set:function(t){if(!!(this.data&1<<Bu)!==t){this.data^=1<<Bu}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Vu)},set:function(t){if(!!(this.data&1<<Vu)!==t){this.data^=1<<Vu}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Wu)},set:function(t){if(!!(this.data&1<<Wu)!==t){this.data^=1<<Wu}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Gu)},set:function(t){if(!!(this.data&1<<Gu)!==t){this.data^=1<<Gu}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<zu)},set:function(t){if(!!(this.data&1<<zu)!==t){this.data^=1<<zu}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==be.NONE;this._blendMode=t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t;this._polygonOffset=t},enumerable:false,configurable:true});t.for2d=function(){var i=new t;i.depthTest=false;i.blend=true;return i};return t}();var Xu="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";var Yu="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n";var qu=function(t){va(i,t);function i(r,n,e){var s=this;var a=Uu.from(r||i.defaultVertexSrc,n||i.defaultFragmentSrc);s=t.call(this,a,e)||this;s.padding=0;s.resolution=Y.FILTER_RESOLUTION;s.enabled=true;s.autoFit=true;s.legacy=!!s.program.attributeData.aTextureCoord;s.state=new Hu;return s}i.prototype.apply=function(t,i,r,n,e){t.applyFilter(this,i,r,n)};Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(i,"defaultVertexSrc",{get:function(){return Xu},enumerable:false,configurable:true});Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return Yu},enumerable:false,configurable:true});return i}(ku);var $u="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";var Ju="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n";var Zu=new ys;var Ku=function(){function t(t,i){this._texture=t;this.mapCoord=new ys;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._textureID=-1;this._updateID=0;this.clampOffset=0;this.clampMargin=typeof i==="undefined"?.5:i;this.isSimple=false}Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t;this._textureID=-1},enumerable:false,configurable:true});t.prototype.multiplyUvs=function(t,i){if(i===undefined){i=t}var r=this.mapCoord;for(var n=0;n<t.length;n+=2){var e=t[n];var s=t[n+1];i[n]=e*r.a+s*r.c+r.tx;i[n+1]=e*r.b+s*r.d+r.ty}return i};t.prototype.update=function(t){var i=this._texture;if(!i||!i.valid){return false}if(!t&&this._textureID===i._updateID){return false}this._textureID=i._updateID;this._updateID++;var r=i._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=i.orig;var e=i.trim;if(e){Zu.set(n.width/e.width,0,0,n.height/e.height,-e.x/e.width,-e.y/e.height);this.mapCoord.append(Zu)}var s=i.baseTexture;var a=this.uClampFrame;var u=this.clampMargin/s.resolution;var o=this.clampOffset;a[0]=(i._frame.x+u+o)/s.width;a[1]=(i._frame.y+u+o)/s.height;a[2]=(i._frame.x+i._frame.width-u+o)/s.width;a[3]=(i._frame.y+i._frame.height-u+o)/s.height;this.uClampOffset[0]=o/s.realWidth;this.uClampOffset[1]=o/s.realHeight;this.isSimple=i._frame.width===s.width&&i._frame.height===s.height&&i.rotate===0;return true};return t}();var Qu=function(t){va(i,t);function i(i){var r=this;var n=new ys;r=t.call(this,$u,Ju)||this;i.renderable=false;r.maskSprite=i;r.maskMatrix=n;return r}i.prototype.apply=function(t,i,r,n){var e=this.maskSprite;var s=e._texture;if(!s.valid){return}if(!s.uvMatrix){s.uvMatrix=new Ku(s,0)}s.uvMatrix.update();this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1;this.uniforms.mask=s;this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,e).prepend(s.uvMatrix.mapCoord);this.uniforms.alpha=e.worldAlpha;this.uniforms.maskClamp=s.uvMatrix.uClampFrame;t.applyFilter(this,i,r,n)};return i}(qu);var to=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.enableScissor=false;r.alphaMaskPool=[];r.maskDataPool=[];r.maskStack=[];r.alphaMaskIndex=0;return r}i.prototype.setMaskStack=function(t){this.maskStack=t;this.renderer.scissor.setMaskStack(t);this.renderer.stencil.setMaskStack(t)};i.prototype.push=function(t,i){var r=i;if(!r.isMaskData){var n=this.maskDataPool.pop()||new hu;n.pooled=true;n.maskObject=i;r=n}if(r.autoDetect){this.detect(r)}r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]);r._target=t;switch(r.type){case Te.SCISSOR:this.maskStack.push(r);this.renderer.scissor.push(r);break;case Te.STENCIL:this.maskStack.push(r);this.renderer.stencil.push(r);break;case Te.SPRITE:r.copyCountersOrReset(null);this.pushSpriteMask(r);this.maskStack.push(r);break}};i.prototype.pop=function(t){var i=this.maskStack.pop();if(!i||i._target!==t){return}switch(i.type){case Te.SCISSOR:this.renderer.scissor.pop();break;case Te.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case Te.SPRITE:this.popSpriteMask();break}i.reset();if(i.pooled){this.maskDataPool.push(i)}};i.prototype.detect=function(t){var i=t.maskObject;if(i.isSprite){t.type=Te.SPRITE;return}t.type=Te.STENCIL;if(this.enableScissor&&i.isFastRect&&i.isFastRect()){var r=i.worldTransform;var n=Math.atan2(r.b,r.a);var e=Math.atan2(r.d,r.c);n=Math.round(n*(180/Math.PI)*100);e=Math.round(e*(180/Math.PI)*100)-n;n=(n%9e3+9e3)%9e3;e=(e%18e3+18e3)%18e3;if(n===0&&e===9e3){t.type=Te.SCISSOR}}};i.prototype.pushSpriteMask=function(t){var i=t.maskObject;var r=t._target;var n=this.alphaMaskPool[this.alphaMaskIndex];if(!n){n=this.alphaMaskPool[this.alphaMaskIndex]=[new Qu(i)]}n[0].resolution=this.renderer.resolution;n[0].maskSprite=i;var e=r.filterArea;r.filterArea=i.getBounds(true);this.renderer.filter.push(r,n);r.filterArea=e;this.alphaMaskIndex++};i.prototype.popSpriteMask=function(){this.renderer.filter.pop();this.alphaMaskIndex--};return i}(_a);var io=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.maskStack=[];r.glConst=0;return r}i.prototype.getStackLength=function(){return this.maskStack.length};i.prototype.setMaskStack=function(t){var i=this.renderer.gl;var r=this.getStackLength();this.maskStack=t;var n=this.getStackLength();if(n!==r){if(n===0){i.disable(this.glConst)}else{i.enable(this.glConst);this._useCurrent()}}};i.prototype._useCurrent=function(){};i.prototype.destroy=function(){t.prototype.destroy.call(this);this.maskStack=null};return i}(_a);var ro=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.glConst=WebGLRenderingContext.SCISSOR_TEST;return r}i.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];if(t){return t._scissorCounter}return 0};i.prototype.push=function(t){var i=t.maskObject;i.renderable=true;var r=t._scissorRect;var n=i.getBounds(true);var e=this.renderer.gl;i.renderable=false;if(r){n.fit(r)}else{e.enable(e.SCISSOR_TEST)}t._scissorCounter++;t._scissorRect=n;this._useCurrent()};i.prototype.pop=function(){var t=this.renderer.gl;if(this.getStackLength()>0){this._useCurrent()}else{t.disable(t.SCISSOR_TEST)}};i.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect;var i=this.renderer.renderTexture.current;var r=this.renderer.projection,n=r.transform,e=r.sourceFrame,s=r.destinationFrame;var a=i?i.resolution:this.renderer.resolution;var u=(t.x-e.x)*a+s.x;var o=(t.y-e.y)*a+s.y;var h=t.width*a;var f=t.height*a;if(n){u+=n.tx*a;o+=n.ty*a}if(!i){o=this.renderer.height-f-o}this.renderer.gl.scissor(u,o,h,f)};return i}(io);var no=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.glConst=WebGLRenderingContext.STENCIL_TEST;return r}i.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];if(t){return t._stencilCounter}return 0};i.prototype.push=function(t){var i=t.maskObject;var r=this.renderer.gl;var n=t._stencilCounter;if(n===0){this.renderer.framebuffer.forceStencil();r.enable(r.STENCIL_TEST)}t._stencilCounter++;r.colorMask(false,false,false,false);r.stencilFunc(r.EQUAL,n,this._getBitwiseMask());r.stencilOp(r.KEEP,r.KEEP,r.INCR);i.renderable=true;i.render(this.renderer);this.renderer.batch.flush();i.renderable=false;this._useCurrent()};i.prototype.pop=function(t){var i=this.renderer.gl;if(this.getStackLength()===0){i.disable(i.STENCIL_TEST);i.clear(i.STENCIL_BUFFER_BIT);i.clearStencil(0)}else{i.colorMask(false,false,false,false);i.stencilOp(i.KEEP,i.KEEP,i.DECR);t.renderable=true;t.render(this.renderer);this.renderer.batch.flush();t.renderable=false;this._useCurrent()}};i.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(true,true,true,true);t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask());t.stencilOp(t.KEEP,t.KEEP,t.KEEP)};i.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1};return i}(io);var eo=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.destinationFrame=null;r.sourceFrame=null;r.defaultFrame=null;r.projectionMatrix=new ys;r.transform=null;return r}i.prototype.update=function(t,i,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame;this.sourceFrame=i||this.sourceFrame||t;this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n);if(this.transform){this.projectionMatrix.append(this.transform)}var e=this.renderer;e.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix;e.globalUniforms.update();if(e.shader.shader){e.shader.syncUniformGroup(e.shader.shader.uniforms.globals)}};i.prototype.calculateProjection=function(t,i,r,n){var e=this.projectionMatrix;var s=!n?1:-1;e.identity();e.a=1/i.width*2;e.d=s*(1/i.height*2);e.tx=-1-i.x*e.a;e.ty=-s-i.y*e.d};i.prototype.setTransform=function(t){};return i}(_a);var so=new vs;var ao=new vs;var uo=new vs;var oo=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.clearColor=i._backgroundColorRgba;r.defaultMaskStack=[];r.current=null;r.sourceFrame=new vs;r.destinationFrame=new vs;return r}i.prototype.bind=function(t,i,r){if(t===void 0){t=null}var n=this.renderer;this.current=t;var e;var s;var a;if(t){e=t.baseTexture;a=e.resolution;if(!i){so.width=t.frame.width;so.height=t.frame.height;i=so}if(!r){ao.x=t.frame.x;ao.y=t.frame.y;ao.width=i.width;ao.height=i.height;r=ao}s=e.framebuffer}else{a=n.resolution;if(!i){so.width=n.screen.width;so.height=n.screen.height;i=so}if(!r){r=so;r.width=i.width;r.height=i.height}}uo.x=r.x*a;uo.y=r.y*a;uo.width=r.width*a;uo.height=r.height*a;this.renderer.framebuffer.bind(s,uo);this.renderer.projection.update(r,i,a,!s);if(t){this.renderer.mask.setMaskStack(e.maskStack)}else{this.renderer.mask.setMaskStack(this.defaultMaskStack)}this.sourceFrame.copyFrom(i);this.destinationFrame.copyFrom(r)};i.prototype.clear=function(t,i){if(this.current){t=t||this.current.baseTexture.clearColor}else{t=t||this.clearColor}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],i)};i.prototype.resize=function(){this.bind(null)};i.prototype.reset=function(){this.bind(null)};return i}(_a);var ho=function(){function t(t,i){this.program=t;this.uniformData=i;this.uniformGroups={}}t.prototype.destroy=function(){this.uniformData=null;this.uniformGroups=null;this.program=null};return t}();var fo=0;var lo={textureCount:0};var vo=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.destroyed=false;r.systemCheck();r.gl=null;r.shader=null;r.program=null;r.cache={};r.id=fo++;return r}i.prototype.systemCheck=function(){if(!Ru()){throw new Error("Current environment does not allow unsafe-eval, "+"please use @pixi/unsafe-eval module to enable support.")}};i.prototype.contextChange=function(t){this.gl=t;this.reset()};i.prototype.bind=function(t,i){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program;var n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);this.shader=t;if(this.program!==r){this.program=r;this.gl.useProgram(n.program)}if(!i){lo.textureCount=0;this.syncUniformGroup(t.uniformGroup,lo)}return n};i.prototype.setUniforms=function(t){var i=this.shader.program;var r=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(r.uniformData,t,this.renderer)};i.prototype.syncUniformGroup=function(t,i){var r=this.getglProgram();if(!t.static||t.dirtyId!==r.uniformGroups[t.id]){r.uniformGroups[t.id]=t.dirtyId;this.syncUniforms(t,r,i)}};i.prototype.syncUniforms=function(t,i,r){var n=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);n(i.uniformData,t.uniforms,this.renderer,r)};i.prototype.createSyncGroups=function(t){var i=this.getSignature(t,this.shader.program.uniformData);if(!this.cache[i]){this.cache[i]=Tu(t,this.shader.program.uniformData)}t.syncUniforms[this.shader.program.id]=this.cache[i];return t.syncUniforms[this.shader.program.id]};i.prototype.getSignature=function(t,i){var r=t.uniforms;var n=[];for(var e in r){n.push(e);if(i[e]){n.push(i[e].type)}}return n.join("-")};i.prototype.getglProgram=function(){if(this.shader){return this.shader.program.glPrograms[this.renderer.CONTEXT_UID]}return null};i.prototype.generateShader=function(t){var i=this.gl;var r=t.program;var n={};for(var e in r.attributeData){n[e]=r.attributeData[e].location}var s=lu(i,r.vertexSrc,r.fragmentSrc,n);var a={};for(var e in r.uniformData){var u=r.uniformData[e];a[e]={location:i.getUniformLocation(s,e),value:cu(u.type,u.size)}}var o=new ho(s,a);r.glPrograms[this.renderer.CONTEXT_UID]=o;return o};i.prototype.reset=function(){this.program=null;this.shader=null};i.prototype.destroy=function(){this.destroyed=true};return i}(_a);function co(t,i){if(i===void 0){i=[]}i[be.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.ADD]=[t.ONE,t.ONE];i[be.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.NONE]=[0,0];i[be.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE];i[be.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA];i[be.SRC_IN]=[t.DST_ALPHA,t.ZERO];i[be.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO];i[be.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA];i[be.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE];i[be.DST_IN]=[t.ZERO,t.SRC_ALPHA];i[be.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA];i[be.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA];i[be.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA];i[be.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD];return i}var po=0;var bo=1;var mo=2;var go=3;var yo=4;var wo=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.gl=null;r.stateId=0;r.polygonOffset=0;r.blendMode=be.NONE;r._blendEq=false;r.map=[];r.map[po]=r.setBlend;r.map[bo]=r.setOffset;r.map[mo]=r.setCullFace;r.map[go]=r.setDepthTest;r.map[yo]=r.setFrontFace;r.checks=[];r.defaultState=new Hu;r.defaultState.blend=true;return r}i.prototype.contextChange=function(t){this.gl=t;this.blendModes=co(t);this.set(this.defaultState);this.reset()};i.prototype.set=function(t){t=t||this.defaultState;if(this.stateId!==t.data){var i=this.stateId^t.data;var r=0;while(i){if(i&1){this.map[r].call(this,!!(t.data&1<<r))}i=i>>1;r++}this.stateId=t.data}for(var r=0;r<this.checks.length;r++){this.checks[r](this,t)}};i.prototype.forceState=function(t){t=t||this.defaultState;for(var i=0;i<this.map.length;i++){this.map[i].call(this,!!(t.data&1<<i))}for(var i=0;i<this.checks.length;i++){this.checks[i](this,t)}this.stateId=t.data};i.prototype.setBlend=function(t){this.updateCheck(i.checkBlendMode,t);this.gl[t?"enable":"disable"](this.gl.BLEND)};i.prototype.setOffset=function(t){this.updateCheck(i.checkPolygonOffset,t);this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)};i.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)};i.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)};i.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])};i.prototype.setBlendMode=function(t){if(t===this.blendMode){return}this.blendMode=t;var i=this.blendModes[t];var r=this.gl;if(i.length===2){r.blendFunc(i[0],i[1])}else{r.blendFuncSeparate(i[0],i[1],i[2],i[3])}if(i.length===6){this._blendEq=true;r.blendEquationSeparate(i[4],i[5])}else if(this._blendEq){this._blendEq=false;r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD)}};i.prototype.setPolygonOffset=function(t,i){this.gl.polygonOffset(t,i)};i.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,false);this.forceState(this.defaultState);this._blendEq=true;this.blendMode=-1;this.setBlendMode(0)};i.prototype.updateCheck=function(t,i){var r=this.checks.indexOf(t);if(i&&r===-1){this.checks.push(t)}else if(!i&&r!==-1){this.checks.splice(r,1)}};i.checkBlendMode=function(t,i){t.setBlendMode(i.blendMode)};i.checkPolygonOffset=function(t,i){t.setPolygonOffset(1,i.polygonOffset)};return i}(_a);var Ao=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.count=0;r.checkCount=0;r.maxIdle=Y.GC_MAX_IDLE;r.checkCountMax=Y.GC_MAX_CHECK_COUNT;r.mode=Y.GC_MODE;return r}i.prototype.postrender=function(){if(!this.renderer.renderingToScreen){return}this.count++;if(this.mode===_e.MANUAL){return}this.checkCount++;if(this.checkCount>this.checkCountMax){this.checkCount=0;this.run()}};i.prototype.run=function(){var t=this.renderer.texture;var i=t.managedTextures;var r=false;for(var n=0;n<i.length;n++){var e=i[n];if(!e.framebuffer&&this.count-e.touched>this.maxIdle){t.destroyTexture(e,true);i[n]=null;r=true}}if(r){var s=0;for(var n=0;n<i.length;n++){if(i[n]!==null){i[s++]=i[n]}}i.length=s}};i.prototype.unload=function(t){var i=this.renderer.texture;var r=t._texture;if(r&&!r.framebuffer){i.destroyTexture(r)}for(var n=t.children.length-1;n>=0;n--){this.unload(t.children[n])}};return i}(_a);var Oo=function(){function t(t){this.texture=t;this.width=-1;this.height=-1;this.dirtyId=-1;this.dirtyStyleId=-1;this.mipmap=false;this.wrapMode=33071;this.type=6408;this.internalFormat=5121}return t}();var xo=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.boundTextures=[];r.currentLocation=-1;r.managedTextures=[];r._unknownBoundTextures=false;r.unknownTexture=new ba;return r}i.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.webGLVersion=this.renderer.context.webGLVersion;var i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var r=0;r<i;r++){this.boundTextures[r]=null}this.emptyTextures={};var n=new Oo(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4));this.emptyTextures[t.TEXTURE_2D]=n;this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Oo(t.createTexture());t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++){t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null)}t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var r=0;r<this.boundTextures.length;r++){this.bind(null,r)}};i.prototype.bind=function(t,i){if(i===void 0){i=0}var r=this.gl;if(t){t=t.castToBaseTexture();if(t.parentTextureArray){return}if(t.valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);if(this.boundTextures[i]!==t){if(this.currentLocation!==i){this.currentLocation=i;r.activeTexture(r.TEXTURE0+i)}r.bindTexture(t.target,n.texture)}if(n.dirtyId!==t.dirtyId){if(this.currentLocation!==i){this.currentLocation=i;r.activeTexture(r.TEXTURE0+i)}this.updateTexture(t)}this.boundTextures[i]=t}}else{if(this.currentLocation!==i){this.currentLocation=i;r.activeTexture(r.TEXTURE0+i)}r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture);this.boundTextures[i]=null}};i.prototype.reset=function(){this._unknownBoundTextures=true;this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++){this.boundTextures[t]=this.unknownTexture}};i.prototype.unbind=function(t){var i=this,r=i.gl,n=i.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=false;for(var e=0;e<n.length;e++){if(n[e]===this.unknownTexture){this.bind(null,e)}}}for(var e=0;e<n.length;e++){if(n[e]===t){if(this.currentLocation!==e){r.activeTexture(r.TEXTURE0+e);this.currentLocation=e}r.bindTexture(t.target,this.emptyTextures[t.target].texture);n[e]=null}}};i.prototype.initTexture=function(t){var i=new Oo(this.gl.createTexture());i.dirtyId=-1;t._glTextures[this.CONTEXT_UID]=i;this.managedTextures.push(t);t.on("dispose",this.destroyTexture,this);return i};i.prototype.initTextureType=function(t,i){i.internalFormat=t.format;i.type=t.type;if(this.webGLVersion!==2){return}var r=this.renderer.gl;if(t.type===r.FLOAT&&t.format===r.RGBA){i.internalFormat=r.RGBA32F}if(t.type===we.HALF_FLOAT){i.type=r.HALF_FLOAT}if(i.type===r.HALF_FLOAT&&t.format===r.RGBA){i.internalFormat=r.RGBA16F}};i.prototype.updateTexture=function(t){var i=t._glTextures[this.CONTEXT_UID];if(!i){return}var r=this.renderer;this.initTextureType(t,i);if(t.resource&&t.resource.upload(r,t,i));else{var n=t.realWidth;var e=t.realHeight;var s=r.gl;if(i.width!==n||i.height!==e||i.dirtyId<0){i.width=n;i.height=e;s.texImage2D(t.target,0,i.internalFormat,n,e,0,t.format,i.type,null)}}if(t.dirtyStyleId!==i.dirtyStyleId){this.updateTextureStyle(t)}i.dirtyId=t.dirtyId};i.prototype.destroyTexture=function(t,i){var r=this.gl;t=t.castToBaseTexture();if(t._glTextures[this.CONTEXT_UID]){this.unbind(t);r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture);t.off("dispose",this.destroyTexture,this);delete t._glTextures[this.CONTEXT_UID];if(!i){var n=this.managedTextures.indexOf(t);if(n!==-1){qe(this.managedTextures,n,1)}}}};i.prototype.updateTextureStyle=function(t){var i=t._glTextures[this.CONTEXT_UID];if(!i){return}if((t.mipmap===xe.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo){i.mipmap=false}else{i.mipmap=t.mipmap>=1}if(this.webGLVersion!==2&&!t.isPowerOfTwo){i.wrapMode=Oe.CLAMP}else{i.wrapMode=t.wrapMode}if(t.resource&&t.resource.style(this.renderer,t,i));else{this.setStyle(t,i)}i.dirtyStyleId=t.dirtyStyleId};i.prototype.setStyle=function(t,i){var r=this.gl;if(i.mipmap){r.generateMipmap(t.target)}r.texParameteri(t.target,r.TEXTURE_WRAP_S,i.wrapMode);r.texParameteri(t.target,r.TEXTURE_WRAP_T,i.wrapMode);if(i.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Ae.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===Ae.LINEAR){var e=Math.min(t.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,e)}}else{r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Ae.LINEAR?r.LINEAR:r.NEAREST)}r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===Ae.LINEAR?r.LINEAR:r.NEAREST)};return i}(_a);var Eo=new ys;var Mo=function(t){va(i,t);function i(i,r){if(i===void 0){i=de.UNKNOWN}var n=t.call(this)||this;r=Object.assign({},Y.RENDER_OPTIONS,r);if(r.roundPixels){Y.ROUND_PIXELS=r.roundPixels;Qe("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)}n.options=r;n.type=i;n.screen=new vs(0,0,r.width,r.height);n.view=r.view||document.createElement("canvas");n.resolution=r.resolution||Y.RESOLUTION;n.transparent=r.transparent;n.autoDensity=r.autoDensity||r.autoResize||false;n.preserveDrawingBuffer=r.preserveDrawingBuffer;n.clearBeforeRender=r.clearBeforeRender;n._backgroundColor=0;n._backgroundColorRgba=[0,0,0,0];n._backgroundColorString="#000000";n.backgroundColor=r.backgroundColor||n._backgroundColor;n._lastObjectRendered=null;n.plugins={};return n}i.prototype.initPlugins=function(t){for(var i in t){this.plugins[i]=new t[i](this)}};Object.defineProperty(i.prototype,"width",{get:function(){return this.view.width},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return this.view.height},enumerable:false,configurable:true});i.prototype.resize=function(t,i){this.screen.width=t;this.screen.height=i;this.view.width=t*this.resolution;this.view.height=i*this.resolution;if(this.autoDensity){this.view.style.width=t+"px";this.view.style.height=i+"px"}this.emit("resize",t,i)};i.prototype.generateTexture=function(t,i,r,n){n=n||t.getLocalBounds(null,true);if(n.width===0){n.width=1}if(n.height===0){n.height=1}var e=Fa.create({width:n.width|0,height:n.height|0,scaleMode:i,resolution:r});Eo.tx=-n.x;Eo.ty=-n.y;this.render(t,e,false,Eo,!!t.parent);return e};i.prototype.destroy=function(t){for(var i in this.plugins){this.plugins[i].destroy();this.plugins[i]=null}if(t&&this.view.parentNode){this.view.parentNode.removeChild(this.view)}var r=this;r.plugins=null;r.type=de.UNKNOWN;r.view=null;r.screen=null;r._tempDisplayObjectParent=null;r.options=null;this._backgroundColorRgba=null;this._backgroundColorString=null;this._lastObjectRendered=null};Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t;this._backgroundColorString=De(t);Fe(t,this._backgroundColorRgba)},enumerable:false,configurable:true});return i}(q);var _o=function(t){va(i,t);function i(r){var n=t.call(this,de.WEBGL,r)||this;r=n.options;n.gl=null;n.CONTEXT_UID=0;n.runners={destroy:new oa("destroy"),contextChange:new oa("contextChange"),reset:new oa("reset"),update:new oa("update"),postrender:new oa("postrender"),prerender:new oa("prerender"),resize:new oa("resize")};n.globalUniforms=new Ja({projectionMatrix:new ys},true);n.addSystem(to,"mask").addSystem(ru,"context").addSystem(wo,"state").addSystem(vo,"shader").addSystem(xo,"texture").addSystem(ou,"geometry").addSystem(su,"framebuffer").addSystem(ro,"scissor").addSystem(no,"stencil").addSystem(eo,"projection").addSystem(Ao,"textureGC").addSystem(Ka,"filter").addSystem(oo,"renderTexture").addSystem(tu,"batch");n.initPlugins(i.__plugins);if(r.context){n.context.initFromContext(r.context)}else{n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&n.transparent!=="notMultiplied",stencil:true,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference})}n.renderingToScreen=true;Pe(n.context.webGLVersion===2?"WebGL 2":"WebGL 1");n.resize(n.options.width,n.options.height);return n}i.create=function(t){if(Ne()){return new i(t)}throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')};i.prototype.addSystem=function(t,i){if(!i){i=t.name}var r=new t(this);if(this[i]){throw new Error('Whoops! The name "'+i+'" is already in use')}this[i]=r;for(var n in this.runners){this.runners[n].add(r)}return this};i.prototype.render=function(t,i,r,n,e){this.renderingToScreen=!i;this.runners.prerender.emit();this.emit("prerender");this.projection.transform=n;if(this.context.isLost){return}if(!i){this._lastObjectRendered=t}if(!e){var s=t.enableTempParent();t.updateTransform();t.disableTempParent(s)}this.renderTexture.bind(i);this.batch.currentRenderer.start();if(r!==undefined?r:this.clearBeforeRender){this.renderTexture.clear()}t.render(this);this.batch.currentRenderer.flush();if(i){i.baseTexture.update()}this.runners.postrender.emit();this.projection.transform=null;this.emit("postrender")};i.prototype.resize=function(i,r){t.prototype.resize.call(this,i,r);this.runners.resize.emit(i,r)};i.prototype.reset=function(){this.runners.reset.emit();return this};i.prototype.clear=function(){this.renderTexture.bind();this.renderTexture.clear()};i.prototype.destroy=function(i){this.runners.destroy.emit();for(var r in this.runners){this.runners[r].destroy()}t.prototype.destroy.call(this,i);this.gl=null};i.registerPlugin=function(t,r){i.__plugins=i.__plugins||{};i.__plugins[t]=r};return i}(Mo);function jo(t){return _o.create(t)}var To="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";var So="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";var Io=function(){function t(){this.texArray=null;this.blend=0;this.type=me.TRIANGLES;this.start=0;this.size=0;this.data=null}return t}();var Co=function(){function t(){this.elements=[];this.ids=[];this.count=0}t.prototype.clear=function(){for(var t=0;t<this.count;t++){this.elements[t]=null}this.count=0};return t}();var Po=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t);this.uint32View=new Uint32Array(this.rawBinaryData);this.float32View=new Float32Array(this.rawBinaryData)}Object.defineProperty(t.prototype,"int8View",{get:function(){if(!this._int8View){this._int8View=new Int8Array(this.rawBinaryData)}return this._int8View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"uint8View",{get:function(){if(!this._uint8View){this._uint8View=new Uint8Array(this.rawBinaryData)}return this._uint8View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"int16View",{get:function(){if(!this._int16View){this._int16View=new Int16Array(this.rawBinaryData)}return this._int16View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"uint16View",{get:function(){if(!this._uint16View){this._uint16View=new Uint16Array(this.rawBinaryData)}return this._uint16View},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"int32View",{get:function(){if(!this._int32View){this._int32View=new Int32Array(this.rawBinaryData)}return this._int32View},enumerable:false,configurable:true});t.prototype.view=function(t){return this[t+"View"]};t.prototype.destroy=function(){this.rawBinaryData=null;this._int8View=null;this._uint8View=null;this._int16View=null;this._uint16View=null;this._int32View=null;this.uint32View=null;this.float32View=null};t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}};return t}();var Ro=function(t){va(i,t);function i(i){var r=t.call(this,i)||this;r.shaderGenerator=null;r.geometryClass=null;r.vertexSize=null;r.state=Hu.for2d();r.size=Y.SPRITE_BATCH_SIZE*4;r._vertexCount=0;r._indexCount=0;r._bufferedElements=[];r._bufferedTextures=[];r._bufferSize=0;r._shader=null;r._packedGeometries=[];r._packedGeometryPoolSize=2;r._flushId=0;r._aBuffers={};r._iBuffers={};r.MAX_TEXTURES=1;r.renderer.on("prerender",r.onPrerender,r);i.runners.contextChange.add(r);r._dcIndex=0;r._aIndex=0;r._iIndex=0;r._attributeBuffer=null;r._indexBuffer=null;r._tempBoundTextures=[];return r}i.prototype.contextChange=function(){var t=this.renderer.gl;if(Y.PREFER_ENV===ce.WEBGL_LEGACY){this.MAX_TEXTURES=1}else{this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Y.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=Cu(this.MAX_TEXTURES,t)}this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++){this._packedGeometries[i]=new this.geometryClass}this.initFlushBuffers()};i.prototype.initFlushBuffers=function(){var t=i._drawCallPool,r=i._textureArrayPool;var n=this.size/4;var e=Math.floor(n/this.MAX_TEXTURES)+1;while(t.length<n){t.push(new Io)}while(r.length<e){r.push(new Co)}for(var s=0;s<this.MAX_TEXTURES;s++){this._tempBoundTextures[s]=null}};i.prototype.onPrerender=function(){this._flushId=0};i.prototype.render=function(t){if(!t._texture.valid){return}if(this._vertexCount+t.vertexData.length/2>this.size){this.flush()}this._vertexCount+=t.vertexData.length/2;this._indexCount+=t.indices.length;this._bufferedTextures[this._bufferSize]=t._texture.baseTexture;this._bufferedElements[this._bufferSize++]=t};i.prototype.buildTexturesAndDrawCalls=function(){var t=this,r=t._bufferedTextures,n=t.MAX_TEXTURES;var e=i._textureArrayPool;var s=this.renderer.batch;var a=this._tempBoundTextures;var u=this.renderer.textureGC.count;var o=++ba._globalBatch;var h=0;var f=e[0];var l=0;s.copyBoundTextures(a,n);for(var v=0;v<this._bufferSize;++v){var c=r[v];r[v]=null;if(c._batchEnabled===o){continue}if(f.count>=n){s.boundArray(f,a,o,n);this.buildDrawCalls(f,l,v);l=v;f=e[++h];++o}c._batchEnabled=o;c.touched=u;f.elements[f.count++]=c}if(f.count>0){s.boundArray(f,a,o,n);this.buildDrawCalls(f,l,this._bufferSize);++h;++o}for(var v=0;v<a.length;v++){a[v]=null}ba._globalBatch=o};i.prototype.buildDrawCalls=function(t,r,n){var e=this,s=e._bufferedElements,a=e._attributeBuffer,u=e._indexBuffer,o=e.vertexSize;var h=i._drawCallPool;var f=this._dcIndex;var l=this._aIndex;var v=this._iIndex;var c=h[f];c.start=this._iIndex;c.texArray=t;for(var d=r;d<n;++d){var p=s[d];var b=p._texture.baseTexture;var m=ke[b.alphaMode?1:0][p.blendMode];s[d]=null;if(r<d&&c.blend!==m){c.size=v-c.start;r=d;c=h[++f];c.texArray=t;c.start=v}this.packInterleavedGeometry(p,a,u,l,v);l+=p.vertexData.length/2*o;v+=p.indices.length;c.blend=m}if(r<n){c.size=v-c.start;++f}this._dcIndex=f;this._aIndex=l;this._iIndex=v};i.prototype.bindAndClearTexArray=function(t){var i=this.renderer.texture;for(var r=0;r<t.count;r++){i.bind(t.elements[r],t.ids[r]);t.elements[r]=null}t.count=0};i.prototype.updateGeometry=function(){var t=this,i=t._packedGeometries,r=t._attributeBuffer,n=t._indexBuffer;if(!Y.CAN_UPLOAD_SAME_BUFFER){if(this._packedGeometryPoolSize<=this._flushId){this._packedGeometryPoolSize++;i[this._flushId]=new this.geometryClass}i[this._flushId]._buffer.update(r.rawBinaryData);i[this._flushId]._indexBuffer.update(n);this.renderer.geometry.bind(i[this._flushId]);this.renderer.geometry.updateBuffers();this._flushId++}else{i[this._flushId]._buffer.update(r.rawBinaryData);i[this._flushId]._indexBuffer.update(n);this.renderer.geometry.updateBuffers()}};i.prototype.drawBatches=function(){var t=this._dcIndex;var r=this.renderer,n=r.gl,e=r.state;var s=i._drawCallPool;var a=null;for(var u=0;u<t;u++){var o=s[u],h=o.texArray,f=o.type,l=o.size,v=o.start,c=o.blend;if(a!==h){a=h;this.bindAndClearTexArray(h)}this.state.blendMode=c;e.set(this.state);n.drawElements(f,l,n.UNSIGNED_SHORT,v*2)}};i.prototype.flush=function(){if(this._vertexCount===0){return}this._attributeBuffer=this.getAttributeBuffer(this._vertexCount);this._indexBuffer=this.getIndexBuffer(this._indexCount);this._aIndex=0;this._iIndex=0;this._dcIndex=0;this.buildTexturesAndDrawCalls();this.updateGeometry();this.drawBatches();this._bufferSize=0;this._vertexCount=0;this._indexCount=0};i.prototype.start=function(){this.renderer.state.set(this.state);this.renderer.shader.bind(this._shader);if(Y.CAN_UPLOAD_SAME_BUFFER){this.renderer.geometry.bind(this._packedGeometries[this._flushId])}};i.prototype.stop=function(){this.flush()};i.prototype.destroy=function(){for(var i=0;i<this._packedGeometryPoolSize;i++){if(this._packedGeometries[i]){this._packedGeometries[i].destroy()}}this.renderer.off("prerender",this.onPrerender,this);this._aBuffers=null;this._iBuffers=null;this._packedGeometries=null;this._attributeBuffer=null;this._indexBuffer=null;if(this._shader){this._shader.destroy();this._shader=null}t.prototype.destroy.call(this)};i.prototype.getAttributeBuffer=function(t){var i=He(Math.ceil(t/8));var r=Ye(i);var n=i*8;if(this._aBuffers.length<=r){this._iBuffers.length=r+1}var e=this._aBuffers[n];if(!e){this._aBuffers[n]=e=new Po(n*this.vertexSize*4)}return e};i.prototype.getIndexBuffer=function(t){var i=He(Math.ceil(t/12));var r=Ye(i);var n=i*12;if(this._iBuffers.length<=r){this._iBuffers.length=r+1}var e=this._iBuffers[r];if(!e){this._iBuffers[r]=e=new Uint16Array(n)}return e};i.prototype.packInterleavedGeometry=function(t,i,r,n,e){var s=i.uint32View,a=i.float32View;var u=n/this.vertexSize;var o=t.uvs;var h=t.indices;var f=t.vertexData;var l=t._texture.baseTexture._batchLocation;var v=Math.min(t.worldAlpha,1);var c=v<1&&t._texture.baseTexture.alphaMode?We(t._tintRGB,v):t._tintRGB+(v*255<<24);for(var d=0;d<f.length;d+=2){a[n++]=f[d];a[n++]=f[d+1];a[n++]=o[d];a[n++]=o[d+1];s[n++]=c;a[n++]=l}for(var d=0;d<h.length;d++){r[e++]=u+h[d]}};i._drawCallPool=[];i._textureArrayPool=[];return i}(Qa);var No=function(){function t(t,i){this.vertexSrc=t;this.fragTemplate=i;this.programCache={};this.defaultGroupCache={};if(i.indexOf("%count%")<0){throw new Error('Fragment template must contain "%count%".')}if(i.indexOf("%forloop%")<0){throw new Error('Fragment template must contain "%forloop%".')}}t.prototype.generateShader=function(t){if(!this.programCache[t]){var i=new Int32Array(t);for(var r=0;r<t;r++){i[r]=r}this.defaultGroupCache[t]=Ja.from({uSamplers:i},true);var n=this.fragTemplate;n=n.replace(/%count%/gi,""+t);n=n.replace(/%forloop%/gi,this.generateSampleSrc(t));this.programCache[t]=new Uu(this.vertexSrc,n)}var e={tint:new Float32Array([1,1,1,1]),translationMatrix:new ys,default:this.defaultGroupCache[t]};return new ku(this.programCache[t],e)};t.prototype.generateSampleSrc=function(t){var i="";i+="\n";i+="\n";for(var r=0;r<t;r++){if(r>0){i+="\nelse "}if(r<t-1){i+="if(vTextureId < "+r+".5)"}i+="\n{";i+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);";i+="\n}"}i+="\n";i+="\n";return i};return t}();var Fo=function(t){va(i,t);function i(i){if(i===void 0){i=false}var r=t.call(this)||this;r._buffer=new ka(null,i,false);r._indexBuffer=new ka(null,i,true);r.addAttribute("aVertexPosition",r._buffer,2,false,we.FLOAT).addAttribute("aTextureCoord",r._buffer,2,false,we.FLOAT).addAttribute("aColor",r._buffer,4,true,we.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,true,we.FLOAT).addIndex(r._indexBuffer);return r}return i}(Xa);var Do="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";var Lo="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n";var Uo=function(){function t(){}t.create=function(t){var i=Object.assign({vertex:Do,fragment:Lo,geometryClass:Fo,vertexSize:6},t),r=i.vertex,n=i.fragment,e=i.vertexSize,s=i.geometryClass;return function(t){va(i,t);function i(i){var a=t.call(this,i)||this;a.shaderGenerator=new No(r,n);a.geometryClass=s;a.vertexSize=e;return a}return i}(Ro)};Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Do},enumerable:false,configurable:true});Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Lo},enumerable:false,configurable:true});return t}();var ko=Uo.create();
/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bo=function(){function t(i){var r=this;i=Object.assign({forceCanvas:false},i);this.renderer=jo(i);this.stage=new Ds;t._plugins.forEach((function(t){t.init.call(r,i)}))}t.registerPlugin=function(i){t._plugins.push(i)};t.prototype.render=function(){this.renderer.render(this.stage)};Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:false,configurable:true});t.prototype.destroy=function(i,r){var n=this;var e=t._plugins.slice(0);e.reverse();e.forEach((function(t){t.destroy.call(n)}));this.stage.destroy(r);this.stage=null;this.renderer.destroy(i);this.renderer=null};return t}();Bo._plugins=[];var Vo=function(){function t(){}t.init=function(t){var i=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize);this._resizeTo=t;if(t){window.addEventListener("resize",this.queueResize);this.resize()}},get:function(){return this._resizeTo}});this.queueResize=function(){if(!i._resizeTo){return}i.cancelResize();i._resizeId=requestAnimationFrame((function(){return i.resize()}))};this.cancelResize=function(){if(i._resizeId){cancelAnimationFrame(i._resizeId);i._resizeId=null}};this.resize=function(){if(!i._resizeTo){return}i.cancelResize();var t;var r;if(i._resizeTo===window){t=window.innerWidth;r=window.innerHeight}else{var n=i._resizeTo,e=n.clientWidth,s=n.clientHeight;t=e;r=s}i.renderer.resize(t,r)};this._resizeId=null;this._resizeTo=null;this.resizeTo=t.resizeTo||null};t.destroy=function(){window.removeEventListener("resize",this.queueResize);this.cancelResize();this.cancelResize=null;this.queueResize=null;this.resizeTo=null;this.resize=null};return t}();Bo.registerPlugin(Vo);
/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wo=new vs;var Go=4;var zo=function(){function t(t){this.renderer=t;t.extract=this}t.prototype.image=function(t,i,r){var n=new Image;n.src=this.base64(t,i,r);return n};t.prototype.base64=function(t,i,r){return this.canvas(t).toDataURL(i,r)};t.prototype.canvas=function(i){var r=this.renderer;var n;var e;var s=false;var a;var u=false;if(i){if(i instanceof Fa){a=i}else{a=this.renderer.generateTexture(i);u=true}}if(a){n=a.baseTexture.resolution;e=a.frame;s=false;r.renderTexture.bind(a)}else{n=this.renderer.resolution;s=true;e=Wo;e.width=this.renderer.width;e.height=this.renderer.height;r.renderTexture.bind(null)}var o=Math.floor(e.width*n+1e-4);var h=Math.floor(e.height*n+1e-4);var f=new ns(o,h,1);var l=new Uint8Array(Go*o*h);var v=r.gl;v.readPixels(e.x*n,e.y*n,o,h,v.RGBA,v.UNSIGNED_BYTE,l);var c=f.context.getImageData(0,0,o,h);t.arrayPostDivide(l,c.data);f.context.putImageData(c,0,0);if(s){var d=new ns(f.width,f.height,1);d.context.scale(1,-1);d.context.drawImage(f.canvas,0,-h);f.destroy();f=d}if(u){a.destroy(true)}return f.canvas};t.prototype.pixels=function(i){var r=this.renderer;var n;var e;var s;var a=false;if(i){if(i instanceof Fa){s=i}else{s=this.renderer.generateTexture(i);a=true}}if(s){n=s.baseTexture.resolution;e=s.frame;r.renderTexture.bind(s)}else{n=r.resolution;e=Wo;e.width=r.width;e.height=r.height;r.renderTexture.bind(null)}var u=e.width*n;var o=e.height*n;var h=new Uint8Array(Go*u*o);var f=r.gl;f.readPixels(e.x*n,e.y*n,u,o,f.RGBA,f.UNSIGNED_BYTE,h);if(a){s.destroy(true)}t.arrayPostDivide(h,h);return h};t.prototype.destroy=function(){this.renderer.extract=null;this.renderer=null};t.arrayPostDivide=function(t,i){for(var r=0;r<t.length;r+=4){var n=i[r+3]=t[r+3];if(n!==0){i[r]=Math.round(Math.min(t[r]*255/n,255));i[r+1]=Math.round(Math.min(t[r+1]*255/n,255));i[r+2]=Math.round(Math.min(t[r+2]*255/n,255))}else{i[r]=t[r];i[r+1]=t[r+1];i[r+2]=t[r+2]}}};return t}();var Ho=(t,i={})=>{if(!t)return undefined;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}};const n=r.parser[i.strictMode?"strict":"loose"].exec(t);const e={};let s=14;while(s--)e[r.key[s]]=n[s]||"";e[r.q.name]={};e[r.key[12]].replace(r.q.parser,(function(t,i,n){if(i)e[r.q.name][i]=n}));return e};class Xo{constructor(t,i=false,r){this._fn=t;this._once=i;this._thisArg=r;this._next=this._prev=this._owner=null}detach(){if(this._owner===null)return false;this._owner.detach(this);return true}}function Yo(t,i){if(!t._head){t._head=i;t._tail=i}else{t._tail._next=i;i._prev=t._tail;t._tail=i}i._owner=t;return i}class qo{constructor(){this._head=this._tail=undefined}handlers(t=false){let i=this._head;if(t)return!!i;const r=[];while(i){r.push(i);i=i._next}return r}has(t){if(!(t instanceof Xo)){throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.")}return t._owner===this}dispatch(){let t=this._head;if(!t)return false;while(t){if(t._once)this.detach(t);t._fn.apply(t._thisArg,arguments);t=t._next}return true}add(t,i=null){if(typeof t!=="function"){throw new Error("MiniSignal#add(): First arg must be a Function.")}return Yo(this,new Xo(t,false,i))}once(t,i=null){if(typeof t!=="function"){throw new Error("MiniSignal#once(): First arg must be a Function.")}return Yo(this,new Xo(t,true,i))}detach(t){if(!(t instanceof Xo)){throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.")}if(t._owner!==this)return this;if(t._prev)t._prev._next=t._next;if(t._next)t._next._prev=t._prev;if(t===this._head){this._head=t._next;if(t._next===null){this._tail=null}}else if(t===this._tail){this._tail=t._prev;this._tail._next=null}t._owner=null;return this}detachAll(){let t=this._head;if(!t)return this;this._head=this._tail=null;while(t){t._owner=null;t=t._next}return this}}
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function $o(){}function Jo(t,i,r,n){var e=0;var s=t.length;(function a(u){if(u||e===s){if(r){r(u)}return}if(n){setTimeout((function(){i(t[e++],a)}),1)}else{i(t[e++],a)}})()}function Zo(t){return function i(){if(t===null){throw new Error("Callback was already called.")}var r=t;t=null;r.apply(this,arguments)}}function Ko(t,i){if(i==null){i=1}else if(i===0){throw new Error("Concurrency must not be zero")}var r=0;var n={_tasks:[],concurrency:i,saturated:$o,unsaturated:$o,buffer:i/4,empty:$o,drain:$o,error:$o,started:false,paused:false,push:function t(i,r){e(i,false,r)},kill:function t(){r=0;n.drain=$o;n.started=false;n._tasks=[]},unshift:function t(i,r){e(i,true,r)},process:function i(){while(!n.paused&&r<n.concurrency&&n._tasks.length){var e=n._tasks.shift();if(n._tasks.length===0){n.empty()}r+=1;if(r===n.concurrency){n.saturated()}t(e.data,Zo(s(e)))}},length:function t(){return n._tasks.length},running:function t(){return r},idle:function t(){return n._tasks.length+r===0},pause:function t(){if(n.paused===true){return}n.paused=true},resume:function t(){if(n.paused===false){return}n.paused=false;for(var i=1;i<=n.concurrency;i++){n.process()}}};function e(t,i,r){if(r!=null&&typeof r!=="function"){throw new Error("task callback must be a function")}n.started=true;if(t==null&&n.idle()){setTimeout((function(){return n.drain()}),1);return}var e={data:t,callback:typeof r==="function"?r:$o};if(i){n._tasks.unshift(e)}else{n._tasks.push(e)}setTimeout((function(){return n.process()}),1)}function s(t){return function i(){r-=1;t.callback.apply(t,arguments);if(arguments[0]!=null){n.error(arguments[0],t.data)}if(r<=n.concurrency-n.buffer){n.unsaturated()}if(n.idle()){n.drain()}n.process()}}return n}var Qo={};function th(t,i){var r=this;if(Qo[t.url]){t.data=Qo[t.url];t.complete()}else{t.onComplete.once((function(){return Qo[r.url]=r.data}))}i()}function ih(t,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}function rh(t,i,r){if(i)ih(t.prototype,i);if(r)ih(t,r);return t}var nh=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest));var eh=null;var sh=0;var ah=200;var uh=204;var oh=1223;var hh=2;function fh(){}var lh=function(){t.setExtensionLoadType=function i(r,n){vh(t._loadTypeMap,r,n)};t.setExtensionXhrType=function i(r,n){vh(t._xhrTypeMap,r,n)};function t(i,r,n){if(typeof i!=="string"||typeof r!=="string"){throw new Error("Both name and url are required for constructing a resource.")}n=n||{};this._flags=0;this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0);this.name=i;this.url=r;this.extension=this._getExtension();this.data=null;this.crossOrigin=n.crossOrigin===true?"anonymous":n.crossOrigin;this.timeout=n.timeout||0;this.loadType=n.loadType||this._determineLoadType();this.xhrType=n.xhrType;this.metadata=n.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=t.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=fh;this._onLoadBinding=null;this._elementTimer=0;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundOnTimeout=this._onTimeout.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this.onStart=new qo;this.onProgress=new qo;this.onComplete=new qo;this.onAfterMiddleware=new qo}var i=t.prototype;i.complete=function t(){this._clearEvents();this._finish()};i.abort=function i(r){if(this.error){return}this.error=new Error(r);this._clearEvents();if(this.xhr){this.xhr.abort()}else if(this.xdr){this.xdr.abort()}else if(this.data){if(this.data.src){this.data.src=t.EMPTY_GIF}else{while(this.data.firstChild){this.data.removeChild(this.data.firstChild)}}}this._finish()};i.load=function i(r){var n=this;if(this.isLoading){return}if(this.isComplete){if(r){setTimeout((function(){return r(n)}),1)}return}else if(r){this.onComplete.once(r)}this._setFlag(t.STATUS_FLAGS.LOADING,true);this.onStart.dispatch(this);if(this.crossOrigin===false||typeof this.crossOrigin!=="string"){this.crossOrigin=this._determineCrossOrigin(this.url)}switch(this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE;this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO;this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO;this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:if(nh&&this.crossOrigin){this._loadXdr()}else{this._loadXhr()}break}};i._hasFlag=function t(i){return(this._flags&i)!==0};i._setFlag=function t(i,r){this._flags=r?this._flags|i:this._flags&~i};i._clearEvents=function t(){clearTimeout(this._elementTimer);if(this.data&&this.data.removeEventListener){this.data.removeEventListener("error",this._boundOnError,false);this.data.removeEventListener("load",this._boundComplete,false);this.data.removeEventListener("progress",this._boundOnProgress,false);this.data.removeEventListener("canplaythrough",this._boundComplete,false)}if(this.xhr){if(this.xhr.removeEventListener){this.xhr.removeEventListener("error",this._boundXhrOnError,false);this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,false);this.xhr.removeEventListener("abort",this._boundXhrOnAbort,false);this.xhr.removeEventListener("progress",this._boundOnProgress,false);this.xhr.removeEventListener("load",this._boundXhrOnLoad,false)}else{this.xhr.onerror=null;this.xhr.ontimeout=null;this.xhr.onprogress=null;this.xhr.onload=null}}};i._finish=function i(){if(this.isComplete){throw new Error("Complete called again for an already completed resource.")}this._setFlag(t.STATUS_FLAGS.COMPLETE,true);this._setFlag(t.STATUS_FLAGS.LOADING,false);this.onComplete.dispatch(this)};i._loadElement=function t(i){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(i==="image"&&typeof window.Image!=="undefined"){this.data=new Image}else{this.data=document.createElement(i)}if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin}if(!this.metadata.skipSource){this.data.src=this.url}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);if(this.timeout){this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout)}};i._loadSourceElement=function t(i){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(i==="audio"&&typeof window.Audio!=="undefined"){this.data=new Audio}else{this.data=document.createElement(i)}if(this.data===null){this.abort("Unsupported element: "+i);return}if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin}if(!this.metadata.skipSource){if(navigator.isCocoonJS){this.data.src=Array.isArray(this.url)?this.url[0]:this.url}else if(Array.isArray(this.url)){var r=this.metadata.mimeType;for(var n=0;n<this.url.length;++n){this.data.appendChild(this._createSource(i,this.url[n],Array.isArray(r)?r[n]:r))}}else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(i,this.url,Array.isArray(e)?e[0]:e))}}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);this.data.addEventListener("canplaythrough",this._boundComplete,false);this.data.load();if(this.timeout){this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout)}};i._loadXhr=function i(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,true);r.timeout=this.timeout;if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT){r.responseType=t.XHR_RESPONSE_TYPE.TEXT}else{r.responseType=this.xhrType}r.addEventListener("error",this._boundXhrOnError,false);r.addEventListener("timeout",this._boundXhrOnTimeout,false);r.addEventListener("abort",this._boundXhrOnAbort,false);r.addEventListener("progress",this._boundOnProgress,false);r.addEventListener("load",this._boundXhrOnLoad,false);r.send()};i._loadXdr=function t(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var i=this.xhr=new XDomainRequest;i.timeout=this.timeout||5e3;i.onerror=this._boundXhrOnError;i.ontimeout=this._boundXhrOnTimeout;i.onprogress=this._boundOnProgress;i.onload=this._boundXhrOnLoad;i.open("GET",this.url,true);setTimeout((function(){return i.send()}),1)};i._createSource=function t(i,r,n){if(!n){n=i+"/"+this._getExtension(r)}var e=document.createElement("source");e.src=r;e.type=n;return e};i._onError=function t(i){this.abort("Failed to load element using: "+i.target.nodeName)};i._onProgress=function t(i){if(i&&i.lengthComputable){this.onProgress.dispatch(this,i.loaded/i.total)}};i._onTimeout=function t(){this.abort("Load timed out.")};i._xhrOnError=function t(){var i=this.xhr;this.abort(ch(i)+" Request failed. Status: "+i.status+', text: "'+i.statusText+'"')};i._xhrOnTimeout=function t(){var i=this.xhr;this.abort(ch(i)+" Request timed out.")};i._xhrOnAbort=function t(){var i=this.xhr;this.abort(ch(i)+" Request was aborted by the user.")};i._xhrOnLoad=function i(){var r=this.xhr;var n="";var e=typeof r.status==="undefined"?ah:r.status;if(r.responseType===""||r.responseType==="text"||typeof r.responseType==="undefined"){n=r.responseText}if(e===sh&&(n.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)){e=ah}else if(e===oh){e=uh}var s=e/100|0;if(s===hh){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT){this.data=n;this.type=t.TYPE.TEXT}else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON){try{this.data=JSON.parse(n);this.type=t.TYPE.JSON}catch(t){this.abort("Error trying to parse loaded json: "+t);return}}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT){try{if(window.DOMParser){var a=new DOMParser;this.data=a.parseFromString(n,"text/xml")}else{var u=document.createElement("div");u.innerHTML=n;this.data=u}this.type=t.TYPE.XML}catch(t){this.abort("Error trying to parse loaded xml: "+t);return}}else{this.data=r.response||n}}else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()};i._determineCrossOrigin=function t(i,r){if(i.indexOf("data:")===0){return""}if(window.origin!==window.location.origin){return"anonymous"}r=r||window.location;if(!eh){eh=document.createElement("a")}eh.href=i;i=Ho(eh.href,{strictMode:true});var n=!i.port&&r.port===""||i.port===r.port;var e=i.protocol?i.protocol+":":"";if(i.host!==r.hostname||!n||e!==r.protocol){return"anonymous"}return""};i._determineXhrType=function i(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT};i._determineLoadType=function i(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR};i._getExtension=function t(){var i=this.url;var r="";if(this.isDataUrl){var n=i.indexOf("/");r=i.substring(n+1,i.indexOf(";",n))}else{var e=i.indexOf("?");var s=i.indexOf("#");var a=Math.min(e>-1?e:i.length,s>-1?s:i.length);i=i.substring(0,a);r=i.substring(i.lastIndexOf(".")+1)}return r.toLowerCase()};i._getMimeFromXhrType=function i(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};rh(t,[{key:"isDataUrl",get:function i(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function i(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function i(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]);return t}();lh.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};lh.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};lh.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};lh.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};lh._loadTypeMap={gif:lh.LOAD_TYPE.IMAGE,png:lh.LOAD_TYPE.IMAGE,bmp:lh.LOAD_TYPE.IMAGE,jpg:lh.LOAD_TYPE.IMAGE,jpeg:lh.LOAD_TYPE.IMAGE,tif:lh.LOAD_TYPE.IMAGE,tiff:lh.LOAD_TYPE.IMAGE,webp:lh.LOAD_TYPE.IMAGE,tga:lh.LOAD_TYPE.IMAGE,svg:lh.LOAD_TYPE.IMAGE,"svg+xml":lh.LOAD_TYPE.IMAGE,mp3:lh.LOAD_TYPE.AUDIO,ogg:lh.LOAD_TYPE.AUDIO,wav:lh.LOAD_TYPE.AUDIO,mp4:lh.LOAD_TYPE.VIDEO,webm:lh.LOAD_TYPE.VIDEO};lh._xhrTypeMap={xhtml:lh.XHR_RESPONSE_TYPE.DOCUMENT,html:lh.XHR_RESPONSE_TYPE.DOCUMENT,htm:lh.XHR_RESPONSE_TYPE.DOCUMENT,xml:lh.XHR_RESPONSE_TYPE.DOCUMENT,tmx:lh.XHR_RESPONSE_TYPE.DOCUMENT,svg:lh.XHR_RESPONSE_TYPE.DOCUMENT,tsx:lh.XHR_RESPONSE_TYPE.DOCUMENT,gif:lh.XHR_RESPONSE_TYPE.BLOB,png:lh.XHR_RESPONSE_TYPE.BLOB,bmp:lh.XHR_RESPONSE_TYPE.BLOB,jpg:lh.XHR_RESPONSE_TYPE.BLOB,jpeg:lh.XHR_RESPONSE_TYPE.BLOB,tif:lh.XHR_RESPONSE_TYPE.BLOB,tiff:lh.XHR_RESPONSE_TYPE.BLOB,webp:lh.XHR_RESPONSE_TYPE.BLOB,tga:lh.XHR_RESPONSE_TYPE.BLOB,json:lh.XHR_RESPONSE_TYPE.JSON,text:lh.XHR_RESPONSE_TYPE.TEXT,txt:lh.XHR_RESPONSE_TYPE.TEXT,ttf:lh.XHR_RESPONSE_TYPE.BUFFER,otf:lh.XHR_RESPONSE_TYPE.BUFFER};lh.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function vh(t,i,r){if(i&&i.indexOf(".")===0){i=i.substring(1)}if(!i){return}t[i]=r}function ch(t){return t.toString().replace("object ","")}var dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ph(t){var i="";var r=0;while(r<t.length){var n=[0,0,0];var e=[0,0,0,0];for(var s=0;s<n.length;++s){if(r<t.length){n[s]=t.charCodeAt(r++)&255}else{n[s]=0}}e[0]=n[0]>>2;e[1]=(n[0]&3)<<4|n[1]>>4;e[2]=(n[1]&15)<<2|n[2]>>6;e[3]=n[2]&63;var a=r-(t.length-1);switch(a){case 2:e[3]=64;e[2]=64;break;case 1:e[3]=64;break}for(var u=0;u<e.length;++u){i+=dh.charAt(e[u])}}return i}var bh=window.URL||window.webkitURL;function mh(t,i){if(!t.data){i();return}if(t.xhr&&t.xhrType===lh.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof t.data==="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image;t.data.src="data:"+r+";base64,"+ph(t.xhr.responseText);t.type=lh.TYPE.IMAGE;t.data.onload=function(){t.data.onload=null;i()};return}}else if(t.data.type.indexOf("image")===0){var n=bh.createObjectURL(t.data);t.blob=t.data;t.data=new Image;t.data.src=n;t.type=lh.TYPE.IMAGE;t.data.onload=function(){bh.revokeObjectURL(n);t.data.onload=null;i()};return}}i()}var gh={caching:th,parsing:mh};var yh=100;var wh=/(#[\w-]+)?$/;var Ah=function(){function t(i,r){var n=this;if(i===void 0){i=""}if(r===void 0){r=10}this.baseUrl=i;this.progress=0;this.loading=false;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(t,i){return n._loadResource(t,i)};this._queue=Ko(this._boundLoadResource,r);this._queue.pause();this.resources={};this.onProgress=new qo;this.onError=new qo;this.onLoad=new qo;this.onStart=new qo;this.onComplete=new qo;for(var e=0;e<t._defaultBeforeMiddleware.length;++e){this.pre(t._defaultBeforeMiddleware[e])}for(var s=0;s<t._defaultAfterMiddleware.length;++s){this.use(t._defaultAfterMiddleware[s])}}var i=t.prototype;i.add=function t(i,r,n,e){if(Array.isArray(i)){for(var s=0;s<i.length;++s){this.add(i[s])}return this}if(typeof i==="object"){e=r||i.callback||i.onComplete;n=i;r=i.url;i=i.name||i.key||i.url}if(typeof r!=="string"){e=n;n=r;r=i}if(typeof r!=="string"){throw new Error("No url passed to add resource to loader.")}if(typeof n==="function"){e=n;n=null}if(this.loading&&(!n||!n.parentResource)){throw new Error("Cannot add resources while the loader is running.")}if(this.resources[i]){throw new Error('Resource named "'+i+'" already exists.')}r=this._prepareUrl(r);this.resources[i]=new lh(i,r,n);if(typeof e==="function"){this.resources[i].onAfterMiddleware.once(e)}if(this.loading){var a=n.parentResource;var u=[];for(var o=0;o<a.children.length;++o){if(!a.children[o].isComplete){u.push(a.children[o])}}var h=a.progressChunk*(u.length+1);var f=h/(u.length+2);a.children.push(this.resources[i]);a.progressChunk=f;for(var l=0;l<u.length;++l){u[l].progressChunk=f}this.resources[i].progressChunk=f}this._queue.push(this.resources[i]);return this};i.pre=function t(i){this._beforeMiddleware.push(i);return this};i.use=function t(i){this._afterMiddleware.push(i);return this};i.reset=function t(){this.progress=0;this.loading=false;this._queue.kill();this._queue.pause();for(var i in this.resources){var r=this.resources[i];if(r._onLoadBinding){r._onLoadBinding.detach()}if(r.isLoading){r.abort()}}this.resources={};return this};i.load=function t(i){if(typeof i==="function"){this.onComplete.once(i)}if(this.loading){return this}if(this._queue.idle()){this._onStart();this._onComplete()}else{var r=this._queue._tasks.length;var n=yh/r;for(var e=0;e<this._queue._tasks.length;++e){this._queue._tasks[e].data.progressChunk=n}this._onStart();this._queue.resume()}return this};i._prepareUrl=function t(i){var r=Ho(i,{strictMode:true});var n;if(r.protocol||!r.path||i.indexOf("//")===0){n=i}else if(this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&i.charAt(0)!=="/"){n=this.baseUrl+"/"+i}else{n=this.baseUrl+i}if(this.defaultQueryString){var e=wh.exec(n)[0];n=n.substr(0,n.length-e.length);if(n.indexOf("?")!==-1){n+="&"+this.defaultQueryString}else{n+="?"+this.defaultQueryString}n+=e}return n};i._loadResource=function t(i,r){var n=this;i._dequeue=r;Jo(this._beforeMiddleware,(function(t,r){t.call(n,i,(function(){r(i.isComplete?{}:null)}))}),(function(){if(i.isComplete){n._onLoad(i)}else{i._onLoadBinding=i.onComplete.once(n._onLoad,n);i.load()}}),true)};i._onStart=function t(){this.progress=0;this.loading=true;this.onStart.dispatch(this)};i._onComplete=function t(){this.progress=yh;this.loading=false;this.onComplete.dispatch(this,this.resources)};i._onLoad=function t(i){var r=this;i._onLoadBinding=null;this._resourcesParsing.push(i);i._dequeue();Jo(this._afterMiddleware,(function(t,n){t.call(r,i,n)}),(function(){i.onAfterMiddleware.dispatch(i);r.progress=Math.min(yh,r.progress+i.progressChunk);r.onProgress.dispatch(r,i);if(i.error){r.onError.dispatch(i.error,r,i)}else{r.onLoad.dispatch(r,i)}r._resourcesParsing.splice(r._resourcesParsing.indexOf(i),1);if(r._queue.idle()&&r._resourcesParsing.length===0){r._onComplete()}}),true)};rh(t,[{key:"concurrency",get:function t(){return this._queue.concurrency},set:function t(i){this._queue.concurrency=i}}]);return t}();Ah._defaultBeforeMiddleware=[];Ah._defaultAfterMiddleware=[];Ah.pre=function t(i){Ah._defaultBeforeMiddleware.push(i);return Ah};Ah.use=function t(i){Ah._defaultAfterMiddleware.push(i);return Ah};
/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Oh=lh;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xh=function(t,i){xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return xh(t,i)};function Eh(t,i){xh(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Mh=function(){function t(){}t.use=function(t,i){if(t.data&&t.type===lh.TYPE.IMAGE){t.texture=Pa.fromLoader(t.data,t.url,t.name)}i()};return t}();var _h=function(t){Eh(i,t);function i(r,n){var e=t.call(this,r,n)||this;for(var s=0;s<i._plugins.length;++s){var a=i._plugins[s];var u=a.pre,o=a.use;if(u){e.pre(u)}if(o){e.use(o)}}e._protected=false;return e}i.prototype.destroy=function(){if(!this._protected){this.reset()}};Object.defineProperty(i,"shared",{get:function(){var t=i._shared;if(!t){t=new i;t._protected=true;i._shared=t}return t},enumerable:false,configurable:true});i.registerPlugin=function(t){i._plugins.push(t);if(t.add){t.add()}return i};i._plugins=[];return i}(Ah);_h.registerPlugin({use:gh.parsing});_h.registerPlugin(Mh);var jh=function(){function t(){}t.init=function(t){t=Object.assign({sharedLoader:false},t);this.loader=t.sharedLoader?_h.shared:new _h};t.destroy=function(){if(this.loader){this.loader.destroy();this.loader=null}};return t}();
/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Th=function(t,i){Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Th(t,i)};function Sh(t,i){Th(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}(function(t){Sh(i,t);function i(i,r,n,e){if(i===void 0){i=1500}if(n===void 0){n=16384}if(e===void 0){e=false}var s=t.call(this)||this;var a=16384;if(n>a){n=a}s._properties=[false,true,false,false,false];s._maxSize=i;s._batchSize=n;s._buffers=null;s._bufferUpdateIDs=[];s._updateID=0;s.interactiveChildren=false;s.blendMode=be.NORMAL;s.autoResize=e;s.roundPixels=true;s.baseTexture=null;s.setProperties(r);s._tint=0;s.tintRgb=new Float32Array(4);s.tint=16777215;return s}i.prototype.setProperties=function(t){if(t){this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0];this._properties[1]="position"in t?!!t.position:this._properties[1];this._properties[2]="rotation"in t?!!t.rotation:this._properties[2];this._properties[3]="uvs"in t?!!t.uvs:this._properties[3];this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4]}};i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t;Fe(t,this.tintRgb)},enumerable:false,configurable:true});i.prototype.render=function(t){var i=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return}if(!this.baseTexture){this.baseTexture=this.children[0]._texture.baseTexture;if(!this.baseTexture.valid){this.baseTexture.once("update",(function(){return i.onChildrenChange(0)}))}}t.batch.setObjectRenderer(t.plugins.particle);t.plugins.particle.render(this)};i.prototype.onChildrenChange=function(t){var i=Math.floor(t/this._batchSize);while(this._bufferUpdateIDs.length<i){this._bufferUpdateIDs.push(0)}this._bufferUpdateIDs[i]=++this._updateID};i.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t){this._buffers[t].destroy()}this._buffers=null}};i.prototype.destroy=function(i){t.prototype.destroy.call(this,i);this.dispose();this._properties=null;this._buffers=null;this._bufferUpdateIDs=null};return i})(Ds);var Ih=function(){function t(t,i,r){this.geometry=new Xa;this.indexBuffer=null;this.size=r;this.dynamicProperties=[];this.staticProperties=[];for(var n=0;n<t.length;++n){var e=t[n];e={attributeName:e.attributeName,size:e.size,uploadFunction:e.uploadFunction,type:e.type||we.FLOAT,offset:e.offset};if(i[n]){this.dynamicProperties.push(e)}else{this.staticProperties.push(e)}}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this._updateID=0;this.initBuffers()}t.prototype.initBuffers=function(){var t=this.geometry;var i=0;this.indexBuffer=new ka(ze(this.size),true,true);t.addIndex(this.indexBuffer);this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=i;i+=n.size;this.dynamicStride+=n.size}var e=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(e);this.dynamicDataUint32=new Uint32Array(e);this.dynamicBuffer=new ka(this.dynamicData,false,false);var s=0;this.staticStride=0;for(var r=0;r<this.staticProperties.length;++r){var n=this.staticProperties[r];n.offset=s;s+=n.size;this.staticStride+=n.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a);this.staticDataUint32=new Uint32Array(a);this.staticBuffer=new ka(this.staticData,true,false);for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];t.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===we.UNSIGNED_BYTE,n.type,this.dynamicStride*4,n.offset*4)}for(var r=0;r<this.staticProperties.length;++r){var n=this.staticProperties[r];t.addAttribute(n.attributeName,this.staticBuffer,0,n.type===we.UNSIGNED_BYTE,n.type,this.staticStride*4,n.offset*4)}};t.prototype.uploadDynamic=function(t,i,r){for(var n=0;n<this.dynamicProperties.length;n++){var e=this.dynamicProperties[n];e.uploadFunction(t,i,r,e.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer._updateID++};t.prototype.uploadStatic=function(t,i,r){for(var n=0;n<this.staticProperties.length;n++){var e=this.staticProperties[n];e.uploadFunction(t,i,r,e.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer._updateID++};t.prototype.destroy=function(){this.indexBuffer=null;this.dynamicProperties=null;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this.staticProperties=null;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.geometry.destroy()};return t}();var Ch="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}";var Ph="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";var Rh=function(t){Sh(i,t);function i(i){var r=t.call(this,i)||this;r.shader=null;r.properties=null;r.tempMatrix=new ys;r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}];r.shader=ku.from(Ph,Ch,{});r.state=Hu.for2d();return r}i.prototype.render=function(t){var i=t.children;var r=t._maxSize;var n=t._batchSize;var e=this.renderer;var s=i.length;if(s===0){return}else if(s>r&&!t.autoResize){s=r}var a=t._buffers;if(!a){a=t._buffers=this.generateBuffers(t)}var u=i[0]._texture.baseTexture;this.state.blendMode=Be(t.blendMode,u.alphaMode);e.state.set(this.state);var o=e.gl;var h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(e.globalUniforms.uniforms.projectionMatrix);this.shader.uniforms.translationMatrix=h.toArray(true);this.shader.uniforms.uColor=Ve(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.alphaMode);this.shader.uniforms.uSampler=u;this.renderer.shader.bind(this.shader);var f=false;for(var l=0,v=0;l<s;l+=n,v+=1){var c=s-l;if(c>n){c=n}if(v>=a.length){a.push(this._generateOneMoreBuffer(t))}var d=a[v];d.uploadDynamic(i,l,c);var p=t._bufferUpdateIDs[v]||0;f=f||d._updateID<p;if(f){d._updateID=t._updateID;d.uploadStatic(i,l,c)}e.geometry.bind(d.geometry);o.drawElements(o.TRIANGLES,c*6,o.UNSIGNED_SHORT,0)}};i.prototype.generateBuffers=function(t){var i=[];var r=t._maxSize;var n=t._batchSize;var e=t._properties;for(var s=0;s<r;s+=n){i.push(new Ih(this.properties,e,n))}return i};i.prototype._generateOneMoreBuffer=function(t){var i=t._batchSize;var r=t._properties;return new Ih(this.properties,r,i)};i.prototype.uploadVertices=function(t,i,r,n,e,s){var a=0;var u=0;var o=0;var h=0;for(var f=0;f<r;++f){var l=t[i+f];var v=l._texture;var c=l.scale.x;var d=l.scale.y;var p=v.trim;var b=v.orig;if(p){u=p.x-l.anchor.x*b.width;a=u+p.width;h=p.y-l.anchor.y*b.height;o=h+p.height}else{a=b.width*(1-l.anchor.x);u=b.width*-l.anchor.x;o=b.height*(1-l.anchor.y);h=b.height*-l.anchor.y}n[s]=u*c;n[s+1]=h*d;n[s+e]=a*c;n[s+e+1]=h*d;n[s+e*2]=a*c;n[s+e*2+1]=o*d;n[s+e*3]=u*c;n[s+e*3+1]=o*d;s+=e*4}};i.prototype.uploadPosition=function(t,i,r,n,e,s){for(var a=0;a<r;a++){var u=t[i+a].position;n[s]=u.x;n[s+1]=u.y;n[s+e]=u.x;n[s+e+1]=u.y;n[s+e*2]=u.x;n[s+e*2+1]=u.y;n[s+e*3]=u.x;n[s+e*3+1]=u.y;s+=e*4}};i.prototype.uploadRotation=function(t,i,r,n,e,s){for(var a=0;a<r;a++){var u=t[i+a].rotation;n[s]=u;n[s+e]=u;n[s+e*2]=u;n[s+e*3]=u;s+=e*4}};i.prototype.uploadUvs=function(t,i,r,n,e,s){for(var a=0;a<r;++a){var u=t[i+a]._texture._uvs;if(u){n[s]=u.x0;n[s+1]=u.y0;n[s+e]=u.x1;n[s+e+1]=u.y1;n[s+e*2]=u.x2;n[s+e*2+1]=u.y2;n[s+e*3]=u.x3;n[s+e*3+1]=u.y3;s+=e*4}else{n[s]=0;n[s+1]=0;n[s+e]=0;n[s+e+1]=0;n[s+e*2]=0;n[s+e*2+1]=0;n[s+e*3]=0;n[s+e*3+1]=0;s+=e*4}}};i.prototype.uploadTint=function(t,i,r,n,e,s){for(var a=0;a<r;++a){var u=t[i+a];var o=u._texture.baseTexture.alphaMode>0;var h=u.alpha;var f=h<1&&o?We(u._tintRGB,h):u._tintRGB+(h*255<<24);n[s]=f;n[s+e]=f;n[s+e*2]=f;n[s+e*3]=f;s+=e*4}};i.prototype.destroy=function(){t.prototype.destroy.call(this);if(this.shader){this.shader.destroy();this.shader=null}this.tempMatrix=null};return i}(Qa);
/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Nh;(function(t){t["MITER"]="miter";t["BEVEL"]="bevel";t["ROUND"]="round"})(Nh||(Nh={}));var Fh;(function(t){t["BUTT"]="butt";t["ROUND"]="round";t["SQUARE"]="square"})(Fh||(Fh={}));var Dh={adaptive:true,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,i){if(i===void 0){i=20}if(!this.adaptive||!t||isNaN(t)){return i}var r=Math.ceil(t/this.maxLength);if(r<this.minSegments){r=this.minSegments}else if(r>this.maxSegments){r=this.maxSegments}return r}};var Lh=function(){function t(){this.color=16777215;this.alpha=1;this.texture=Pa.WHITE;this.matrix=null;this.visible=false;this.reset()}t.prototype.clone=function(){var i=new t;i.color=this.color;i.alpha=this.alpha;i.texture=this.texture;i.matrix=this.matrix;i.visible=this.visible;return i};t.prototype.reset=function(){this.color=16777215;this.alpha=1;this.texture=Pa.WHITE;this.matrix=null;this.visible=false};t.prototype.destroy=function(){this.texture=null;this.matrix=null};return t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Uh=function(t,i){Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Uh(t,i)};function kh(t,i){Uh(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Bh={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,i){var r=t.points;var n=t.holes;var e=i.points;var s=i.indices;if(r.length>=6){var a=[];for(var u=0;u<n.length;u++){var o=n[u];a.push(r.length/2);r=r.concat(o.points)}var h=$(r,a,2);if(!h){return}var f=e.length/2;for(var u=0;u<h.length;u+=3){s.push(h[u]+f);s.push(h[u+1]+f);s.push(h[u+2]+f)}for(var u=0;u<r.length;u++){e.push(r[u])}}}};var Vh={build:function(t){var i=t.shape;var r=t.points;var n=i.x;var e=i.y;var s;var a;r.length=0;if(t.type===ls.CIRC){s=i.radius;a=i.radius}else{var u=t.shape;s=u.width;a=u.height}if(s===0||a===0){return}var o=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(s+a));o/=2.3;var h=Math.PI*2/o;for(var f=0;f<o-.5;f++){r.push(n+Math.sin(-h*f)*s,e+Math.cos(-h*f)*a)}r.push(r[0],r[1])},triangulate:function(t,i){var r=t.points;var n=i.points;var e=i.indices;var s=n.length/2;var a=s;var u=t.shape;var o=t.matrix;var h=u.x;var f=u.y;n.push(t.matrix?o.a*h+o.c*f+o.tx:h,t.matrix?o.b*h+o.d*f+o.ty:f);for(var l=0;l<r.length;l+=2){n.push(r[l],r[l+1]);e.push(s++,a,s)}}};var Wh={build:function(t){var i=t.shape;var r=i.x;var n=i.y;var e=i.width;var s=i.height;var a=t.points;a.length=0;a.push(r,n,r+e,n,r+e,n+s,r,n+s)},triangulate:function(t,i){var r=t.points;var n=i.points;var e=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]);i.indices.push(e,e+1,e+2,e+1,e+2,e+3)}};function Gh(t,i,r){var n=i-t;return t+n*r}function zh(t,i,r,n,e,s,a){if(a===void 0){a=[]}var u=20;var o=a;var h=0;var f=0;var l=0;var v=0;var c=0;var d=0;for(var p=0,b=0;p<=u;++p){b=p/u;h=Gh(t,r,b);f=Gh(i,n,b);l=Gh(r,e,b);v=Gh(n,s,b);c=Gh(h,l,b);d=Gh(f,v,b);o.push(c,d)}return o}var Hh={build:function(t){var i=t.shape;var r=t.points;var n=i.x;var e=i.y;var s=i.width;var a=i.height;var u=Math.max(0,Math.min(i.radius,Math.min(s,a)/2));r.length=0;if(!u){r.push(n,e,n+s,e,n+s,e+a,n,e+a)}else{zh(n,e+u,n,e,n+u,e,r);zh(n+s-u,e,n+s,e,n+s,e+u,r);zh(n+s,e+a-u,n+s,e+a,n+s-u,e+a,r);zh(n+u,e+a,n,e+a,n,e+a-u,r)}},triangulate:function(t,i){var r=t.points;var n=i.points;var e=i.indices;var s=n.length/2;var a=$(r,null,2);for(var u=0,o=a.length;u<o;u+=3){e.push(a[u]+s);e.push(a[u+1]+s);e.push(a[u+2]+s)}for(var u=0,o=r.length;u<o;u++){n.push(r[u],r[++u])}}};function Xh(t,i,r,n,e,s,a,u){var o=t-r*e;var h=i-n*e;var f=t+r*s;var l=i+n*s;var v;var c;if(a){v=n;c=-r}else{v=-n;c=r}var d=o+v;var p=h+c;var b=f+v;var m=l+c;u.push(d,p);u.push(b,m);return 2}function Yh(t,i,r,n,e,s,a,u){var o=r-t;var h=n-i;var f=Math.atan2(o,h);var l=Math.atan2(e-t,s-i);if(u&&f<l){f+=Math.PI*2}else if(!u&&f>l){l+=Math.PI*2}var v=f;var c=l-f;var d=Math.abs(c);var p=Math.sqrt(o*o+h*h);var b=(15*d*Math.sqrt(p)/Math.PI>>0)+1;var m=c/b;v+=m;if(u){a.push(t,i);a.push(r,n);for(var g=1,y=v;g<b;g++,y+=m){a.push(t,i);a.push(t+Math.sin(y)*p,i+Math.cos(y)*p)}a.push(t,i);a.push(e,s)}else{a.push(r,n);a.push(t,i);for(var g=1,y=v;g<b;g++,y+=m){a.push(t+Math.sin(y)*p,i+Math.cos(y)*p);a.push(t,i)}a.push(e,s);a.push(t,i)}return b*2}function qh(t,i){var r=t.shape;var n=t.points||r.points.slice();var e=i.closePointEps;if(n.length===0){return}var s=t.lineStyle;var a=new ms(n[0],n[1]);var u=new ms(n[n.length-2],n[n.length-1]);var o=r.type!==ls.POLY||r.closeStroke;var h=Math.abs(a.x-u.x)<e&&Math.abs(a.y-u.y)<e;if(o){n=n.slice();if(h){n.pop();n.pop();u.set(n[n.length-2],n[n.length-1])}var f=(a.x+u.x)*.5;var l=(u.y+a.y)*.5;n.unshift(f,l);n.push(f,l)}var v=i.points;var c=n.length/2;var d=n.length;var p=v.length/2;var b=s.width/2;var m=b*b;var g=s.miterLimit*s.miterLimit;var y=n[0];var w=n[1];var A=n[2];var O=n[3];var x=0;var E=0;var M=-(w-O);var _=y-A;var j=0;var T=0;var S=Math.sqrt(M*M+_*_);M/=S;_/=S;M*=b;_*=b;var I=s.alignment;var C=(1-I)*2;var P=I*2;if(!o){if(s.cap===Fh.ROUND){d+=Yh(y-M*(C-P)*.5,w-_*(C-P)*.5,y-M*C,w-_*C,y+M*P,w+_*P,v,true)+2}else if(s.cap===Fh.SQUARE){d+=Xh(y,w,M,_,C,P,true,v)}}v.push(y-M*C,w-_*C);v.push(y+M*P,w+_*P);for(var R=1;R<c-1;++R){y=n[(R-1)*2];w=n[(R-1)*2+1];A=n[R*2];O=n[R*2+1];x=n[(R+1)*2];E=n[(R+1)*2+1];M=-(w-O);_=y-A;S=Math.sqrt(M*M+_*_);M/=S;_/=S;M*=b;_*=b;j=-(O-E);T=A-x;S=Math.sqrt(j*j+T*T);j/=S;T/=S;j*=b;T*=b;var N=A-y;var F=w-O;var D=A-x;var L=E-O;var U=F*D-L*N;var k=U<0;if(Math.abs(U)<.1){v.push(A-M*C,O-_*C);v.push(A+M*P,O+_*P);continue}var B=(-M+y)*(-_+O)-(-M+A)*(-_+w);var V=(-j+x)*(-T+O)-(-j+A)*(-T+E);var W=(N*V-D*B)/U;var G=(L*B-F*V)/U;var z=(W-A)*(W-A)+(G-O)*(G-O);var H=A+(W-A)*C;var X=O+(G-O)*C;var Y=A-(W-A)*P;var q=O-(G-O)*P;var $=Math.min(N*N+F*F,D*D+L*L);var J=k?C:P;var Z=$+J*J*m;var K=z<=Z;if(K){if(s.join===Nh.BEVEL||z/m>g){if(k){v.push(H,X);v.push(A+M*P,O+_*P);v.push(H,X);v.push(A+j*P,O+T*P)}else{v.push(A-M*C,O-_*C);v.push(Y,q);v.push(A-j*C,O-T*C);v.push(Y,q)}d+=2}else if(s.join===Nh.ROUND){if(k){v.push(H,X);v.push(A+M*P,O+_*P);d+=Yh(A,O,A+M*P,O+_*P,A+j*P,O+T*P,v,true)+4;v.push(H,X);v.push(A+j*P,O+T*P)}else{v.push(A-M*C,O-_*C);v.push(Y,q);d+=Yh(A,O,A-M*C,O-_*C,A-j*C,O-T*C,v,false)+4;v.push(A-j*C,O-T*C);v.push(Y,q)}}else{v.push(H,X);v.push(Y,q)}}else{v.push(A-M*C,O-_*C);v.push(A+M*P,O+_*P);if(s.join===Nh.BEVEL||z/m>g);else if(s.join===Nh.ROUND){if(k){d+=Yh(A,O,A+M*P,O+_*P,A+j*P,O+T*P,v,true)+2}else{d+=Yh(A,O,A-M*C,O-_*C,A-j*C,O-T*C,v,false)+2}}else{if(k){v.push(Y,q);v.push(Y,q)}else{v.push(H,X);v.push(H,X)}d+=2}v.push(A-j*C,O-T*C);v.push(A+j*P,O+T*P);d+=2}}y=n[(c-2)*2];w=n[(c-2)*2+1];A=n[(c-1)*2];O=n[(c-1)*2+1];M=-(w-O);_=y-A;S=Math.sqrt(M*M+_*_);M/=S;_/=S;M*=b;_*=b;v.push(A-M*C,O-_*C);v.push(A+M*P,O+_*P);if(!o){if(s.cap===Fh.ROUND){d+=Yh(A-M*(C-P)*.5,O-_*(C-P)*.5,A-M*C,O-_*C,A+M*P,O+_*P,v,false)+2}else if(s.cap===Fh.SQUARE){d+=Xh(A,O,M,_,C,P,false,v)}}var Q=i.indices;var tt=Dh.epsilon*Dh.epsilon;for(var R=p;R<d+p-2;++R){y=v[R*2];w=v[R*2+1];A=v[(R+1)*2];O=v[(R+1)*2+1];x=v[(R+2)*2];E=v[(R+2)*2+1];if(Math.abs(y*(O-E)+A*(E-w)+x*(w-O))<tt){continue}Q.push(R,R+1,R+2)}}function $h(t,i){var r=0;var n=t.shape;var e=t.points||n.points;var s=n.type!==ls.POLY||n.closeStroke;if(e.length===0){return}var a=i.points;var u=i.indices;var o=e.length/2;var h=a.length/2;var f=h;a.push(e[0],e[1]);for(r=1;r<o;r++){a.push(e[r*2],e[r*2+1]);u.push(f,f+1);f++}if(s){u.push(f,h)}}function Jh(t,i){if(t.lineStyle.native){$h(t,i)}else{qh(t,i)}}var Zh=function(t){kh(i,t);function i(i,r,n,e,s,a){if(a===void 0){a=0}var u=this;s=s||e/2;var o=-1*Math.PI/2+a;var h=n*2;var f=os/h;var l=[];for(var v=0;v<h;v++){var c=v%2?s:e;var d=v*f+o;l.push(i+c*Math.cos(d),r+c*Math.sin(d))}u=t.call(this,l)||this;return u}return i}(ps);var Kh=function(){function t(){}t.curveTo=function(t,i,r,n,e,s){var a=s[s.length-2];var u=s[s.length-1];var o=u-i;var h=a-t;var f=n-i;var l=r-t;var v=Math.abs(o*l-h*f);if(v<1e-8||e===0){if(s[s.length-2]!==t||s[s.length-1]!==i){s.push(t,i)}return null}var c=o*o+h*h;var d=f*f+l*l;var p=o*f+h*l;var b=e*Math.sqrt(c)/v;var m=e*Math.sqrt(d)/v;var g=b*p/c;var y=m*p/d;var w=b*l+m*h;var A=b*f+m*o;var O=h*(m+g);var x=o*(m+g);var E=l*(b+y);var M=f*(b+y);var _=Math.atan2(x-A,O-w);var j=Math.atan2(M-A,E-w);return{cx:w+t,cy:A+i,radius:e,startAngle:_,endAngle:j,anticlockwise:h*f>l*o}};t.arc=function(t,i,r,n,e,s,a,u,o){var h=a-s;var f=Dh._segmentsCount(Math.abs(h)*e,Math.ceil(Math.abs(h)/os)*40);var l=h/(f*2);var v=l*2;var c=Math.cos(l);var d=Math.sin(l);var p=f-1;var b=p%1/p;for(var m=0;m<=p;++m){var g=m+b*m;var y=l+s+v*g;var w=Math.cos(y);var A=-Math.sin(y);o.push((c*w+d*A)*e+r,(c*-A+d*w)*e+n)}};return t}();var Qh=function(){function t(){}t.curveLength=function(t,i,r,n,e,s,a,u){var o=10;var h=0;var f=0;var l=0;var v=0;var c=0;var d=0;var p=0;var b=0;var m=0;var g=0;var y=0;var w=t;var A=i;for(var O=1;O<=o;++O){f=O/o;l=f*f;v=l*f;c=1-f;d=c*c;p=d*c;b=p*t+3*d*f*r+3*c*l*e+v*a;m=p*i+3*d*f*n+3*c*l*s+v*u;g=w-b;y=A-m;w=b;A=m;h+=Math.sqrt(g*g+y*y)}return h};t.curveTo=function(i,r,n,e,s,a,u){var o=u[u.length-2];var h=u[u.length-1];u.length-=2;var f=Dh._segmentsCount(t.curveLength(o,h,i,r,n,e,s,a));var l=0;var v=0;var c=0;var d=0;var p=0;u.push(o,h);for(var b=1,m=0;b<=f;++b){m=b/f;l=1-m;v=l*l;c=v*l;d=m*m;p=d*m;u.push(c*o+3*v*m*i+3*l*d*n+p*s,c*h+3*v*m*r+3*l*d*e+p*a)}};return t}();var tf=function(){function t(){}t.curveLength=function(t,i,r,n,e,s){var a=t-2*r+e;var u=i-2*n+s;var o=2*r-2*t;var h=2*n-2*i;var f=4*(a*a+u*u);var l=4*(a*o+u*h);var v=o*o+h*h;var c=2*Math.sqrt(f+l+v);var d=Math.sqrt(f);var p=2*f*d;var b=2*Math.sqrt(v);var m=l/d;return(p*c+d*l*(c-b)+(4*v*f-l*l)*Math.log((2*d+m+c)/(m+b)))/(4*p)};t.curveTo=function(i,r,n,e,s){var a=s[s.length-2];var u=s[s.length-1];var o=Dh._segmentsCount(t.curveLength(a,u,i,r,n,e));var h=0;var f=0;for(var l=1;l<=o;++l){var v=l/o;h=a+(i-a)*v;f=u+(r-u)*v;s.push(h+(i+(n-i)*v-h)*v,f+(r+(e-r)*v-f)*v)}};return t}();var rf=function(){function t(){this.reset()}t.prototype.begin=function(t,i,r){this.reset();this.style=t;this.start=i;this.attribStart=r};t.prototype.end=function(t,i){this.attribSize=i-this.attribStart;this.size=t-this.start};t.prototype.reset=function(){this.style=null;this.size=0;this.start=0;this.attribStart=0;this.attribSize=0};return t}();var nf;var ef=(nf={},nf[ls.POLY]=Bh,nf[ls.CIRC]=Vh,nf[ls.ELIP]=Vh,nf[ls.RECT]=Wh,nf[ls.RREC]=Hh,nf);var sf=[];var af=[];var uf=function(){function t(t,i,r,n){if(i===void 0){i=null}if(r===void 0){r=null}if(n===void 0){n=null}this.shape=t;this.lineStyle=r;this.fillStyle=i;this.matrix=n;this.type=t.type;this.points=[];this.holes=[]}t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)};t.prototype.destroy=function(){this.shape=null;this.holes.length=0;this.holes=null;this.points.length=0;this.points=null;this.lineStyle=null;this.fillStyle=null};return t}();var of=new ms;var hf=new Is;var ff=function(t){kh(i,t);function i(){var i=t.call(this)||this;i.uvsFloat32=null;i.indicesUint16=null;i.points=[];i.colors=[];i.uvs=[];i.indices=[];i.textureIds=[];i.graphicsData=[];i.dirty=0;i.batchDirty=-1;i.cacheDirty=-1;i.clearDirty=0;i.drawCalls=[];i.batches=[];i.shapeIndex=0;i._bounds=new Is;i.boundsDirty=-1;i.boundsPadding=0;i.batchable=false;i.indicesUint16=null;i.uvsFloat32=null;i.closePointEps=1e-4;return i}Object.defineProperty(i.prototype,"bounds",{get:function(){if(this.boundsDirty!==this.dirty){this.boundsDirty=this.dirty;this.calculateBounds()}return this._bounds},enumerable:false,configurable:true});i.prototype.invalidate=function(){this.boundsDirty=-1;this.dirty++;this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;this.indices.length=0;this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++){this.drawCalls[t].texArray.clear();af.push(this.drawCalls[t])}this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var i=this.batches[t];i.reset();sf.push(i)}this.batches.length=0};i.prototype.clear=function(){if(this.graphicsData.length>0){this.invalidate();this.clearDirty++;this.graphicsData.length=0}return this};i.prototype.drawShape=function(t,i,r,n){if(i===void 0){i=null}if(r===void 0){r=null}if(n===void 0){n=null}var e=new uf(t,i,r,n);this.graphicsData.push(e);this.dirty++;return this};i.prototype.drawHole=function(t,i){if(i===void 0){i=null}if(!this.graphicsData.length){return null}var r=new uf(t,null,null,i);var n=this.graphicsData[this.graphicsData.length-1];r.lineStyle=n.lineStyle;n.holes.push(r);this.dirty++;return this};i.prototype.destroy=function(){t.prototype.destroy.call(this);for(var i=0;i<this.graphicsData.length;++i){this.graphicsData[i].destroy()}this.points.length=0;this.points=null;this.colors.length=0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this.batches=null;this._bounds=null};i.prototype.containsPoint=function(t){var i=this.graphicsData;for(var r=0;r<i.length;++r){var n=i[r];if(!n.fillStyle.visible){continue}if(n.shape){if(n.matrix){n.matrix.applyInverse(t,of)}else{of.copyFrom(t)}if(n.shape.contains(of.x,of.y)){var e=false;if(n.holes){for(var s=0;s<n.holes.length;s++){var a=n.holes[s];if(a.shape.contains(of.x,of.y)){e=true;break}}}if(!e){return true}}}}return false};i.prototype.updateBatches=function(t){if(!this.graphicsData.length){this.batchable=true;return}if(!this.validateBatching()){return}this.cacheDirty=this.dirty;var i=this.uvs;var r=this.graphicsData;var n=null;var e=null;if(this.batches.length>0){n=this.batches[this.batches.length-1];e=n.style}for(var s=this.shapeIndex;s<r.length;s++){this.shapeIndex++;var a=r[s];var u=a.fillStyle;var o=a.lineStyle;var h=ef[a.type];h.build(a);if(a.matrix){this.transformPoints(a.points,a.matrix)}for(var f=0;f<2;f++){var l=f===0?u:o;if(!l.visible){continue}var v=l.texture.baseTexture;var c=this.indices.length;var d=this.points.length/2;v.wrapMode=Oe.REPEAT;if(f===0){this.processFill(a)}else{this.processLine(a)}var p=this.points.length/2-d;if(p===0){continue}if(n&&!this._compareStyles(e,l)){n.end(c,d);n=null}if(!n){n=sf.pop()||new rf;n.begin(l,c,d);this.batches.push(n);e=l}this.addUvs(this.points,i,l.texture,d,p,l.matrix)}}var b=this.indices.length;var m=this.points.length/2;if(n){n.end(b,m)}if(this.batches.length===0){this.batchable=true;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length){this.indicesUint16.set(this.indices)}else{var g=m>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable();if(this.batchable){this.packBatches()}else{this.buildDrawCalls()}};i.prototype._compareStyles=function(t,i){if(!t||!i){return false}if(t.texture.baseTexture!==i.texture.baseTexture){return false}if(t.color+t.alpha!==i.color+i.alpha){return false}if(!!t.native!==!!i.native){return false}return true};i.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length){return false}for(var t=0,i=this.graphicsData.length;t<i;t++){var r=this.graphicsData[t];var n=r.fillStyle;var e=r.lineStyle;if(n&&!n.texture.baseTexture.valid){return false}if(e&&!e.texture.baseTexture.valid){return false}}return true};i.prototype.packBatches=function(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);var t=this.batches;for(var i=0,r=t.length;i<r;i++){var n=t[i];for(var e=0;e<n.size;e++){var s=n.start+e;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}};i.prototype.isBatchable=function(){if(this.points.length>65535*2){return false}var t=this.batches;for(var r=0;r<t.length;r++){if(t[r].style.native){return false}}return this.points.length<i.BATCHABLE_SIZE*2};i.prototype.buildDrawCalls=function(){var t=++ba._globalBatch;for(var i=0;i<this.drawCalls.length;i++){this.drawCalls[i].texArray.clear();af.push(this.drawCalls[i])}this.drawCalls.length=0;var r=this.colors;var n=this.textureIds;var e=af.pop();if(!e){e=new Io;e.texArray=new Co}e.texArray.count=0;e.start=0;e.size=0;e.type=me.TRIANGLES;var s=0;var a=null;var u=0;var o=false;var h=me.TRIANGLES;var f=0;this.drawCalls.push(e);for(var i=0;i<this.batches.length;i++){var l=this.batches[i];var v=8;var c=l.style;var d=c.texture.baseTexture;if(o!==!!c.native){o=!!c.native;h=o?me.LINES:me.TRIANGLES;a=null;s=v;t++}if(a!==d){a=d;if(d._batchEnabled!==t){if(s===v){t++;s=0;if(e.size>0){e=af.pop();if(!e){e=new Io;e.texArray=new Co}this.drawCalls.push(e)}e.start=f;e.size=0;e.texArray.count=0;e.type=h}d.touched=1;d._batchEnabled=t;d._batchLocation=s;d.wrapMode=10497;e.texArray.elements[e.texArray.count++]=d;s++}}e.size+=l.size;f+=l.size;u=d._batchLocation;this.addColors(r,c.color,c.alpha,l.attribSize,l.attribStart);this.addTextureIds(n,u,l.attribSize,l.attribStart)}ba._globalBatch=t;this.packAttributes()};i.prototype.packAttributes=function(){var t=this.points;var i=this.uvs;var r=this.colors;var n=this.textureIds;var e=new ArrayBuffer(t.length*3*4);var s=new Float32Array(e);var a=new Uint32Array(e);var u=0;for(var o=0;o<t.length/2;o++){s[u++]=t[o*2];s[u++]=t[o*2+1];s[u++]=i[o*2];s[u++]=i[o*2+1];a[u++]=r[o];s[u++]=n[o]}this._buffer.update(e);this._indexBuffer.update(this.indicesUint16)};i.prototype.processFill=function(t){if(t.holes.length){this.processHoles(t.holes);Bh.triangulate(t,this)}else{var i=ef[t.type];i.triangulate(t,this)}};i.prototype.processLine=function(t){Jh(t,this);for(var i=0;i<t.holes.length;i++){Jh(t.holes[i],this)}};i.prototype.processHoles=function(t){for(var i=0;i<t.length;i++){var r=t[i];var n=ef[r.type];n.build(r);if(r.matrix){this.transformPoints(r.points,r.matrix)}}};i.prototype.calculateBounds=function(){var t=this._bounds;var i=hf;var r=ys.IDENTITY;this._bounds.clear();i.clear();for(var n=0;n<this.graphicsData.length;n++){var e=this.graphicsData[n];var s=e.shape;var a=e.type;var u=e.lineStyle;var o=e.matrix||ys.IDENTITY;var h=0;if(u&&u.visible){var f=u.alignment;h=u.width;if(a===ls.POLY){h=h*(.5+Math.abs(.5-f))}else{h=h*Math.max(0,f)}}if(r!==o){if(!i.isEmpty()){t.addBoundsMatrix(i,r);i.clear()}r=o}if(a===ls.RECT||a===ls.RREC){var l=s;i.addFramePad(l.x,l.y,l.x+l.width,l.y+l.height,h,h)}else if(a===ls.CIRC){var v=s;i.addFramePad(v.x,v.y,v.x,v.y,v.radius+h,v.radius+h)}else if(a===ls.ELIP){var c=s;i.addFramePad(c.x,c.y,c.x,c.y,c.width+h,c.height+h)}else{var d=s;t.addVerticesMatrix(r,d.points,0,d.points.length,h,h)}}if(!i.isEmpty()){t.addBoundsMatrix(i,r)}t.pad(this.boundsPadding,this.boundsPadding)};i.prototype.transformPoints=function(t,i){for(var r=0;r<t.length/2;r++){var n=t[r*2];var e=t[r*2+1];t[r*2]=i.a*n+i.c*e+i.tx;t[r*2+1]=i.b*n+i.d*e+i.ty}};i.prototype.addColors=function(t,i,r,n,e){if(e===void 0){e=0}var s=(i>>16)+(i&65280)+((i&255)<<16);var a=We(s,r);t.length=Math.max(t.length,e+n);for(var u=0;u<n;u++){t[e+u]=a}};i.prototype.addTextureIds=function(t,i,r,n){if(n===void 0){n=0}t.length=Math.max(t.length,n+r);for(var e=0;e<r;e++){t[n+e]=i}};i.prototype.addUvs=function(t,i,r,n,e,s){if(s===void 0){s=null}var a=0;var u=i.length;var o=r.frame;while(a<e){var h=t[(n+a)*2];var f=t[(n+a)*2+1];if(s){var l=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty;h=l}a++;i.push(h/o.width,f/o.height)}var v=r.baseTexture;if(o.width<v.width||o.height<v.height){this.adjustUvs(i,r,u,e)}};i.prototype.adjustUvs=function(t,i,r,n){var e=i.baseTexture;var s=1e-6;var a=r+n*2;var u=i.frame;var o=u.width/e.width;var h=u.height/e.height;var f=u.x/u.width;var l=u.y/u.height;var v=Math.floor(t[r]+s);var c=Math.floor(t[r+1]+s);for(var d=r+2;d<a;d+=2){v=Math.min(v,Math.floor(t[d]+s));c=Math.min(c,Math.floor(t[d+1]+s))}f-=v;l-=c;for(var d=r;d<a;d+=2){t[d]=(t[d]+f)*o;t[d+1]=(t[d+1]+l)*h}};i.BATCHABLE_SIZE=100;return i}(Fo);var lf=function(t){kh(i,t);function i(){var i=t!==null&&t.apply(this,arguments)||this;i.width=0;i.alignment=.5;i.native=false;i.cap=Fh.BUTT;i.join=Nh.MITER;i.miterLimit=10;return i}i.prototype.clone=function(){var t=new i;t.color=this.color;t.alpha=this.alpha;t.texture=this.texture;t.matrix=this.matrix;t.visible=this.visible;t.width=this.width;t.alignment=this.alignment;t.native=this.native;t.cap=this.cap;t.join=this.join;t.miterLimit=this.miterLimit;return t};i.prototype.reset=function(){t.prototype.reset.call(this);this.color=0;this.alignment=.5;this.width=0;this.native=false};return i}(Lh);var vf=new Float32Array(3);var cf={};var df=function(t){kh(i,t);function i(i){if(i===void 0){i=null}var r=t.call(this)||this;r._geometry=i||new ff;r._geometry.refCount++;r.shader=null;r.state=Hu.for2d();r._fillStyle=new Lh;r._lineStyle=new lf;r._matrix=null;r._holeMode=false;r.currentPath=null;r.batches=[];r.batchTint=-1;r.batchDirty=-1;r.vertexData=null;r.pluginName="batch";r._transformID=-1;r.tint=16777215;r.blendMode=be.NORMAL;return r}Object.defineProperty(i.prototype,"geometry",{get:function(){return this._geometry},enumerable:false,configurable:true});i.prototype.clone=function(){this.finishPoly();return new i(this._geometry)};Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"fill",{get:function(){return this._fillStyle},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"line",{get:function(){return this._lineStyle},enumerable:false,configurable:true});i.prototype.lineStyle=function(t){if(t===void 0){t=null}if(typeof t==="number"){var i=arguments;t={width:i[0]||0,color:i[1]||0,alpha:i[2]!==undefined?i[2]:1,alignment:i[3]!==undefined?i[3]:.5,native:!!i[4]}}return this.lineTextureStyle(t)};i.prototype.lineTextureStyle=function(t){if(typeof t==="number"){Qe("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var i=arguments,r=i[0],n=i[1],e=i[2],s=i[3],a=i[4],u=i[5],o=i[6];t={width:r,texture:n,color:e,alpha:s,matrix:a,alignment:u,native:o};Object.keys(t).forEach((function(i){return t[i]===undefined&&delete t[i]}))}t=Object.assign({width:0,texture:Pa.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:false,cap:Fh.BUTT,join:Nh.MITER,miterLimit:10},t);if(this.currentPath){this.startPoly()}var h=t.width>0&&t.alpha>0;if(!h){this._lineStyle.reset()}else{if(t.matrix){t.matrix=t.matrix.clone();t.matrix.invert()}Object.assign(this._lineStyle,{visible:h},t)}return this};i.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points;var i=this.currentPath.points.length;if(i>2){this.drawShape(this.currentPath);this.currentPath=new ps;this.currentPath.closeStroke=false;this.currentPath.points.push(t[i-2],t[i-1])}}else{this.currentPath=new ps;this.currentPath.closeStroke=false}};i.prototype.finishPoly=function(){if(this.currentPath){if(this.currentPath.points.length>2){this.drawShape(this.currentPath);this.currentPath=null}else{this.currentPath.points.length=0}}};i.prototype.moveTo=function(t,i){this.startPoly();this.currentPath.points[0]=t;this.currentPath.points[1]=i;return this};i.prototype.lineTo=function(t,i){if(!this.currentPath){this.moveTo(0,0)}var r=this.currentPath.points;var n=r[r.length-2];var e=r[r.length-1];if(n!==t||e!==i){r.push(t,i)}return this};i.prototype._initCurve=function(t,i){if(t===void 0){t=0}if(i===void 0){i=0}if(this.currentPath){if(this.currentPath.points.length===0){this.currentPath.points=[t,i]}}else{this.moveTo(t,i)}};i.prototype.quadraticCurveTo=function(t,i,r,n){this._initCurve();var e=this.currentPath.points;if(e.length===0){this.moveTo(0,0)}tf.curveTo(t,i,r,n,e);return this};i.prototype.bezierCurveTo=function(t,i,r,n,e,s){this._initCurve();Qh.curveTo(t,i,r,n,e,s,this.currentPath.points);return this};i.prototype.arcTo=function(t,i,r,n,e){this._initCurve(t,i);var s=this.currentPath.points;var a=Kh.curveTo(t,i,r,n,e,s);if(a){var u=a.cx,o=a.cy,h=a.radius,f=a.startAngle,l=a.endAngle,v=a.anticlockwise;this.arc(u,o,h,f,l,v)}return this};i.prototype.arc=function(t,i,r,n,e,s){if(s===void 0){s=false}if(n===e){return this}if(!s&&e<=n){e+=os}else if(s&&n<=e){n+=os}var a=e-n;if(a===0){return this}var u=t+Math.cos(n)*r;var o=i+Math.sin(n)*r;var h=this._geometry.closePointEps;var f=this.currentPath?this.currentPath.points:null;if(f){var l=Math.abs(f[f.length-2]-u);var v=Math.abs(f[f.length-1]-o);if(l<h&&v<h);else{f.push(u,o)}}else{this.moveTo(u,o);f=this.currentPath.points}Kh.arc(u,o,t,i,r,n,e,s,f);return this};i.prototype.beginFill=function(t,i){if(t===void 0){t=0}if(i===void 0){i=1}return this.beginTextureFill({texture:Pa.WHITE,color:t,alpha:i})};i.prototype.beginTextureFill=function(t){if(t instanceof Pa){Qe("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var i=arguments,r=i[0],n=i[1],e=i[2],s=i[3];t={texture:r,color:n,alpha:e,matrix:s};Object.keys(t).forEach((function(i){return t[i]===undefined&&delete t[i]}))}t=Object.assign({texture:Pa.WHITE,color:16777215,alpha:1,matrix:null},t);if(this.currentPath){this.startPoly()}var a=t.alpha>0;if(!a){this._fillStyle.reset()}else{if(t.matrix){t.matrix=t.matrix.clone();t.matrix.invert()}Object.assign(this._fillStyle,{visible:a},t)}return this};i.prototype.endFill=function(){this.finishPoly();this._fillStyle.reset();return this};i.prototype.drawRect=function(t,i,r,n){return this.drawShape(new vs(t,i,r,n))};i.prototype.drawRoundedRect=function(t,i,r,n,e){return this.drawShape(new bs(t,i,r,n,e))};i.prototype.drawCircle=function(t,i,r){return this.drawShape(new cs(t,i,r))};i.prototype.drawEllipse=function(t,i,r,n){return this.drawShape(new ds(t,i,r,n))};i.prototype.drawPolygon=function(){var t=arguments;var i=[];for(var r=0;r<arguments.length;r++){i[r]=t[r]}var n;var e=true;var s=i[0];if(s.points){e=s.closeStroke;n=s.points}else if(Array.isArray(i[0])){n=i[0]}else{n=i}var a=new ps(n);a.closeStroke=e;this.drawShape(a);return this};i.prototype.drawShape=function(t){if(!this._holeMode){this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix)}else{this._geometry.drawHole(t,this._matrix)}return this};i.prototype.drawStar=function(t,i,r,n,e,s){if(s===void 0){s=0}return this.drawPolygon(new Zh(t,i,r,n,e,s))};i.prototype.clear=function(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();this._boundsID++;this._matrix=null;this._holeMode=false;this.currentPath=null;return this};i.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ls.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)};i.prototype._render=function(t){this.finishPoly();var i=this._geometry;var r=t.context.supports.uint32Indices;i.updateBatches(r);if(i.batchable){if(this.batchDirty!==i.batchDirty){this._populateBatches()}this._renderBatched(t)}else{t.batch.flush();this._renderDirect(t)}};i.prototype._populateBatches=function(){var t=this._geometry;var i=this.blendMode;var r=t.batches.length;this.batchTint=-1;this._transformID=-1;this.batchDirty=t.batchDirty;this.batches.length=r;this.vertexData=new Float32Array(t.points);for(var n=0;n<r;n++){var e=t.batches[n];var s=e.style.color;var a=new Float32Array(this.vertexData.buffer,e.attribStart*4*2,e.attribSize*2);var u=new Float32Array(t.uvsFloat32.buffer,e.attribStart*4*2,e.attribSize*2);var o=new Uint16Array(t.indicesUint16.buffer,e.start*2,e.size);var h={vertexData:a,blendMode:i,indices:o,uvs:u,_batchRGB:Fe(s),_tintRGB:s,_texture:e.style.texture,alpha:e.style.alpha,worldAlpha:1};this.batches[n]=h}};i.prototype._renderBatched=function(t){if(!this.batches.length){return}t.batch.setObjectRenderer(t.plugins[this.pluginName]);this.calculateVertices();this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var n=this.batches[i];n.worldAlpha=this.worldAlpha*n.alpha;t.plugins[this.pluginName].render(n)}};i.prototype._renderDirect=function(t){var i=this._resolveDirectShader(t);var r=this._geometry;var n=this.tint;var e=this.worldAlpha;var s=i.uniforms;var a=r.drawCalls;s.translationMatrix=this.transform.worldTransform;s.tint[0]=(n>>16&255)/255*e;s.tint[1]=(n>>8&255)/255*e;s.tint[2]=(n&255)/255*e;s.tint[3]=e;t.shader.bind(i);t.geometry.bind(r,i);t.state.set(this.state);for(var u=0,o=a.length;u<o;u++){this._renderDrawCallDirect(t,r.drawCalls[u])}};i.prototype._renderDrawCallDirect=function(t,i){var r=i.texArray,n=i.type,e=i.size,s=i.start;var a=r.count;for(var u=0;u<a;u++){t.texture.bind(r.elements[u],u)}t.geometry.draw(n,e,s)};i.prototype._resolveDirectShader=function(t){var i=this.shader;var r=this.pluginName;if(!i){if(!cf[r]){var n=t.plugins.batch.MAX_TEXTURES;var e=new Int32Array(n);for(var s=0;s<n;s++){e[s]=s}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ys,default:Ja.from({uSamplers:e},true)};var u=t.plugins[r]._shader.program;cf[r]=new ku(u,a)}i=cf[r]}return i};i.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(!t.graphicsData.length){return}var i=t.bounds,r=i.minX,n=i.minY,e=i.maxX,s=i.maxY;this._bounds.addFrame(this.transform,r,n,e,s)};i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,i._TEMP_POINT);return this._geometry.containsPoint(i._TEMP_POINT)};i.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;var t=Fe(this.tint,vf);for(var i=0;i<this.batches.length;i++){var r=this.batches[i];var n=r._batchRGB;var e=t[0]*n[0]*255;var s=t[1]*n[1]*255;var a=t[2]*n[2]*255;var u=(e<<16)+(s<<8)+(a|0);r._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}};i.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID===t){return}this._transformID=t;var i=this.transform.worldTransform;var r=i.a;var n=i.b;var e=i.c;var s=i.d;var a=i.tx;var u=i.ty;var o=this._geometry.points;var h=this.vertexData;var f=0;for(var l=0;l<o.length;l+=2){var v=o[l];var c=o[l+1];h[f++]=r*v+e*c+a;h[f++]=s*c+n*v+u}};i.prototype.closePath=function(){var t=this.currentPath;if(t){t.closeStroke=true}return this};i.prototype.setMatrix=function(t){this._matrix=t;return this};i.prototype.beginHole=function(){this.finishPoly();this._holeMode=true;return this};i.prototype.endHole=function(){this.finishPoly();this._holeMode=false;return this};i.prototype.destroy=function(i){this._geometry.refCount--;if(this._geometry.refCount===0){this._geometry.dispose()}this._matrix=null;this.currentPath=null;this._lineStyle.destroy();this._lineStyle=null;this._fillStyle.destroy();this._fillStyle=null;this._geometry=null;this.shader=null;this.vertexData=null;this.batches.length=0;this.batches=null;t.prototype.destroy.call(this,i)};i._TEMP_POINT=new ms;return i}(Ds);
/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pf=function(t,i){pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return pf(t,i)};function bf(t,i){pf(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var mf=new ms;var gf=new Uint16Array([0,1,2,0,2,3]);var yf=function(t){bf(i,t);function i(i){var r=t.call(this)||this;r._anchor=new gs(r._onAnchorUpdate,r,i?i.defaultAnchor.x:0,i?i.defaultAnchor.y:0);r._texture=null;r._width=0;r._height=0;r._tint=null;r._tintRGB=null;r.tint=16777215;r.blendMode=be.NORMAL;r._cachedTint=16777215;r.uvs=null;r.texture=i||Pa.EMPTY;r.vertexData=new Float32Array(8);r.vertexTrimmedData=null;r._transformID=-1;r._textureID=-1;r._transformTrimmedID=-1;r._textureTrimmedID=-1;r.indices=gf;r.pluginName="batch";r.isSprite=true;r._roundPixels=Y.ROUND_PIXELS;return r}i.prototype._onTextureUpdate=function(){this._textureID=-1;this._textureTrimmedID=-1;this._cachedTint=16777215;if(this._width){this.scale.x=$e(this.scale.x)*this._width/this._texture.orig.width}if(this._height){this.scale.y=$e(this.scale.y)*this._height/this._texture.orig.height}};i.prototype._onAnchorUpdate=function(){this._transformID=-1;this._transformTrimmedID=-1};i.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID){return}if(this._textureID!==t._updateID){this.uvs=this._texture._uvs.uvsFloat32}this._transformID=this.transform._worldID;this._textureID=t._updateID;var i=this.transform.worldTransform;var r=i.a;var n=i.b;var e=i.c;var s=i.d;var a=i.tx;var u=i.ty;var o=this.vertexData;var h=t.trim;var f=t.orig;var l=this._anchor;var v=0;var c=0;var d=0;var p=0;if(h){c=h.x-l._x*f.width;v=c+h.width;p=h.y-l._y*f.height;d=p+h.height}else{c=-l._x*f.width;v=c+f.width;p=-l._y*f.height;d=p+f.height}o[0]=r*c+e*p+a;o[1]=s*p+n*c+u;o[2]=r*v+e*p+a;o[3]=s*p+n*v+u;o[4]=r*v+e*d+a;o[5]=s*d+n*v+u;o[6]=r*c+e*d+a;o[7]=s*d+n*c+u;if(this._roundPixels){var b=Y.RESOLUTION;for(var m=0;m<o.length;++m){o[m]=Math.round((o[m]*b|0)/b)}}};i.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData){this.vertexTrimmedData=new Float32Array(8)}else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID){return}this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var t=this._texture;var i=this.vertexTrimmedData;var r=t.orig;var n=this._anchor;var e=this.transform.worldTransform;var s=e.a;var a=e.b;var u=e.c;var o=e.d;var h=e.tx;var f=e.ty;var l=-n._x*r.width;var v=l+r.width;var c=-n._y*r.height;var d=c+r.height;i[0]=s*l+u*c+h;i[1]=o*c+a*l+f;i[2]=s*v+u*c+h;i[3]=o*c+a*v+f;i[4]=s*v+u*d+h;i[5]=o*d+a*v+f;i[6]=s*l+u*d+h;i[7]=o*d+a*l+f};i.prototype._render=function(t){this.calculateVertices();t.batch.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};i.prototype._calculateBounds=function(){var t=this._texture.trim;var i=this._texture.orig;if(!t||t.width===i.width&&t.height===i.height){this.calculateVertices();this._bounds.addQuad(this.vertexData)}else{this.calculateTrimmedVertices();this._bounds.addQuad(this.vertexTrimmedData)}};i.prototype.getLocalBounds=function(i){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y);if(!i){if(!this._localBoundsRect){this._localBoundsRect=new vs}i=this._localBoundsRect}return this._bounds.getRectangle(i)}return t.prototype.getLocalBounds.call(this,i)};i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,mf);var i=this._texture.orig.width;var r=this._texture.orig.height;var n=-i*this.anchor.x;var e=0;if(mf.x>=n&&mf.x<n+i){e=-r*this.anchor.y;if(mf.y>=e&&mf.y<e+r){return true}}return false};i.prototype.destroy=function(i){t.prototype.destroy.call(this,i);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;var r=typeof i==="boolean"?i:i&&i.texture;if(r){var n=typeof i==="boolean"?i:i&&i.baseTexture;this._texture.destroy(!!n)}this._texture=null};i.from=function(t,r){var n=t instanceof Pa?t:Pa.from(t,r);return new i(n)};Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){if(this._roundPixels!==t){this._transformID=-1}this._roundPixels=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var i=$e(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width;this._width=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var i=$e(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height;this._height=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t;this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(t){if(this._texture===t){return}if(this._texture){this._texture.off("update",this._onTextureUpdate,this)}this._texture=t||Pa.EMPTY;this._cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;if(t){if(t.baseTexture.valid){this._onTextureUpdate()}else{t.once("update",this._onTextureUpdate,this)}}},enumerable:false,configurable:true});return i}(Ds);
/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wf=function(t,i){wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return wf(t,i)};function Af(t,i){wf(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Of;(function(t){t[t["LINEAR_VERTICAL"]=0]="LINEAR_VERTICAL";t[t["LINEAR_HORIZONTAL"]=1]="LINEAR_HORIZONTAL"})(Of||(Of={}));var xf={align:"left",breakWords:false,dropShadow:false,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Of.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:false,whiteSpace:"pre",wordWrap:false,wordWrapWidth:100,leading:0};var Ef=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];var Mf=function(){function t(t){this.styleID=0;this.reset();Sf(this,t,t)}t.prototype.clone=function(){var i={};Sf(i,this,xf);return new t(i)};t.prototype.reset=function(){Sf(this,xf,xf)};Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){if(this._align!==t){this._align=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){if(this._breakWords!==t){this._breakWords=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){if(this._dropShadow!==t){this._dropShadow=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){if(this._dropShadowAlpha!==t){this._dropShadowAlpha=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){if(this._dropShadowAngle!==t){this._dropShadowAngle=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){if(this._dropShadowBlur!==t){this._dropShadowBlur=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var i=jf(t);if(this._dropShadowColor!==i){this._dropShadowColor=i;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){if(this._dropShadowDistance!==t){this._dropShadowDistance=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var i=jf(t);if(this._fill!==i){this._fill=i;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){if(this._fillGradientType!==t){this._fillGradientType=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){if(!Tf(this._fillGradientStops,t)){this._fillGradientStops=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){if(this.fontFamily!==t){this._fontFamily=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){if(this._fontSize!==t){this._fontSize=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){if(this._fontStyle!==t){this._fontStyle=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){if(this._fontVariant!==t){this._fontVariant=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){if(this._fontWeight!==t){this._fontWeight=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){if(this._letterSpacing!==t){this._letterSpacing=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){if(this._lineHeight!==t){this._lineHeight=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){if(this._leading!==t){this._leading=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){if(this._lineJoin!==t){this._lineJoin=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){if(this._miterLimit!==t){this._miterLimit=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){if(this._padding!==t){this._padding=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var i=jf(t);if(this._stroke!==i){this._stroke=i;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){if(this._strokeThickness!==t){this._strokeThickness=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){if(this._textBaseline!==t){this._textBaseline=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){if(this._trim!==t){this._trim=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){if(this._whiteSpace!==t){this._whiteSpace=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){if(this._wordWrap!==t){this._wordWrap=t;this.styleID++}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){if(this._wordWrapWidth!==t){this._wordWrapWidth=t;this.styleID++}},enumerable:false,configurable:true});t.prototype.toFontString=function(){var t=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize;var i=this.fontFamily;if(!Array.isArray(this.fontFamily)){i=this.fontFamily.split(",")}for(var r=i.length-1;r>=0;r--){var n=i[r].trim();if(!/([\"\'])[^\'\"]+\1/.test(n)&&Ef.indexOf(n)<0){n='"'+n+'"'}i[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+i.join(",")};return t}();function _f(t){if(typeof t==="number"){return De(t)}else if(typeof t==="string"){if(t.indexOf("0x")===0){t=t.replace("0x","#")}}return t}function jf(t){if(!Array.isArray(t)){return _f(t)}else{for(var i=0;i<t.length;++i){t[i]=_f(t[i])}return t}}function Tf(t,i){if(!Array.isArray(t)||!Array.isArray(i)){return false}if(t.length!==i.length){return false}for(var r=0;r<t.length;++r){if(t[r]!==i[r]){return false}}return true}function Sf(t,i,r){for(var n in r){if(Array.isArray(i[n])){t[n]=i[n].slice()}else{t[n]=i[n]}}}var If=function(){function t(t,i,r,n,e,s,a,u,o){this.text=t;this.style=i;this.width=r;this.height=n;this.lines=e;this.lineWidths=s;this.lineHeight=a;this.maxLineWidth=u;this.fontProperties=o}t.measureText=function(i,r,n,e){if(e===void 0){e=t._canvas}n=n===undefined||n===null?r.wordWrap:n;var s=r.toFontString();var a=t.measureFont(s);if(a.fontSize===0){a.fontSize=r.fontSize;a.ascent=r.fontSize}var u=e.getContext("2d");u.font=s;var o=n?t.wordWrap(i,r,e):i;var h=o.split(/(?:\r\n|\r|\n)/);var f=new Array(h.length);var l=0;for(var v=0;v<h.length;v++){var c=u.measureText(h[v]).width+(h[v].length-1)*r.letterSpacing;f[v]=c;l=Math.max(l,c)}var d=l+r.strokeThickness;if(r.dropShadow){d+=r.dropShadowDistance}var p=r.lineHeight||a.fontSize+r.strokeThickness;var b=Math.max(p,a.fontSize+r.strokeThickness)+(h.length-1)*(p+r.leading);if(r.dropShadow){b+=r.dropShadowDistance}return new t(i,r,d,b,h,f,p+r.leading,l,a)};t.wordWrap=function(i,r,n){if(n===void 0){n=t._canvas}var e=n.getContext("2d");var s=0;var a="";var u="";var o=Object.create(null);var h=r.letterSpacing,f=r.whiteSpace;var l=t.collapseSpaces(f);var v=t.collapseNewlines(f);var c=!l;var d=r.wordWrapWidth+h;var p=t.tokenize(i);for(var b=0;b<p.length;b++){var m=p[b];if(t.isNewline(m)){if(!v){u+=t.addLine(a);c=!l;a="";s=0;continue}m=" "}if(l){var g=t.isBreakingSpace(m);var y=t.isBreakingSpace(a[a.length-1]);if(g&&y){continue}}var w=t.getFromCache(m,h,o,e);if(w>d){if(a!==""){u+=t.addLine(a);a="";s=0}if(t.canBreakWords(m,r.breakWords)){var A=t.wordWrapSplit(m);for(var O=0;O<A.length;O++){var x=A[O];var E=1;while(A[O+E]){var M=A[O+E];var _=x[x.length-1];if(!t.canBreakChars(_,M,m,O,r.breakWords)){x+=M}else{break}E++}O+=x.length-1;var j=t.getFromCache(x,h,o,e);if(j+s>d){u+=t.addLine(a);c=false;a="";s=0}a+=x;s+=j}}else{if(a.length>0){u+=t.addLine(a);a="";s=0}var T=b===p.length-1;u+=t.addLine(m,!T);c=false;a="";s=0}}else{if(w+s>d){c=false;u+=t.addLine(a);a="";s=0}if(a.length>0||!t.isBreakingSpace(m)||c){a+=m;s+=w}}}u+=t.addLine(a,false);return u};t.addLine=function(i,r){if(r===void 0){r=true}i=t.trimRight(i);i=r?i+"\n":i;return i};t.getFromCache=function(t,i,r,n){var e=r[t];if(typeof e!=="number"){var s=t.length*i;e=n.measureText(t).width+s;r[t]=e}return e};t.collapseSpaces=function(t){return t==="normal"||t==="pre-line"};t.collapseNewlines=function(t){return t==="normal"};t.trimRight=function(i){if(typeof i!=="string"){return""}for(var r=i.length-1;r>=0;r--){var n=i[r];if(!t.isBreakingSpace(n)){break}i=i.slice(0,-1)}return i};t.isNewline=function(i){if(typeof i!=="string"){return false}return t._newlines.indexOf(i.charCodeAt(0))>=0};t.isBreakingSpace=function(i){if(typeof i!=="string"){return false}return t._breakingSpaces.indexOf(i.charCodeAt(0))>=0};t.tokenize=function(i){var r=[];var n="";if(typeof i!=="string"){return r}for(var e=0;e<i.length;e++){var s=i[e];if(t.isBreakingSpace(s)||t.isNewline(s)){if(n!==""){r.push(n);n=""}r.push(s);continue}n+=s}if(n!==""){r.push(n)}return r};t.canBreakWords=function(t,i){return i};t.canBreakChars=function(t,i,r,n,e){return true};t.wordWrapSplit=function(t){return t.split("")};t.measureFont=function(i){if(t._fonts[i]){return t._fonts[i]}var r={ascent:0,descent:0,fontSize:0};var n=t._canvas;var e=t._context;e.font=i;var s=t.METRICS_STRING+t.BASELINE_SYMBOL;var a=Math.ceil(e.measureText(s).width);var u=Math.ceil(e.measureText(t.BASELINE_SYMBOL).width);var o=2*u;u=u*t.BASELINE_MULTIPLIER|0;n.width=a;n.height=o;e.fillStyle="#f00";e.fillRect(0,0,a,o);e.font=i;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(s,0,u);var h=e.getImageData(0,0,a,o).data;var f=h.length;var l=a*4;var v=0;var c=0;var d=false;for(v=0;v<u;++v){for(var p=0;p<l;p+=4){if(h[c+p]!==255){d=true;break}}if(!d){c+=l}else{break}}r.ascent=u-v;c=f-l;d=false;for(v=o;v>u;--v){for(var p=0;p<l;p+=4){if(h[c+p]!==255){d=true;break}}if(!d){c-=l}else{break}}r.descent=v-u;r.fontSize=r.ascent+r.descent;t._fonts[i]=r;return r};t.clearMetrics=function(i){if(i===void 0){i=""}if(i){delete t._fonts[i]}else{t._fonts={}}};return t}();var Cf=function(){try{var t=new OffscreenCanvas(0,0);var i=t.getContext("2d");if(i&&i.measureText){return t}return document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Cf.width=Cf.height=10;If._canvas=Cf;If._context=Cf.getContext("2d");If._fonts={};If.METRICS_STRING="|q";If.BASELINE_SYMBOL="M";If.BASELINE_MULTIPLIER=1.4;If._newlines=[10,13];If._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Pf={texture:true,children:false,baseTexture:true};var Rf=function(t){Af(i,t);function i(i,r,n){var e=this;var s=false;if(!n){n=document.createElement("canvas");s=true}n.width=3;n.height=3;var a=Pa.from(n);a.orig=new vs;a.trim=new vs;e=t.call(this,a)||this;e._ownCanvas=s;e.canvas=n;e.context=e.canvas.getContext("2d");e._resolution=Y.RESOLUTION;e._autoResolution=true;e._text=null;e._style=null;e._styleListener=null;e._font="";e.text=i;e.style=r;e.localStyleID=-1;return e}i.prototype.updateText=function(t){var i=this._style;if(this.localStyleID!==i.styleID){this.dirty=true;this.localStyleID=i.styleID}if(!this.dirty&&t){return}this._font=this._style.toFontString();var r=this.context;var n=If.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas);var e=n.width;var s=n.height;var a=n.lines;var u=n.lineHeight;var o=n.lineWidths;var h=n.maxLineWidth;var f=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,e)+i.padding*2)*this._resolution);this.canvas.height=Math.ceil((Math.max(1,s)+i.padding*2)*this._resolution);r.scale(this._resolution,this._resolution);r.clearRect(0,0,this.canvas.width,this.canvas.height);r.font=this._font;r.lineWidth=i.strokeThickness;r.textBaseline=i.textBaseline;r.lineJoin=i.lineJoin;r.miterLimit=i.miterLimit;var l;var v;var c=i.dropShadow?2:1;for(var d=0;d<c;++d){var p=i.dropShadow&&d===0;var b=p?Math.ceil(Math.max(1,s)+i.padding*2):0;var m=b*this._resolution;if(p){r.fillStyle="black";r.strokeStyle="black";var g=i.dropShadowColor;var y=Fe(typeof g==="number"?g:Le(g));var w=i.dropShadowBlur*this._resolution;var A=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+y[0]*255+","+y[1]*255+","+y[2]*255+","+i.dropShadowAlpha+")";r.shadowBlur=w;r.shadowOffsetX=Math.cos(i.dropShadowAngle)*A;r.shadowOffsetY=Math.sin(i.dropShadowAngle)*A+m}else{r.fillStyle=this._generateFillStyle(i,a,n);r.strokeStyle=i.stroke;r.shadowColor="black";r.shadowBlur=0;r.shadowOffsetX=0;r.shadowOffsetY=0}for(var O=0;O<a.length;O++){l=i.strokeThickness/2;v=i.strokeThickness/2+O*u+f.ascent;if(i.align==="right"){l+=h-o[O]}else if(i.align==="center"){l+=(h-o[O])/2}if(i.stroke&&i.strokeThickness){this.drawLetterSpacing(a[O],l+i.padding,v+i.padding-b,true)}if(i.fill){this.drawLetterSpacing(a[O],l+i.padding,v+i.padding-b)}}}this.updateTexture()};i.prototype.drawLetterSpacing=function(t,i,r,n){if(n===void 0){n=false}var e=this._style;var s=e.letterSpacing;if(s===0){if(n){this.context.strokeText(t,i,r)}else{this.context.fillText(t,i,r)}return}var a=i;var u=Array.from?Array.from(t):t.split("");var o=this.context.measureText(t).width;var h=0;for(var f=0;f<u.length;++f){var l=u[f];if(n){this.context.strokeText(l,a,r)}else{this.context.fillText(l,a,r)}h=this.context.measureText(t.substring(f+1)).width;a+=o-h+s;o=h}};i.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var i=es(t);if(i.data){t.width=i.width;t.height=i.height;this.context.putImageData(i.data,0,0)}}var r=this._texture;var n=this._style;var e=n.trim?0:n.padding;var s=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution);r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution);r.trim.x=-e;r.trim.y=-e;r.orig.width=r._frame.width-e*2;r.orig.height=r._frame.height-e*2;this._onTextureUpdate();s.setRealSize(t.width,t.height,this._resolution);this._recursivePostUpdateTransform();this.dirty=false};i.prototype._render=function(i){if(this._autoResolution&&this._resolution!==i.resolution){this._resolution=i.resolution;this.dirty=true}this.updateText(true);t.prototype._render.call(this,i)};i.prototype.getLocalBounds=function(i){this.updateText(true);return t.prototype.getLocalBounds.call(this,i)};i.prototype._calculateBounds=function(){this.updateText(true);this.calculateVertices();this._bounds.addQuad(this.vertexData)};i.prototype._generateFillStyle=function(t,i,r){var n=t.fill;if(!Array.isArray(n)){return n}else if(n.length===1){return n[0]}var e;var s=t.dropShadow?t.dropShadowDistance:0;var a=t.padding||0;var u=Math.ceil(this.canvas.width/this._resolution)-s-a*2;var o=Math.ceil(this.canvas.height/this._resolution)-s-a*2;var h=n.slice();var f=t.fillGradientStops.slice();if(!f.length){var l=h.length+1;for(var v=1;v<l;++v){f.push(v/l)}}h.unshift(n[0]);f.unshift(0);h.push(n[n.length-1]);f.push(1);if(t.fillGradientType===Of.LINEAR_VERTICAL){e=this.context.createLinearGradient(u/2,a,u/2,o+a);var c=0;var d=r.fontProperties.fontSize+t.strokeThickness;var p=d/o;for(var v=0;v<i.length;v++){var b=r.lineHeight*v;for(var m=0;m<h.length;m++){var g=0;if(typeof f[m]==="number"){g=f[m]}else{g=m/h.length}var y=b/o+g*p;var w=Math.max(c,y);w=Math.min(w,1);e.addColorStop(w,h[m]);c=w}}}else{e=this.context.createLinearGradient(a,o/2,u+a,o/2);var A=h.length+1;var O=1;for(var v=0;v<h.length;v++){var x=void 0;if(typeof f[v]==="number"){x=f[v]}else{x=O/A}e.addColorStop(x,h[v]);O++}}return e};i.prototype.destroy=function(i){if(typeof i==="boolean"){i={children:i}}i=Object.assign({},Pf,i);t.prototype.destroy.call(this,i);if(this._ownCanvas){this.canvas.height=this.canvas.width=0}this.context=null;this.canvas=null;this._style=null};Object.defineProperty(i.prototype,"width",{get:function(){this.updateText(true);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(true);var i=$e(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width;this._width=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){this.updateText(true);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(true);var i=$e(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height;this._height=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{};if(t instanceof Mf){this._style=t}else{this._style=new Mf(t)}this.localStyleID=-1;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t===null||t===undefined?"":t);if(this._text===t){return}this._text=t;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=false;if(this._resolution===t){return}this._resolution=t;this.dirty=true},enumerable:false,configurable:true});return i}(yf);
/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Y.UPLOADS_PER_FRAME=4;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Nf=function(t,i){Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Nf(t,i)};function Ff(t,i){Nf(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Df=function(){function t(t){this.maxItemsPerFrame=t;this.itemsLeft=0}t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};return t}();function Lf(t,i){var r=false;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++){if(t._textures[n]instanceof Pa){var e=t._textures[n].baseTexture;if(i.indexOf(e)===-1){i.push(e);r=true}}}}return r}function Uf(t,i){if(t.baseTexture instanceof ba){var r=t.baseTexture;if(i.indexOf(r)===-1){i.push(r)}return true}return false}function kf(t,i){if(t._texture&&t._texture instanceof Pa){var r=t._texture.baseTexture;if(i.indexOf(r)===-1){i.push(r)}return true}return false}function Bf(t,i){if(i instanceof Rf){i.updateText(true);return true}return false}function Vf(t,i){if(i instanceof Mf){var r=i.toFontString();If.measureFont(r);return true}return false}function Wf(t,i){if(t instanceof Rf){if(i.indexOf(t.style)===-1){i.push(t.style)}if(i.indexOf(t)===-1){i.push(t)}var r=t._texture.baseTexture;if(i.indexOf(r)===-1){i.push(r)}return true}return false}function Gf(t,i){if(t instanceof Mf){if(i.indexOf(t)===-1){i.push(t)}return true}return false}var zf=function(){function t(t){var i=this;this.limiter=new Df(Y.UPLOADS_PER_FRAME);this.renderer=t;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=false;this.delayedTick=function(){if(!i.queue){return}i.prepareItems()};this.registerFindHook(Wf);this.registerFindHook(Gf);this.registerFindHook(Lf);this.registerFindHook(Uf);this.registerFindHook(kf);this.registerUploadHook(Bf);this.registerUploadHook(Vf)}t.prototype.upload=function(t,i){if(typeof t==="function"){i=t;t=null}if(t){this.add(t)}if(this.queue.length){if(i){this.completes.push(i)}if(!this.ticking){this.ticking=true;Js.system.addOnce(this.tick,this,qs.UTILITY)}}else if(i){i()}};t.prototype.tick=function(){setTimeout(this.delayedTick,0)};t.prototype.prepareItems=function(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var t=this.queue[0];var i=false;if(t&&!t._destroyed){for(var r=0,n=this.uploadHooks.length;r<n;r++){if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift();i=true;break}}}if(!i){this.queue.shift()}}if(!this.queue.length){this.ticking=false;var e=this.completes.slice(0);this.completes.length=0;for(var r=0,n=e.length;r<n;r++){e[r]()}}else{Js.system.addOnce(this.tick,this,qs.UTILITY)}};t.prototype.registerFindHook=function(t){if(t){this.addHooks.push(t)}return this};t.prototype.registerUploadHook=function(t){if(t){this.uploadHooks.push(t)}return this};t.prototype.add=function(t){for(var i=0,r=this.addHooks.length;i<r;i++){if(this.addHooks[i](t,this.queue)){break}}if(t instanceof Ds){for(var i=t.children.length-1;i>=0;i--){this.add(t.children[i])}}return this};t.prototype.destroy=function(){if(this.ticking){Js.system.remove(this.tick,this)}this.ticking=false;this.addHooks=null;this.uploadHooks=null;this.renderer=null;this.completes=null;this.queue=null;this.limiter=null;this.uploadHookHelper=null};return t}();function Hf(t,i){if(i instanceof ba){if(!i._glTextures[t.CONTEXT_UID]){t.texture.bind(i)}return true}return false}function Xf(t,i){if(!(i instanceof df)){return false}var r=i.geometry;i.finishPoly();r.updateBatches();var n=r.batches;for(var e=0;e<n.length;e++){var s=n[e].style.texture;if(s){Hf(t,s.baseTexture)}}if(!r.batchable){t.geometry.bind(r,i._resolveDirectShader(t))}return true}function Yf(t,i){if(t instanceof df){i.push(t);return true}return false}var qf=function(t){Ff(i,t);function i(i){var r=t.call(this,i)||this;r.uploadHookHelper=r.renderer;r.registerFindHook(Yf);r.registerUploadHook(Hf);r.registerUploadHook(Xf);return r}return i}(zf);
/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $f=function(){function t(t,i,r){if(r===void 0){r=null}this._texture=t instanceof Pa?t:null;this.baseTexture=t instanceof ba?t:this._texture.baseTexture;this.textures={};this.animations={};this.data=i;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null));this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}t.prototype._updateResolution=function(t){if(t===void 0){t=null}var i=this.data.meta.scale;var r=us(t,null);if(r===null){r=i!==undefined?parseFloat(i):1}if(r!==1){this.baseTexture.setResolution(r)}return r};t.prototype.parse=function(i){this._batchIndex=0;this._callback=i;if(this._frameKeys.length<=t.BATCH_SIZE){this._processFrames(0);this._processAnimations();this._parseComplete()}else{this._nextBatch()}};t.prototype._processFrames=function(i){var r=i;var n=t.BATCH_SIZE;while(r-i<n&&r<this._frameKeys.length){var e=this._frameKeys[r];var s=this._frames[e];var a=s.frame;if(a){var u=null;var o=null;var h=s.trimmed!==false&&s.sourceSize?s.sourceSize:s.frame;var f=new vs(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);if(s.rotated){u=new vs(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution)}else{u=new vs(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)}if(s.trimmed!==false&&s.spriteSourceSize){o=new vs(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)}this.textures[e]=new Pa(this.baseTexture,u,f,o,s.rotated?2:0,s.anchor);Pa.addToCache(this.textures[e],e)}r++}};t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var i in t){this.animations[i]=[];for(var r=0;r<t[i].length;r++){var n=t[i][r];this.animations[i].push(this.textures[n])}}};t.prototype._parseComplete=function(){var t=this._callback;this._callback=null;this._batchIndex=0;t.call(this,this.textures)};t.prototype._nextBatch=function(){var i=this;this._processFrames(this._batchIndex*t.BATCH_SIZE);this._batchIndex++;setTimeout((function(){if(i._batchIndex*t.BATCH_SIZE<i._frameKeys.length){i._nextBatch()}else{i._processAnimations();i._parseComplete()}}),0)};t.prototype.destroy=function(t){var i;if(t===void 0){t=false}for(var r in this.textures){this.textures[r].destroy()}this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;if(t){(i=this._texture)===null||i===void 0?void 0:i.destroy();this.baseTexture.destroy()}this._texture=null;this.baseTexture=null};t.BATCH_SIZE=1e3;return t}();var Jf=function(){function t(){}t.use=function(i,r){var n=this;var e=i.name+"_image";if(!i.data||i.type!==Oh.TYPE.JSON||!i.data.frames||n.resources[e]){r();return}var s={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i};var a=t.getResourcePath(i,n.baseUrl);n.add(e,a,s,(function t(n){if(n.error){r(n.error);return}var e=new $f(n.texture,i.data,i.url);e.parse((function(){i.spritesheet=e;i.textures=e.textures;r()}))}))};t.getResourcePath=function(t,i){if(t.isDataUrl){return t.data.meta.image}return ve.resolve(t.url.replace(i,""),t.data.meta.image)};return t}();
/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zf=function(t,i){Zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Zf(t,i)};function Kf(t,i){Zf(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Qf=new ms;(function(t){Kf(i,t);function i(i,r,n){if(r===void 0){r=100}if(n===void 0){n=100}var e=t.call(this,i)||this;e.tileTransform=new Ss;e._width=r;e._height=n;e.uvMatrix=e.texture.uvMatrix||new Ku(i);e.pluginName="tilingSprite";e.uvRespectAnchor=false;return e}Object.defineProperty(i.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t;this.uvMatrix.update(true)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:false,configurable:true});i.prototype._onTextureUpdate=function(){if(this.uvMatrix){this.uvMatrix.texture=this._texture}this._cachedTint=16777215};i.prototype._render=function(t){var i=this._texture;if(!i||!i.valid){return}this.tileTransform.updateLocalTransform();this.uvMatrix.update();t.batch.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};i.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x;var i=this._height*-this._anchor._y;var r=this._width*(1-this._anchor._x);var n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,i,r,n)};i.prototype.getLocalBounds=function(i){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._y);if(!i){if(!this._localBoundsRect){this._localBoundsRect=new vs}i=this._localBoundsRect}return this._bounds.getRectangle(i)}return t.prototype.getLocalBounds.call(this,i)};i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Qf);var i=this._width;var r=this._height;var n=-i*this.anchor._x;if(Qf.x>=n&&Qf.x<n+i){var e=-r*this.anchor._y;if(Qf.y>=e&&Qf.y<e+r){return true}}return false};i.prototype.destroy=function(i){t.prototype.destroy.call(this,i);this.tileTransform=null;this.uvMatrix=null};i.from=function(t,r){if(typeof r==="number"){Qe("5.3.0","TilingSprite.from use options instead of width and height args");r={width:r,height:arguments[2]}}return new i(Pa.from(t,r),r.width,r.height)};Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:false,configurable:true});return i})(yf);var tl="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";var il="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n";var rl="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";var nl=new ys;var el=function(t){Kf(i,t);function i(i){var r=t.call(this,i)||this;var n={globals:r.renderer.globalUniforms};r.shader=ku.from(tl,il,n);r.simpleShader=ku.from(tl,rl,n);r.quad=new qa;r.state=Hu.for2d();return r}i.prototype.render=function(t){var i=this.renderer;var r=this.quad;var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x;n[1]=n[3]=t._height*-t.anchor.y;n[2]=n[4]=t._width*(1-t.anchor.x);n[5]=n[7]=t._height*(1-t.anchor.y);if(t.uvRespectAnchor){n=r.uvs;n[0]=n[6]=-t.anchor.x;n[1]=n[3]=-t.anchor.y;n[2]=n[4]=1-t.anchor.x;n[5]=n[7]=1-t.anchor.y}r.invalidate();var e=t._texture;var s=e.baseTexture;var a=t.tileTransform.localTransform;var u=t.uvMatrix;var o=s.isPowerOfTwo&&e.frame.width===s.width&&e.frame.height===s.height;if(o){if(!s._glTextures[i.CONTEXT_UID]){if(s.wrapMode===Oe.CLAMP){s.wrapMode=Oe.REPEAT}}else{o=s.wrapMode!==Oe.CLAMP}}var h=o?this.simpleShader:this.shader;var f=e.width;var l=e.height;var v=t._width;var c=t._height;nl.set(a.a*f/v,a.b*f/c,a.c*l/v,a.d*l/c,a.tx/v,a.ty/c);nl.invert();if(o){nl.prepend(u.mapCoord)}else{h.uniforms.uMapCoord=u.mapCoord.toArray(true);h.uniforms.uClampFrame=u.uClampFrame;h.uniforms.uClampOffset=u.uClampOffset}h.uniforms.uTransform=nl.toArray(true);h.uniforms.uColor=Ge(t.tint,t.worldAlpha,h.uniforms.uColor,s.alphaMode);h.uniforms.translationMatrix=t.transform.worldTransform.toArray(true);h.uniforms.uSampler=e;i.shader.bind(h);i.geometry.bind(r);this.state.blendMode=Be(t.blendMode,s.alphaMode);i.state.set(this.state);i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)};return i}(Qa);
/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sl=function(t,i){sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return sl(t,i)};function al(t,i){sl(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var ul=function(){function t(t,i){this.uvBuffer=t;this.uvMatrix=i;this.data=null;this._bufferUpdateId=-1;this._textureUpdateId=-1;this._updateID=0}t.prototype.update=function(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID){return}this._bufferUpdateId=this.uvBuffer._updateID;this._textureUpdateId=this.uvMatrix._updateID;var i=this.uvBuffer.data;if(!this.data||this.data.length!==i.length){this.data=new Float32Array(i.length)}this.uvMatrix.multiplyUvs(i,this.data);this._updateID++};return t}();var ol=new ms;var hl=new ps;var fl=function(t){al(i,t);function i(i,r,n,e){if(e===void 0){e=me.TRIANGLES}var s=t.call(this)||this;s.geometry=i;i.refCount++;s.shader=r;s.state=n||Hu.for2d();s.drawMode=e;s.start=0;s.size=0;s.uvs=null;s.indices=null;s.vertexData=new Float32Array(1);s.vertexDirty=0;s._transformID=-1;s._roundPixels=Y.ROUND_PIXELS;s.batchUvs=null;return s}Object.defineProperty(i.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){if(this._roundPixels!==t){this._transformID=-1}this._roundPixels=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:false,configurable:true});i.prototype._render=function(t){var r=this.geometry.buffers[0].data;if(this.shader.batchable&&this.drawMode===me.TRIANGLES&&r.length<i.BATCHABLE_SIZE*2){this._renderToBatch(t)}else{this._renderDefault(t)}};i.prototype._renderDefault=function(t){var i=this.shader;i.alpha=this.worldAlpha;if(i.update){i.update()}t.batch.flush();if(i.program.uniformData.translationMatrix){i.uniforms.translationMatrix=this.transform.worldTransform.toArray(true)}t.shader.bind(i);t.state.set(this.state);t.geometry.bind(this.geometry,i);t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)};i.prototype._renderToBatch=function(t){var i=this.geometry;if(this.shader.uvMatrix){this.shader.uvMatrix.update();this.calculateUvs()}this.calculateVertices();this.indices=i.indexBuffer.data;this._tintRGB=this.shader._tintRGB;this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]);t.plugins[r].render(this)};i.prototype.calculateVertices=function(){var t=this.geometry;var i=t.buffers[0].data;if(t.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID){return}this._transformID=this.transform._worldID;if(this.vertexData.length!==i.length){this.vertexData=new Float32Array(i.length)}var r=this.transform.worldTransform;var n=r.a;var e=r.b;var s=r.c;var a=r.d;var u=r.tx;var o=r.ty;var h=this.vertexData;for(var f=0;f<h.length/2;f++){var l=i[f*2];var v=i[f*2+1];h[f*2]=n*l+s*v+u;h[f*2+1]=e*l+a*v+o}if(this._roundPixels){var c=Y.RESOLUTION;for(var f=0;f<h.length;++f){h[f]=Math.round((h[f]*c|0)/c)}}this.vertexDirty=t.vertexDirtyId};i.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];if(!this.shader.uvMatrix.isSimple){if(!this.batchUvs){this.batchUvs=new ul(t,this.shader.uvMatrix)}this.batchUvs.update();this.uvs=this.batchUvs.data}else{this.uvs=t.data}};i.prototype._calculateBounds=function(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)};i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y)){return false}this.worldTransform.applyInverse(t,ol);var i=this.geometry.getBuffer("aVertexPosition").data;var r=hl.points;var n=this.geometry.getIndex().data;var e=n.length;var s=this.drawMode===4?3:1;for(var a=0;a+2<e;a+=s){var u=n[a]*2;var o=n[a+1]*2;var h=n[a+2]*2;r[0]=i[u];r[1]=i[u+1];r[2]=i[o];r[3]=i[o+1];r[4]=i[h];r[5]=i[h+1];if(hl.contains(ol.x,ol.y)){return true}}return false};i.prototype.destroy=function(i){t.prototype.destroy.call(this,i);this.geometry.refCount--;if(this.geometry.refCount===0){this.geometry.dispose()}this.geometry=null;this.shader=null;this.state=null;this.uvs=null;this.indices=null;this.vertexData=null};i.BATCHABLE_SIZE=100;return i}(Ds);var ll="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n";var vl="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";var cl=function(t){al(i,t);function i(i,r){var n=this;var e={uSampler:i,alpha:1,uTextureMatrix:ys.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r);if(r.uniforms){Object.assign(e,r.uniforms)}n=t.call(this,r.program||Uu.from(vl,ll),e)||this;n._colorDirty=false;n.uvMatrix=new Ku(i);n.batchable=r.program===undefined;n.pluginName=r.pluginName;n.tint=r.tint;n.alpha=r.alpha;return n}Object.defineProperty(i.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){if(this.uniforms.uSampler!==t){this.uniforms.uSampler=t;this.uvMatrix.texture=t}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(t){if(t===this._alpha){return}this._alpha=t;this._colorDirty=true},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){if(t===this._tint){return}this._tint=t;this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16);this._colorDirty=true},enumerable:false,configurable:true});i.prototype.update=function(){if(this._colorDirty){this._colorDirty=false;var t=this.texture.baseTexture;Ge(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}if(this.uvMatrix.update()){this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord}};return i}(ku);var dl=function(t){al(i,t);function i(i,r,n){var e=t.call(this)||this;var s=new ka(i);var a=new ka(r,true);var u=new ka(n,true,true);e.addAttribute("aVertexPosition",s,2,false,we.FLOAT).addAttribute("aTextureCoord",a,2,false,we.FLOAT).addIndex(u);e._updateId=-1;return e}Object.defineProperty(i.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:false,configurable:true});return i}(Xa);
/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pl=function(t,i){pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return pl(t,i)};function bl(t,i){pl(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var ml=function(){function t(){this.info=[];this.common=[];this.page=[];this.char=[];this.kerning=[]}return t}();var gl=function(){function t(){}t.test=function(t){return typeof t==="string"&&t.indexOf("info face=")===0};t.parse=function(t){var i=t.match(/^[a-z]+\s+.+$/gm);var r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in i){var e=i[n].match(/^[a-z]+/gm)[0];var s=i[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm);var a={};for(var u in s){var o=s[u].split("=");var h=o[0];var f=o[1].replace(/"/gm,"");var l=parseFloat(f);var v=isNaN(l)?f:l;a[h]=v}r[e].push(a)}var c=new ml;r.info.forEach((function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}));r.common.forEach((function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}));r.page.forEach((function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}));r.char.forEach((function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}));r.kerning.forEach((function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}));return c};return t}();var yl=function(){function t(){}t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null};t.parse=function(t){var i=new ml;var r=t.getElementsByTagName("info");var n=t.getElementsByTagName("common");var e=t.getElementsByTagName("page");var s=t.getElementsByTagName("char");var a=t.getElementsByTagName("kerning");for(var u=0;u<r.length;u++){i.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)})}for(var u=0;u<n.length;u++){i.common.push({lineHeight:parseInt(n[u].getAttribute("lineHeight"),10)})}for(var u=0;u<e.length;u++){i.page.push({id:parseInt(e[u].getAttribute("id"),10)||0,file:e[u].getAttribute("file")})}for(var u=0;u<s.length;u++){var o=s[u];i.char.push({id:parseInt(o.getAttribute("id"),10),page:parseInt(o.getAttribute("page"),10)||0,x:parseInt(o.getAttribute("x"),10),y:parseInt(o.getAttribute("y"),10),width:parseInt(o.getAttribute("width"),10),height:parseInt(o.getAttribute("height"),10),xoffset:parseInt(o.getAttribute("xoffset"),10),yoffset:parseInt(o.getAttribute("yoffset"),10),xadvance:parseInt(o.getAttribute("xadvance"),10)})}for(var u=0;u<a.length;u++){i.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)})}return i};return t}();var wl=function(){function t(){}t.test=function(t){if(typeof t==="string"&&t.indexOf("<font>")>-1){var i=(new self.DOMParser).parseFromString(t,"text/xml");return yl.test(i)}return false};t.parse=function(t){var i=(new window.DOMParser).parseFromString(t,"text/xml");return yl.parse(i)};return t}();var Al=[gl,yl,wl];function Ol(t){for(var i=0;i<Al.length;i++){if(Al[i].test(t)){return Al[i]}}return null}function xl(t,i,r,n,e,s){var a=r.fill;if(!Array.isArray(a)){return a}else if(a.length===1){return a[0]}var u;var o=r.dropShadow?r.dropShadowDistance:0;var h=r.padding||0;var f=Math.ceil(t.width/n)-o-h*2;var l=Math.ceil(t.height/n)-o-h*2;var v=a.slice();var c=r.fillGradientStops.slice();if(!c.length){var d=v.length+1;for(var p=1;p<d;++p){c.push(p/d)}}v.unshift(a[0]);c.unshift(0);v.push(a[a.length-1]);c.push(1);if(r.fillGradientType===Of.LINEAR_VERTICAL){u=i.createLinearGradient(f/2,h,f/2,l+h);var b=0;var m=s.fontProperties.fontSize+r.strokeThickness;var g=m/l;for(var p=0;p<e.length;p++){var y=s.lineHeight*p;for(var w=0;w<v.length;w++){var A=0;if(typeof c[w]==="number"){A=c[w]}else{A=w/v.length}var O=y/l+A*g;var x=Math.max(b,O);x=Math.min(x,1);u.addColorStop(x,v[w]);b=x}}}else{u=i.createLinearGradient(h,l/2,f+h,l/2);var E=v.length+1;var M=1;for(var p=0;p<v.length;p++){var _=void 0;if(typeof c[p]==="number"){_=c[p]}else{_=M/E}u.addColorStop(_,v[p]);M++}}return u}function El(t,i,r,n,e,s,a){var u=r.text;var o=r.fontProperties;i.translate(n,e);i.scale(s,s);var h=a.strokeThickness/2;var f=-(a.strokeThickness/2);i.font=a.toFontString();i.lineWidth=a.strokeThickness;i.textBaseline=a.textBaseline;i.lineJoin=a.lineJoin;i.miterLimit=a.miterLimit;i.fillStyle=xl(t,i,a,s,[u],r);i.strokeStyle=a.stroke;if(a.dropShadow){var l=a.dropShadowColor;var v=Fe(typeof l==="number"?l:Le(l));var c=a.dropShadowBlur*s;var d=a.dropShadowDistance*s;i.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+a.dropShadowAlpha+")";i.shadowBlur=c;i.shadowOffsetX=Math.cos(a.dropShadowAngle)*d;i.shadowOffsetY=Math.sin(a.dropShadowAngle)*d}else{i.shadowColor="black";i.shadowBlur=0;i.shadowOffsetX=0;i.shadowOffsetY=0}if(a.stroke&&a.strokeThickness){i.strokeText(u,h,f+r.lineHeight-o.descent)}if(a.fill){i.fillText(u,h,f+r.lineHeight-o.descent)}i.setTransform(1,0,0,1,0,0);i.fillStyle="rgba(0, 0, 0, 0)"}function Ml(t){if(typeof t==="string"){t=[t]}var i=[];for(var r=0,n=t.length;r<n;r++){var e=t[r];if(Array.isArray(e)){if(e.length!==2){throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+e.length+".")}var s=e[0].charCodeAt(0);var a=e[1].charCodeAt(0);if(a<s){throw new Error("[BitmapFont]: Invalid character range.")}for(var u=s,o=a;u<=o;u++){i.push(String.fromCharCode(u))}}else{i.push.apply(i,e.split(""))}}if(i.length===0){throw new Error("[BitmapFont]: Empty set when resolving characters.")}return i}var _l=function(){function t(t,i,r){var n=t.info[0];var e=t.common[0];var s=t.page[0];var a=us(s.file);var u={};this._ownsTextures=r;this.font=n.face;this.size=n.size;this.lineHeight=e.lineHeight/a;this.chars={};this.pageTextures=u;for(var o=0;o<t.page.length;o++){var h=t.page[o],f=h.id,l=h.file;u[f]=i instanceof Array?i[o]:i[l]}for(var o=0;o<t.char.length;o++){var v=t.char[o],f=v.id,c=v.page;var d=t.char[o],p=d.x,b=d.y,m=d.width,g=d.height,y=d.xoffset,w=d.yoffset,A=d.xadvance;p/=a;b/=a;m/=a;g/=a;y/=a;w/=a;A/=a;var O=new vs(p+u[c].frame.x/a,b+u[c].frame.y/a,m,g);this.chars[f]={xOffset:y,yOffset:w,xAdvance:A,kerning:{},texture:new Pa(u[c].baseTexture,O),page:c}}for(var o=0;o<t.kerning.length;o++){var x=t.kerning[o],E=x.first,M=x.second,_=x.amount;E/=a;M/=a;_/=a;if(this.chars[M]){this.chars[M].kerning[E]=_}}}t.prototype.destroy=function(){for(var t in this.chars){this.chars[t].texture.destroy();this.chars[t].texture=null}for(var t in this.pageTextures){if(this._ownsTextures){this.pageTextures[t].destroy(true)}this.pageTextures[t]=null}this.chars=null;this.pageTextures=null};t.install=function(i,r,n){var e;if(i instanceof ml){e=i}else{var s=Ol(i);if(!s){throw new Error("Unrecognized data format for font.")}e=s.parse(i)}if(r instanceof Pa){r=[r]}var a=new t(e,r,n);t.available[a.font]=a;return a};t.uninstall=function(i){var r=t.available[i];if(!r){throw new Error("No font found named '"+i+"'")}r.destroy();delete t.available[i]};t.from=function(i,r,n){if(!i){throw new Error("[BitmapFont] Property `name` is required.")}var e=Object.assign({},t.defaultOptions,n),s=e.chars,a=e.padding,u=e.resolution,o=e.textureWidth,h=e.textureHeight;var f=Ml(s);var l=r instanceof Mf?r:new Mf(r);var v=o;var c=new ml;c.info[0]={face:l.fontFamily,size:l.fontSize};c.common[0]={lineHeight:l.fontSize};var d=0;var p=0;var b;var m;var g;var y=0;var w=[];for(var A=0;A<f.length;A++){if(!b){b=document.createElement("canvas");b.width=o;b.height=h;m=b.getContext("2d");g=new ba(b,{resolution:u});w.push(new Pa(g));c.page.push({id:w.length-1,file:""})}var O=If.measureText(f[A],l,false,b);var x=O.width;var E=Math.ceil(O.height);var M=Math.ceil((l.fontStyle==="italic"?2:1)*x);if(p>=h-E*u){if(p===0){throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+l.fontSize+"px fonts"))}--A;b=null;m=null;g=null;p=0;d=0;y=0;continue}y=Math.max(E+O.fontProperties.descent,y);if(M*u+d>=v){--A;p+=y*u;p=Math.ceil(p);d=0;y=0;continue}El(b,m,O,d,p,u,l);var _=O.text.charCodeAt(0);c.char.push({id:_,page:w.length-1,x:d/u,y:p/u,width:M,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(x-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))});d+=(M+2*a)*u;d=Math.ceil(d)}var j=new t(c,w,true);if(t.available[i]!==undefined){t.uninstall(i)}t.available[i]=j;return j};t.ALPHA=[["a","z"],["A","Z"]," "];t.NUMERIC=[["0","9"]];t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];t.ASCII=[[" ","~"]];t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC};t.available={};return t}();var jl=[];var Tl=[];(function(t){bl(i,t);function i(r,n){if(n===void 0){n={}}var e=t.call(this)||this;e._tint=16777215;if(n.font){Qe("5.3.0","PIXI.BitmapText constructor style.font property is deprecated.");e._upgradeStyle(n)}var s=Object.assign({},i.styleDefaults,n),a=s.align,u=s.tint,o=s.maxWidth,h=s.letterSpacing,f=s.fontName,l=s.fontSize;if(!_l.available[f]){throw new Error('Missing BitmapFont "'+f+'"')}e._activePagesMeshData=[];e._textWidth=0;e._textHeight=0;e._align=a;e._tint=u;e._fontName=f;e._fontSize=l||_l.available[f].size;e._text=r;e._maxWidth=o;e._maxLineHeight=0;e._letterSpacing=h;e._anchor=new gs((function(){e.dirty=true}),e,0,0);e._roundPixels=Y.ROUND_PIXELS;e.dirty=true;e._textureCache={};return e}i.prototype.updateText=function(){var t;var i=_l.available[this._fontName];var r=this._fontSize/i.size;var n=new ms;var e=[];var s=[];var a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ";var u=a.length;var o=this._maxWidth*i.size/this._fontSize;var h=null;var f=0;var l=0;var v=0;var c=-1;var d=0;var p=0;var b=0;for(var m=0;m<u;m++){var g=a.charCodeAt(m);var y=a.charAt(m);if(/(?:\s)/.test(y)){c=m;d=f}if(y==="\r"||y==="\n"){s.push(f);l=Math.max(l,f);++v;++p;n.x=0;n.y+=i.lineHeight;h=null;continue}var w=i.chars[g];if(!w){continue}if(h&&w.kerning[h]){n.x+=w.kerning[h]}var A=Tl.pop()||{texture:Pa.EMPTY,line:0,charCode:0,position:new ms};A.texture=w.texture;A.line=v;A.charCode=g;A.position.x=n.x+w.xOffset+this._letterSpacing/2;A.position.y=n.y+w.yOffset;e.push(A);n.x+=w.xAdvance+this._letterSpacing;f=n.x;b=Math.max(b,w.yOffset+w.texture.height);h=g;if(c!==-1&&o>0&&n.x>o){++p;qe(e,1+c-p,1+m-c);m=c;c=-1;s.push(d);l=Math.max(l,d);v++;n.x=0;n.y+=i.lineHeight;h=null}}var O=a.charAt(a.length-1);if(O!=="\r"&&O!=="\n"){if(/(?:\s)/.test(O)){f=d}s.push(f);l=Math.max(l,f)}var x=[];for(var m=0;m<=v;m++){var E=0;if(this._align==="right"){E=l-s[m]}else if(this._align==="center"){E=(l-s[m])/2}x.push(E)}var M=e.length;var _={};var j=[];var T=this._activePagesMeshData;for(var m=0;m<T.length;m++){jl.push(T[m])}for(var m=0;m<M;m++){var S=e[m].texture;var I=S.baseTexture.uid;if(!_[I]){var C=jl.pop();if(!C){var P=new dl;var R=new cl(Pa.EMPTY);var N=new fl(P,R);C={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}C.index=0;C.indexCount=0;C.vertexCount=0;C.uvsCount=0;C.total=0;var F=this._textureCache;F[I]=F[I]||new Pa(S.baseTexture);C.mesh.texture=F[I];C.mesh.tint=this._tint;j.push(C);_[I]=C}_[I].total++}for(var m=0;m<T.length;m++){if(j.indexOf(T[m])===-1){this.removeChild(T[m].mesh)}}for(var m=0;m<j.length;m++){if(j[m].mesh.parent!==this){this.addChild(j[m].mesh)}}this._activePagesMeshData=j;for(var m in _){var C=_[m];var D=C.total;if(!(((t=C.indices)===null||t===void 0?void 0:t.length)>6*D)||C.vertices.length<fl.BATCHABLE_SIZE*2){C.vertices=new Float32Array(4*2*D);C.uvs=new Float32Array(4*2*D);C.indices=new Uint16Array(6*D)}else{var L=C.total;var U=C.vertices;for(var k=L*4*2;k<U.length;k++){U[k]=0}}C.mesh.size=6*D}for(var m=0;m<M;m++){var y=e[m];var B=y.position.x+x[y.line];if(this._roundPixels){B=Math.round(B)}var V=B*r;var W=y.position.y*r;var S=y.texture;var G=_[S.baseTexture.uid];var z=S.frame;var H=S._uvs;var X=G.index++;G.indices[X*6+0]=0+X*4;G.indices[X*6+1]=1+X*4;G.indices[X*6+2]=2+X*4;G.indices[X*6+3]=0+X*4;G.indices[X*6+4]=2+X*4;G.indices[X*6+5]=3+X*4;G.vertices[X*8+0]=V;G.vertices[X*8+1]=W;G.vertices[X*8+2]=V+z.width*r;G.vertices[X*8+3]=W;G.vertices[X*8+4]=V+z.width*r;G.vertices[X*8+5]=W+z.height*r;G.vertices[X*8+6]=V;G.vertices[X*8+7]=W+z.height*r;G.uvs[X*8+0]=H.x0;G.uvs[X*8+1]=H.y0;G.uvs[X*8+2]=H.x1;G.uvs[X*8+3]=H.y1;G.uvs[X*8+4]=H.x2;G.uvs[X*8+5]=H.y2;G.uvs[X*8+6]=H.x3;G.uvs[X*8+7]=H.y3}this._textWidth=l*r;this._textHeight=(n.y+i.lineHeight)*r;for(var m in _){var C=_[m];if(this.anchor.x!==0||this.anchor.y!==0){var Y=0;var q=this._textWidth*this.anchor.x;var $=this._textHeight*this.anchor.y;for(var J=0;J<C.total;J++){C.vertices[Y++]-=q;C.vertices[Y++]-=$;C.vertices[Y++]-=q;C.vertices[Y++]-=$;C.vertices[Y++]-=q;C.vertices[Y++]-=$;C.vertices[Y++]-=q;C.vertices[Y++]-=$}}this._maxLineHeight=b*r;var Z=C.mesh.geometry.getBuffer("aVertexPosition");var K=C.mesh.geometry.getBuffer("aTextureCoord");var Q=C.mesh.geometry.getIndex();Z.data=C.vertices;K.data=C.uvs;Q.data=C.indices;Z.update();K.update();Q.update()}for(var m=0;m<e.length;m++){Tl.push(e[m])}};i.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};i.prototype.getLocalBounds=function(){this.validate();return t.prototype.getLocalBounds.call(this)};i.prototype.validate=function(){if(this.dirty){this.updateText();this.dirty=false}};Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint===t){return}this._tint=t;for(var i=0;i<this._activePagesMeshData.length;i++){this._activePagesMeshData[i].mesh.tint=t}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(t){if(this._align!==t){this._align=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!_l.available[t]){throw new Error('Missing BitmapFont "'+t+'"')}if(this._fontName!==t){this._fontName=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){if(this._fontSize!==t){this._fontSize=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"anchor",{get:function(){return this._anchor},set:function(t){if(typeof t==="number"){this._anchor.set(t)}else{this._anchor.copyFrom(t)}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t===null||t===undefined?"":t);if(this._text===t){return}this._text=t;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){if(this._maxWidth===t){return}this._maxWidth=t;this.dirty=true},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"maxLineHeight",{get:function(){this.validate();return this._maxLineHeight},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"textWidth",{get:function(){this.validate();return this._textWidth},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){if(this._letterSpacing!==t){this._letterSpacing=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){if(t!==this._roundPixels){this._roundPixels=t;this.dirty=true}},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"textHeight",{get:function(){this.validate();return this._textHeight},enumerable:false,configurable:true});i.prototype._upgradeStyle=function(t){if(typeof t.font==="string"){var i=t.font.split(" ");t.fontName=i.length===1?i[0]:i.slice(1).join(" ");if(i.length>=2){t.fontSize=parseInt(i[0],10)}}else{t.fontName=t.font.name;t.fontSize=typeof t.font.size==="number"?t.font.size:parseInt(t.font.size,10)}};i.prototype.destroy=function(i){var r=this._textureCache;for(var n in r){var e=r[n];e.destroy();delete r[n]}this._textureCache=null;t.prototype.destroy.call(this,i)};i.registerFont=function(t,i){Qe("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install");return _l.install(t,i)};Object.defineProperty(i,"fonts",{get:function(){Qe("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available");return _l.available},enumerable:false,configurable:true});i.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};return i})(Ds);var Sl=function(){function t(){}t.add=function(){Oh.setExtensionXhrType("fnt",Oh.XHR_RESPONSE_TYPE.TEXT)};t.use=function(i,r){var n=Ol(i.data);if(!n){r();return}var e=t.getBaseUrl(this,i);var s=n.parse(i.data);var a={};var u=function(t){a[t.metadata.pageFile]=t.texture;if(Object.keys(a).length===s.page.length){i.bitmapFont=_l.install(s,a,true);r()}};for(var o=0;o<s.page.length;++o){var h=s.page[o].file;var f=e+h;var l=false;for(var v in this.resources){var c=this.resources[v];if(c.url===f){c.metadata.pageFile=h;if(c.texture){u(c)}else{c.onAfterMiddleware.add(u)}l=true;break}}if(!l){var d={crossOrigin:i.crossOrigin,loadType:Oh.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},i.metadata.imageMetadata),parentResource:i};this.add(f,d,u)}}};t.getBaseUrl=function(i,r){var n=!r.isDataUrl?t.dirname(r.url):"";if(r.isDataUrl){if(n==="."){n=""}if(i.baseUrl&&n){if(i.baseUrl.charAt(i.baseUrl.length-1)==="/"){n+="/"}}}n=n.replace(i.baseUrl,"");if(n&&n.charAt(n.length-1)!=="/"){n+="/"}return n};t.dirname=function(t){var i=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");if(i===t){return"."}else if(i===""){return"/"}return i};return t}();
/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Il=function(t,i){Il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Il(t,i)};function Cl(t,i){Il(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Pl="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";(function(t){Cl(i,t);function i(i){if(i===void 0){i=1}var r=t.call(this,To,Pl,{uAlpha:1})||this;r.alpha=i;return r}Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:false,configurable:true});return i})(qu);
/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rl=function(t,i){Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Rl(t,i)};function Nl(t,i){Rl(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Fl="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function Dl(t,i){var r=Math.ceil(t/2);var n=Fl;var e="";var s;if(i){s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);"}else{s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);"}for(var a=0;a<t;a++){var u=s.replace("%index%",a.toString());u=u.replace("%sampleIndex%",a-(r-1)+".0");e+=u;e+="\n"}n=n.replace("%blur%",e);n=n.replace("%size%",t.toString());return n}var Ll={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};var Ul=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function kl(t){var i=Ll[t];var r=i.length;var n=Ul;var e="";var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";var a;for(var u=0;u<t;u++){var o=s.replace("%index%",u.toString());a=u;if(u>=r){a=t-u-1}o=o.replace("%value%",i[a].toString());e+=o;e+="\n"}n=n.replace("%blur%",e);n=n.replace("%size%",t.toString());return n}var Bl;(function(t){t[t["WEBGL_LEGACY"]=0]="WEBGL_LEGACY";t[t["WEBGL"]=1]="WEBGL";t[t["WEBGL2"]=2]="WEBGL2"})(Bl||(Bl={}));var Vl;(function(t){t[t["UNKNOWN"]=0]="UNKNOWN";t[t["WEBGL"]=1]="WEBGL";t[t["CANVAS"]=2]="CANVAS"})(Vl||(Vl={}));var Wl;(function(t){t[t["COLOR"]=16384]="COLOR";t[t["DEPTH"]=256]="DEPTH";t[t["STENCIL"]=1024]="STENCIL"})(Wl||(Wl={}));var Gl;(function(t){t[t["NORMAL"]=0]="NORMAL";t[t["ADD"]=1]="ADD";t[t["MULTIPLY"]=2]="MULTIPLY";t[t["SCREEN"]=3]="SCREEN";t[t["OVERLAY"]=4]="OVERLAY";t[t["DARKEN"]=5]="DARKEN";t[t["LIGHTEN"]=6]="LIGHTEN";t[t["COLOR_DODGE"]=7]="COLOR_DODGE";t[t["COLOR_BURN"]=8]="COLOR_BURN";t[t["HARD_LIGHT"]=9]="HARD_LIGHT";t[t["SOFT_LIGHT"]=10]="SOFT_LIGHT";t[t["DIFFERENCE"]=11]="DIFFERENCE";t[t["EXCLUSION"]=12]="EXCLUSION";t[t["HUE"]=13]="HUE";t[t["SATURATION"]=14]="SATURATION";t[t["COLOR"]=15]="COLOR";t[t["LUMINOSITY"]=16]="LUMINOSITY";t[t["NORMAL_NPM"]=17]="NORMAL_NPM";t[t["ADD_NPM"]=18]="ADD_NPM";t[t["SCREEN_NPM"]=19]="SCREEN_NPM";t[t["NONE"]=20]="NONE";t[t["SRC_OVER"]=0]="SRC_OVER";t[t["SRC_IN"]=21]="SRC_IN";t[t["SRC_OUT"]=22]="SRC_OUT";t[t["SRC_ATOP"]=23]="SRC_ATOP";t[t["DST_OVER"]=24]="DST_OVER";t[t["DST_IN"]=25]="DST_IN";t[t["DST_OUT"]=26]="DST_OUT";t[t["DST_ATOP"]=27]="DST_ATOP";t[t["ERASE"]=26]="ERASE";t[t["SUBTRACT"]=28]="SUBTRACT";t[t["XOR"]=29]="XOR"})(Gl||(Gl={}));var zl;(function(t){t[t["POINTS"]=0]="POINTS";t[t["LINES"]=1]="LINES";t[t["LINE_LOOP"]=2]="LINE_LOOP";t[t["LINE_STRIP"]=3]="LINE_STRIP";t[t["TRIANGLES"]=4]="TRIANGLES";t[t["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP";t[t["TRIANGLE_FAN"]=6]="TRIANGLE_FAN"})(zl||(zl={}));var Hl;(function(t){t[t["RGBA"]=6408]="RGBA";t[t["RGB"]=6407]="RGB";t[t["ALPHA"]=6406]="ALPHA";t[t["LUMINANCE"]=6409]="LUMINANCE";t[t["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA";t[t["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT";t[t["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL"})(Hl||(Hl={}));var Xl;(function(t){t[t["TEXTURE_2D"]=3553]="TEXTURE_2D";t[t["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP";t[t["TEXTURE_2D_ARRAY"]=35866]="TEXTURE_2D_ARRAY";t[t["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";t[t["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";t[t["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";t[t["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";t[t["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Xl||(Xl={}));var Yl;(function(t){t[t["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE";t[t["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT";t[t["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5";t[t["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4";t[t["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1";t[t["FLOAT"]=5126]="FLOAT";t[t["HALF_FLOAT"]=36193]="HALF_FLOAT"})(Yl||(Yl={}));var ql;(function(t){t[t["NEAREST"]=0]="NEAREST";t[t["LINEAR"]=1]="LINEAR"})(ql||(ql={}));var $l;(function(t){t[t["CLAMP"]=33071]="CLAMP";t[t["REPEAT"]=10497]="REPEAT";t[t["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT"})($l||($l={}));var Jl;(function(t){t[t["OFF"]=0]="OFF";t[t["POW2"]=1]="POW2";t[t["ON"]=2]="ON"})(Jl||(Jl={}));var Zl;(function(t){t[t["NPM"]=0]="NPM";t[t["UNPACK"]=1]="UNPACK";t[t["PMA"]=2]="PMA";t[t["NO_PREMULTIPLIED_ALPHA"]=0]="NO_PREMULTIPLIED_ALPHA";t[t["PREMULTIPLY_ON_UPLOAD"]=1]="PREMULTIPLY_ON_UPLOAD";t[t["PREMULTIPLY_ALPHA"]=2]="PREMULTIPLY_ALPHA"})(Zl||(Zl={}));var Kl;(function(t){t[t["NO"]=0]="NO";t[t["YES"]=1]="YES";t[t["AUTO"]=2]="AUTO";t[t["BLEND"]=0]="BLEND";t[t["CLEAR"]=1]="CLEAR";t[t["BLIT"]=2]="BLIT"})(Kl||(Kl={}));var Ql;(function(t){t[t["AUTO"]=0]="AUTO";t[t["MANUAL"]=1]="MANUAL"})(Ql||(Ql={}));var tv;(function(t){t["LOW"]="lowp";t["MEDIUM"]="mediump";t["HIGH"]="highp"})(tv||(tv={}));var iv;(function(t){t[t["NONE"]=0]="NONE";t[t["SCISSOR"]=1]="SCISSOR";t[t["STENCIL"]=2]="STENCIL";t[t["SPRITE"]=3]="SPRITE"})(iv||(iv={}));var rv;(function(t){t[t["NONE"]=0]="NONE";t[t["LOW"]=2]="LOW";t[t["MEDIUM"]=4]="MEDIUM";t[t["HIGH"]=8]="HIGH"})(rv||(rv={}));var nv=function(t){Nl(i,t);function i(i,r,n,e,s){if(r===void 0){r=8}if(n===void 0){n=4}if(e===void 0){e=Y.FILTER_RESOLUTION}if(s===void 0){s=5}var a=this;var u=Dl(s,i);var o=kl(s);a=t.call(this,u,o)||this;a.horizontal=i;a.resolution=e;a._quality=0;a.quality=n;a.blur=r;return a}i.prototype.apply=function(t,i,r,n){if(r){if(this.horizontal){this.uniforms.strength=1/r.width*(r.width/i.width)}else{this.uniforms.strength=1/r.height*(r.height/i.height)}}else{if(this.horizontal){this.uniforms.strength=1/t.renderer.width*(t.renderer.width/i.width)}else{this.uniforms.strength=1/t.renderer.height*(t.renderer.height/i.height)}}this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1){t.applyFilter(this,i,r,n)}else{var e=t.getFilterTexture();var s=t.renderer;var a=i;var u=e;this.state.blend=false;t.applyFilter(this,a,u,Kl.CLEAR);for(var o=1;o<this.passes-1;o++){t.bindAndClear(a,Kl.BLIT);this.uniforms.uSampler=u;var h=u;u=a;a=h;s.shader.bind(this);s.geometry.draw(5)}this.state.blend=true;t.applyFilter(this,u,r,n);t.returnFilterTexture(e)}};Object.defineProperty(i.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+Math.abs(t)*2;this.strength=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t;this.passes=t},enumerable:false,configurable:true});return i}(qu);(function(t){Nl(i,t);function i(i,r,n,e){if(i===void 0){i=8}if(r===void 0){r=4}if(n===void 0){n=Y.FILTER_RESOLUTION}if(e===void 0){e=5}var s=t.call(this)||this;s.blurXFilter=new nv(true,i,r,n,e);s.blurYFilter=new nv(false,i,r,n,e);s.resolution=n;s.quality=r;s.blur=i;s.repeatEdgePixels=false;return s}i.prototype.apply=function(t,i,r,n){var e=Math.abs(this.blurXFilter.strength);var s=Math.abs(this.blurYFilter.strength);if(e&&s){var a=t.getFilterTexture();this.blurXFilter.apply(t,i,a,Kl.CLEAR);this.blurYFilter.apply(t,a,r,n);t.returnFilterTexture(a)}else if(s){this.blurYFilter.apply(t,i,r,n)}else{this.blurXFilter.apply(t,i,r,n)}};i.prototype.updatePadding=function(){if(this._repeatEdgePixels){this.padding=0}else{this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}};Object.defineProperty(i.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t;this.updatePadding()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t;this.updatePadding()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t;this.updatePadding()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t;this.updatePadding()},enumerable:false,configurable:true});return i})(qu);
/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ev=function(t,i){ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return ev(t,i)};function sv(t,i){ev(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var av="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";var uv=function(t){sv(i,t);function i(){var i=this;var r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};i=t.call(this,So,av,r)||this;i.alpha=1;return i}i.prototype._loadMatrix=function(t,i){if(i===void 0){i=false}var r=t;if(i){this._multiply(r,this.uniforms.m,t);r=this._colorMatrix(r)}this.uniforms.m=r};i.prototype._multiply=function(t,i,r){t[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15];t[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16];t[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17];t[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18];t[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4];t[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15];t[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16];t[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17];t[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18];t[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9];t[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15];t[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16];t[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17];t[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18];t[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14];t[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15];t[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16];t[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17];t[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18];t[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19];return t};i.prototype._colorMatrix=function(t){var i=new Float32Array(t);i[4]/=255;i[9]/=255;i[14]/=255;i[19]/=255;return i};i.prototype.brightness=function(t,i){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,i)};i.prototype.greyscale=function(t,i){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,i)};i.prototype.blackAndWhite=function(t){var i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.hue=function(t,i){t=(t||0)/180*Math.PI;var r=Math.cos(t);var n=Math.sin(t);var e=Math.sqrt;var s=1/3;var a=e(s);var u=r+(1-r)*s;var o=s*(1-r)-a*n;var h=s*(1-r)+a*n;var f=s*(1-r)+a*n;var l=r+s*(1-r);var v=s*(1-r)-a*n;var c=s*(1-r)-a*n;var d=s*(1-r)+a*n;var p=r+s*(1-r);var b=[u,o,h,0,0,f,l,v,0,0,c,d,p,0,0,0,0,0,1,0];this._loadMatrix(b,i)};i.prototype.contrast=function(t,i){var r=(t||0)+1;var n=-.5*(r-1);var e=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(e,i)};i.prototype.saturate=function(t,i){if(t===void 0){t=0}var r=t*2/3+1;var n=(r-1)*-.5;var e=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(e,i)};i.prototype.desaturate=function(){this.saturate(-1)};i.prototype.negative=function(t){var i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.sepia=function(t){var i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.technicolor=function(t){var i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.polaroid=function(t){var i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.toBGR=function(t){var i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.kodachrome=function(t){var i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.browni=function(t){var i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.vintage=function(t){var i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.colorTone=function(t,i,r,n,e){t=t||.2;i=i||.15;r=r||16770432;n=n||3375104;var s=(r>>16&255)/255;var a=(r>>8&255)/255;var u=(r&255)/255;var o=(n>>16&255)/255;var h=(n>>8&255)/255;var f=(n&255)/255;var l=[.3,.59,.11,0,0,s,a,u,t,0,o,h,f,i,0,s-o,a-h,u-f,0,0];this._loadMatrix(l,e)};i.prototype.night=function(t,i){t=t||.1;var r=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(r,i)};i.prototype.predator=function(t,i){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,i)};i.prototype.lsd=function(t){var i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,t)};i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,false)};Object.defineProperty(i.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:false,configurable:true});return i}(qu);uv.prototype.grayscale=uv.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ov=function(t,i){ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return ov(t,i)};function hv(t,i){ov(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var fv="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n";var lv="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";(function(t){hv(i,t);function i(i,r){var n=this;var e=new ys;i.renderable=false;n=t.call(this,lv,fv,{mapSampler:i._texture,filterMatrix:e,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this;n.maskSprite=i;n.maskMatrix=e;if(r===null||r===undefined){r=20}n.scale=new ms(r,r);return n}i.prototype.apply=function(t,i,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;var e=this.maskSprite.worldTransform;var s=Math.sqrt(e.a*e.a+e.b*e.b);var a=Math.sqrt(e.c*e.c+e.d*e.d);if(s!==0&&a!==0){this.uniforms.rotation[0]=e.a/s;this.uniforms.rotation[1]=e.b/s;this.uniforms.rotation[2]=e.c/a;this.uniforms.rotation[3]=e.d/a}t.applyFilter(this,i,r,n)};Object.defineProperty(i.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:false,configurable:true});return i})(qu);
/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vv=function(t,i){vv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return vv(t,i)};function cv(t,i){vv(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var dv="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";var pv='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n';(function(t){cv(i,t);function i(){return t.call(this,dv,pv)||this}return i})(qu);
/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bv=function(t,i){bv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return bv(t,i)};function mv(t,i){bv(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var gv="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";(function(t){mv(i,t);function i(i,r){if(i===void 0){i=.5}if(r===void 0){r=Math.random()}var n=t.call(this,So,gv,{uNoise:0,uSeed:0})||this;n.noise=i;n.seed=r;return n}Object.defineProperty(i.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:false,configurable:true});return i})(qu);
/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yv=new ys;Rs.prototype._cacheAsBitmap=false;Rs.prototype._cacheData=null;var wv=function(){function t(){this.textureCacheId=null;this.originalRender=null;this.originalRenderCanvas=null;this.originalCalculateBounds=null;this.originalGetLocalBounds=null;this.originalUpdateTransform=null;this.originalDestroy=null;this.originalMask=null;this.originalFilterArea=null;this.originalContainsPoint=null;this.sprite=null}return t}();Object.defineProperties(Rs.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap===t){return}this._cacheAsBitmap=t;var i;if(t){if(!this._cacheData){this._cacheData=new wv}i=this._cacheData;i.originalRender=this.render;i.originalRenderCanvas=this.renderCanvas;i.originalUpdateTransform=this.updateTransform;i.originalCalculateBounds=this.calculateBounds;i.originalGetLocalBounds=this.getLocalBounds;i.originalDestroy=this.destroy;i.originalContainsPoint=this.containsPoint;i.originalMask=this._mask;i.originalFilterArea=this.filterArea;this.render=this._renderCached;this.renderCanvas=this._renderCachedCanvas;this.destroy=this._cacheAsBitmapDestroy}else{i=this._cacheData;if(i.sprite){this._destroyCachedDisplayObject()}this.render=i.originalRender;this.renderCanvas=i.originalRenderCanvas;this.calculateBounds=i.originalCalculateBounds;this.getLocalBounds=i.originalGetLocalBounds;this.destroy=i.originalDestroy;this.updateTransform=i.originalUpdateTransform;this.containsPoint=i.originalContainsPoint;this._mask=i.originalMask;this.filterArea=i.originalFilterArea}}}});Rs.prototype._renderCached=function t(i){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObject(i);this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._render(i)};Rs.prototype._initCachedDisplayObject=function t(i){if(this._cacheData&&this._cacheData.sprite){return}var r=this.alpha;this.alpha=1;i.batch.flush();var n=this.getLocalBounds(null,true).clone();if(this.filters){var e=this.filters[0].padding;n.pad(e)}n.ceil(Y.RESOLUTION);var s=i.renderTexture.current;var a=i.renderTexture.sourceFrame.clone();var u=i.renderTexture.destinationFrame.clone();var o=i.projection.transform;var h=Fa.create({width:n.width,height:n.height});var f="cacheAsBitmap_"+Ze();this._cacheData.textureCacheId=f;ba.addToCache(h.baseTexture,f);Pa.addToCache(h,f);var l=this.transform.localTransform.copyTo(yv).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender;i.render(this,h,true,l,false);i.projection.transform=o;i.renderTexture.bind(s,a,u);this.render=this._renderCached;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._mask=null;this.filterArea=null;var v=new yf(h);v.transform.worldTransform=this.transform.worldTransform;v.anchor.x=-(n.x/n.width);v.anchor.y=-(n.y/n.height);v.alpha=r;v._bounds=this._bounds;this._cacheData.sprite=v;this.transform._parentID=-1;if(!this.parent){this.enableTempParent();this.updateTransform();this.disableTempParent(null)}else{this.updateTransform()}this.containsPoint=v.containsPoint.bind(v)};Rs.prototype._renderCachedCanvas=function t(i){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObjectCanvas(i);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderCanvas(i)};Rs.prototype._initCachedDisplayObjectCanvas=function t(i){if(this._cacheData&&this._cacheData.sprite){return}var r=this.getLocalBounds(null,true);var n=this.alpha;this.alpha=1;var e=i.context;var s=i._projTransform;r.ceil(Y.RESOLUTION);var a=Fa.create({width:r.width,height:r.height});var u="cacheAsBitmap_"+Ze();this._cacheData.textureCacheId=u;ba.addToCache(a.baseTexture,u);Pa.addToCache(a,u);var o=yv;this.transform.localTransform.copyTo(o);o.invert();o.tx-=r.x;o.ty-=r.y;this.renderCanvas=this._cacheData.originalRenderCanvas;i.render(this,a,true,o,false);i.context=e;i._projTransform=s;this.renderCanvas=this._renderCachedCanvas;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._mask=null;this.filterArea=null;var h=new yf(a);h.transform.worldTransform=this.transform.worldTransform;h.anchor.x=-(r.x/r.width);h.anchor.y=-(r.y/r.height);h.alpha=n;h._bounds=this._bounds;this._cacheData.sprite=h;this.transform._parentID=-1;if(!this.parent){this.parent=i._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this.updateTransform()}this.containsPoint=h.containsPoint.bind(h)};Rs.prototype._calculateCachedBounds=function t(){this._bounds.clear();this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite._calculateBounds();this._bounds.updateID=this._boundsID};Rs.prototype._getCachedLocalBounds=function t(){return this._cacheData.sprite.getLocalBounds(null)};Rs.prototype._destroyCachedDisplayObject=function t(){this._cacheData.sprite._texture.destroy(true);this._cacheData.sprite=null;ba.removeFromCache(this._cacheData.textureCacheId);Pa.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};Rs.prototype._cacheAsBitmapDestroy=function t(i){this.cacheAsBitmap=false;this.destroy(i)};
/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Rs.prototype.name=null;Ds.prototype.getChildByName=function t(i,r){for(var n=0,e=this.children.length;n<e;n++){if(this.children[n].name===i){return this.children[n]}}if(r){for(var n=0,e=this.children.length;n<e;n++){var s=this.children[n];if(!s.getChildByName){continue}var a=this.children[n].getChildByName(i,true);if(a){return a}}}return null};
/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Rs.prototype.getGlobalPosition=function t(i,r){if(i===void 0){i=new ms}if(r===void 0){r=false}if(this.parent){this.parent.toGlobal(this.position,i,r)}else{i.x=this.position.x;i.y=this.position.y}return i};
/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Av=function(t,i){Av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return Av(t,i)};function Ov(t,i){Av(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var xv=function(t){Ov(i,t);function i(i,r,n,e){if(i===void 0){i=100}if(r===void 0){r=100}if(n===void 0){n=10}if(e===void 0){e=10}var s=t.call(this)||this;s.segWidth=n;s.segHeight=e;s.width=i;s.height=r;s.build();return s}i.prototype.build=function(){var t=this.segWidth*this.segHeight;var i=[];var r=[];var n=[];var e=this.segWidth-1;var s=this.segHeight-1;var a=this.width/e;var u=this.height/s;for(var o=0;o<t;o++){var h=o%this.segWidth;var f=o/this.segWidth|0;i.push(h*a,f*u);r.push(h/e,f/s)}var l=e*s;for(var o=0;o<l;o++){var v=o%e;var c=o/e|0;var d=c*this.segWidth+v;var p=c*this.segWidth+v+1;var b=(c+1)*this.segWidth+v;var m=(c+1)*this.segWidth+v+1;n.push(d,p,b,p,m,b)}this.buffers[0].data=new Float32Array(i);this.buffers[1].data=new Float32Array(r);this.indexBuffer.data=new Uint16Array(n);this.buffers[0].update();this.buffers[1].update();this.indexBuffer.update()};return i}(dl);var Ev=function(t){Ov(i,t);function i(i,r,n){if(i===void 0){i=200}if(n===void 0){n=0}var e=t.call(this,new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6))||this;e.points=r;e._width=i;e.textureScale=n;e.build();return e}Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:false,configurable:true});i.prototype.build=function(){var t=this.points;if(!t){return}var i=this.getBuffer("aVertexPosition");var r=this.getBuffer("aTextureCoord");var n=this.getIndex();if(t.length<1){return}if(i.data.length/4!==t.length){i.data=new Float32Array(t.length*4);r.data=new Float32Array(t.length*4);n.data=new Uint16Array((t.length-1)*6)}var e=r.data;var s=n.data;e[0]=0;e[1]=0;e[2]=0;e[3]=1;var a=0;var u=t[0];var o=this._width*this.textureScale;var h=t.length;for(var f=0;f<h;f++){var l=f*4;if(this.textureScale>0){var v=u.x-t[f].x;var c=u.y-t[f].y;var d=Math.sqrt(v*v+c*c);u=t[f];a+=d/o}else{a=f/(h-1)}e[l]=a;e[l+1]=0;e[l+2]=a;e[l+3]=1}var p=0;for(var f=0;f<h-1;f++){var l=f*2;s[p++]=l;s[p++]=l+1;s[p++]=l+2;s[p++]=l+2;s[p++]=l+1;s[p++]=l+3}r.update();n.update();this.updateVertices()};i.prototype.updateVertices=function(){var t=this.points;if(t.length<1){return}var i=t[0];var r;var n=0;var e=0;var s=this.buffers[0].data;var a=t.length;for(var u=0;u<a;u++){var o=t[u];var h=u*4;if(u<t.length-1){r=t[u+1]}else{r=o}e=-(r.x-i.x);n=r.y-i.y;var f=Math.sqrt(n*n+e*e);var l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=f;e/=f;n*=l;e*=l;s[h]=o.x+n;s[h+1]=o.y+e;s[h+2]=o.x-n;s[h+3]=o.y-e;i=o}this.buffers[0].update()};i.prototype.update=function(){if(this.textureScale>0){this.build()}else{this.updateVertices()}};return i}(dl);(function(t){Ov(i,t);function i(i,r,n){if(n===void 0){n=0}var e=this;var s=new Ev(i.height,r,n);var a=new cl(i);if(n>0){i.baseTexture.wrapMode=Oe.REPEAT}e=t.call(this,s,a)||this;e.autoUpdate=true;return e}i.prototype._render=function(i){var r=this.geometry;if(this.autoUpdate||r._width!==this.shader.texture.height){r._width=this.shader.texture.height;r.update()}t.prototype._render.call(this,i)};return i})(fl);var Mv=function(t){Ov(i,t);function i(i,r,n){var e=this;var s=new xv(i.width,i.height,r,n);var a=new cl(Pa.WHITE);e=t.call(this,s,a)||this;e.texture=i;return e}i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width;t.height=this.shader.texture.height;t.build()};Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){if(this.shader.texture===t){return}this.shader.texture=t;this._textureID=-1;if(t.baseTexture.valid){this.textureUpdated()}else{t.once("update",this.textureUpdated,this)}},enumerable:false,configurable:true});i.prototype._render=function(i){if(this._textureID!==this.shader.texture._updateID){this.textureUpdated()}t.prototype._render.call(this,i)};i.prototype.destroy=function(i){this.shader.texture.off("update",this.textureUpdated,this);t.prototype.destroy.call(this,i)};return i}(fl);(function(t){Ov(i,t);function i(i,r,n,e,s){if(i===void 0){i=Pa.EMPTY}var a=this;var u=new dl(r,n,e);u.getBuffer("aVertexPosition").static=false;var o=new cl(i);a=t.call(this,u,o,null,s)||this;a.autoUpdate=true;return a}Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:false,configurable:true});i.prototype._render=function(i){if(this.autoUpdate){this.geometry.getBuffer("aVertexPosition").update()}t.prototype._render.call(this,i)};return i})(fl);var _v=10;(function(t){Ov(i,t);function i(i,r,n,e,s){if(r===void 0){r=_v}if(n===void 0){n=_v}if(e===void 0){e=_v}if(s===void 0){s=_v}var a=t.call(this,Pa.WHITE,4,4)||this;a._origWidth=i.orig.width;a._origHeight=i.orig.height;a._width=a._origWidth;a._height=a._origHeight;a._leftWidth=r;a._rightWidth=e;a._topHeight=n;a._bottomHeight=s;a.texture=i;return a}i.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;this._refresh()};Object.defineProperty(i.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:false,configurable:true});i.prototype.updateHorizontalVertices=function(){var t=this.vertices;var i=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*i;t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i;t[25]=t[27]=t[29]=t[31]=this._height};i.prototype.updateVerticalVertices=function(){var t=this.vertices;var i=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*i;t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i;t[6]=t[14]=t[22]=t[30]=this._width};i.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth;var i=this._width>t?1:this._width/t;var r=this._topHeight+this._bottomHeight;var n=this._height>r?1:this._height/r;var e=Math.min(i,n);return e};Object.defineProperty(i.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t;this._refresh()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t;this._refresh()},enumerable:false,configurable:true});i.prototype._refresh=function(){var t=this.texture;var i=this.geometry.buffers[1].data;this._origWidth=t.orig.width;this._origHeight=t.orig.height;var r=1/this._origWidth;var n=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0;i[1]=i[3]=i[5]=i[7]=0;i[6]=i[14]=i[22]=i[30]=1;i[25]=i[27]=i[29]=i[31]=1;i[2]=i[10]=i[18]=i[26]=r*this._leftWidth;i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth;i[9]=i[11]=i[13]=i[15]=n*this._topHeight;i[17]=i[19]=i[21]=i[23]=1-n*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.geometry.buffers[0].update();this.geometry.buffers[1].update()};return i})(Mv);
/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jv=function(t,i){jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i){if(i.hasOwnProperty(r)){t[r]=i[r]}}};return jv(t,i)};function Tv(t,i){jv(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}(function(t){Tv(i,t);function i(i,r){if(r===void 0){r=true}var n=t.call(this,i[0]instanceof Pa?i[0]:i[0].texture)||this;n._textures=null;n._durations=null;n._autoUpdate=r;n._isConnectedToTicker=false;n.animationSpeed=1;n.loop=true;n.updateAnchor=false;n.onComplete=null;n.onFrameChange=null;n.onLoop=null;n._currentTime=0;n._playing=false;n._previousFrame=null;n.textures=i;return n}i.prototype.stop=function(){if(!this._playing){return}this._playing=false;if(this._autoUpdate&&this._isConnectedToTicker){Js.shared.remove(this.update,this);this._isConnectedToTicker=false}};i.prototype.play=function(){if(this._playing){return}this._playing=true;if(this._autoUpdate&&!this._isConnectedToTicker){Js.shared.add(this.update,this,qs.HIGH);this._isConnectedToTicker=true}};i.prototype.gotoAndStop=function(t){this.stop();var i=this.currentFrame;this._currentTime=t;if(i!==this.currentFrame){this.updateTexture()}};i.prototype.gotoAndPlay=function(t){var i=this.currentFrame;this._currentTime=t;if(i!==this.currentFrame){this.updateTexture()}this.play()};i.prototype.update=function(t){if(!this._playing){return}var i=this.animationSpeed*t;var r=this.currentFrame;if(this._durations!==null){var n=this._currentTime%1*this._durations[this.currentFrame];n+=i/60*1e3;while(n<0){this._currentTime--;n+=this._durations[this.currentFrame]}var e=Math.sign(this.animationSpeed*t);this._currentTime=Math.floor(this._currentTime);while(n>=this._durations[this.currentFrame]){n-=this._durations[this.currentFrame]*e;this._currentTime+=e}this._currentTime+=n/this._durations[this.currentFrame]}else{this._currentTime+=i}if(this._currentTime<0&&!this.loop){this.gotoAndStop(0);if(this.onComplete){this.onComplete()}}else if(this._currentTime>=this._textures.length&&!this.loop){this.gotoAndStop(this._textures.length-1);if(this.onComplete){this.onComplete()}}else if(r!==this.currentFrame){if(this.loop&&this.onLoop){if(this.animationSpeed>0&&this.currentFrame<r){this.onLoop()}else if(this.animationSpeed<0&&this.currentFrame>r){this.onLoop()}}this.updateTexture()}};i.prototype.updateTexture=function(){var t=this.currentFrame;if(this._previousFrame===t){return}this._previousFrame=t;this._texture=this._textures[t];this._textureID=-1;this._textureTrimmedID=-1;this._cachedTint=16777215;this.uvs=this._texture._uvs.uvsFloat32;if(this.updateAnchor){this._anchor.copyFrom(this._texture.defaultAnchor)}if(this.onFrameChange){this.onFrameChange(this.currentFrame)}};i.prototype.destroy=function(i){this.stop();t.prototype.destroy.call(this,i);this.onComplete=null;this.onFrameChange=null;this.onLoop=null};i.fromFrames=function(t){var r=[];for(var n=0;n<t.length;++n){r.push(Pa.from(t[n]))}return new i(r)};i.fromImages=function(t){var r=[];for(var n=0;n<t.length;++n){r.push(Pa.from(t[n]))}return new i(r)};Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Pa){this._textures=t;this._durations=null}else{this._textures=[];this._durations=[];for(var i=0;i<t.length;i++){this._textures.push(t[i].texture);this._durations.push(t[i].time)}}this._previousFrame=null;this.gotoAndStop(0);this.updateTexture()},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;if(t<0){t+=this._textures.length}return t},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"playing",{get:function(){return this._playing},enumerable:false,configurable:true});Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){if(t!==this._autoUpdate){this._autoUpdate=t;if(!this._autoUpdate&&this._isConnectedToTicker){Js.shared.remove(this.update,this);this._isConnectedToTicker=false}else if(this._autoUpdate&&!this._isConnectedToTicker&&this._playing){Js.shared.add(this.update,this);this._isConnectedToTicker=true}}},enumerable:false,configurable:true});return i})(yf);
/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */_o.registerPlugin("accessibility",Ys);_o.registerPlugin("extract",zo);_o.registerPlugin("interaction",ua);_o.registerPlugin("particle",Rh);_o.registerPlugin("prepare",qf);_o.registerPlugin("batch",ko);_o.registerPlugin("tilingSprite",el);_h.registerPlugin(Sl);_h.registerPlugin(Jf);Bo.registerPlugin(Zs);Bo.registerPlugin(jh);class Sv{constructor(){this.runningProcesses=[];this.intervals=[]}run(t,i){t.setTarget(i);return new Promise((i=>{t.setEndCallback(i);t.run()}))}pause(){for(let t of this.runningProcesses){t.pause()}for(let t of this.intervals){t.delay.pause()}}resume(){for(let t of this.runningProcesses){t.resume()}for(let t of this.intervals){t.delay.resume()}}stop(){this.pause();this.runningProcesses=[]}addRunningProcess(t){for(let i of this.runningProcesses){if(i.id===t.id)return}this.runningProcesses.push(t)}removeRunningProcess(t){for(let i=0;i<this.runningProcesses.length;i++){if(this.runningProcesses[i].id==t.id){this.runningProcesses.splice(i,1)}}}forceFinish(t){for(let i=0;i<this.runningProcesses.length;i++){if(this.runningProcesses[i].id==t.id){this.runningProcesses[i].forceFinish();this.runningProcesses.splice(i,1)}}}setTimeOut(t,i,r){const n=new Rv;n.setTarget(new yf);n.setEndCallback(i,r);n.setDuration(t);n.run();return n}clearTimeOut(t){t.stop()}setInterval(t,i,r){const n=(new Rv).setDuration(t);n.setDuration(t);this.intervals.push({delay:n,callback:i,context:r});n.setEndCallback(this.nextInterval,this.intervals[this.intervals.length-1]);n.setTarget(new yf);n.run();return n}nextInterval(){this.callback.call(this.context);if(!this.delay.isStopped)this.delay.run()}clearInterval(t){t.stop();for(let i=0;i<this.intervals.length;i++){if(this.intervals[i].delay.id==t.id){this.intervals.splice(i,1)}}}}var Iv=new Sv;var Cv={Process:"process",Delay:"delay",Sequence:"sequence",Parallel:"parallel",FadeTo:"fadeTo",MoveTo:"moveTo",MoveBy:"moveBy",RotateTo:"rotateTo",RotateBy:"rotateBy",ScaleTo:"scaleTo",ScaleBy:"scaleBy"};class Pv{constructor(){this.type=Cv.Process;this.duration=1e3;this.currTime=0;this.requestAnimCallback=()=>{const t=performance.now();let i=t-this.prevTimestamp;if(this.currTime+i>=this.duration){i=this.duration-this.currTime}else{this.currRequestId=requestAnimationFrame(this.requestAnimCallback)}this.currTime+=i;this.prevTimestamp=t;this.update(i);if(this.currTime==this.duration){if(this.endCallback)this.endCallback.call(this.endCallbackContext,this.target);Iv.removeRunningProcess(this);this.isStopped=true}};this.id=Math.random()*1e4;this.isStopped=false}setDuration(t){this.duration=t;return this}setTarget(t){this.target=t}setEndCallback(t,i){this.endCallback=t;this.endCallbackContext=i}run(){if(!this.target){console.warn("Anim "+this.type+" target not specified");return}this.isStopped=false;this.currTime=0;this.prevTimestamp=performance.now();Iv.addRunningProcess(this);this.currRequestId=requestAnimationFrame(this.requestAnimCallback)}pause(){cancelAnimationFrame(this.currRequestId)}resume(){this.prevTimestamp=performance.now();this.currRequestId=requestAnimationFrame(this.requestAnimCallback)}stop(){this.isStopped=true;cancelAnimationFrame(this.currRequestId);Iv.removeRunningProcess(this)}forceFinish(){cancelAnimationFrame(this.currRequestId);this.update(this.duration-this.currTime);if(this.endCallback)this.endCallback.call(this.endCallbackContext,this.target);Iv.removeRunningProcess(this);this.isStopped=true}update(t){}}class Rv extends Pv{constructor(){super();this.type=Cv.Delay}}class Nv extends Pv{constructor(t){super();this.subProcesses=[];this.increaseCounter=()=>{this.currentRunningIndex++;this.next()};this.type=Cv.Sequence;this.subProcesses=t}run(){this.currentRunningIndex=0;this.next()}next(){const t=this.subProcesses[this.currentRunningIndex];if(t){t.setTarget(this.target);t.setEndCallback(this.increaseCounter);t.run()}else if(this.endCallback){this.endCallback.call(this.endCallbackContext,this.target)}}}class Fv extends Pv{constructor(t){super();this.type=Cv.FadeTo;this.to=t}run(){super.run();this.fadeDiffPerMilliSec=(this.to-this.target.alpha)/this.duration}update(t){this.target.alpha+=t*this.fadeDiffPerMilliSec}}class Dv extends Ds{constructor(t,i,r,n){super();this.map=t;const e=new df;e.beginFill(13037311);e.drawRoundedRect(0,0,n,n,5);e.endFill();this.addChild(e);this.goodAnswer=new df;this.goodAnswer.beginFill(3329330);this.goodAnswer.drawCircle(n/2,n/2,n/2);this.goodAnswer.endFill();this.goodAnswer.alpha=0;this.addChild(this.goodAnswer);this.wrongAnswer=new df;this.wrongAnswer.beginFill(15736350);this.wrongAnswer.drawCircle(n/2,n/2,n/2);this.wrongAnswer.endFill();this.wrongAnswer.alpha=0;this.addChild(this.wrongAnswer);console.log(i);this.icon=new yf(r.resources[i].texture);this.icon.width=n;this.icon.height=n;this.icon.alpha=0;this.addChild(this.icon);this.challengeAnim=new Nv([new Fv(1).setDuration(200),(new Rv).setDuration(500),new Fv(0).setDuration(200)]);e.interactive=true;e.on("pointerup",this.onClick,this)}show(){return Iv.run(this.challengeAnim,this.icon)}onClick(){if(this.map.interactive)this.map.validateAnswer(this)}showGoodAnswer(){return Iv.run(this.challengeAnim,this.goodAnswer)}showWrongAnswer(){return Iv.run(this.challengeAnim,this.wrongAnswer)}}const Lv={splash:"assets/res/img/splash.png",figures:["res/img/1.png","res/img/2.png","res/img/3.png","res/img/4.png","res/img/5.png"],bg:"assets/res/img/bg.jpg"};class Uv extends Ds{constructor(t,i){super();this.game=i;this.maxRound=3;this.currRound=0;this.blocks=[];this.animatedBlocks=[];this.mapSizeX=this.game.cols;this.mapSizeY=this.game.rows;this.bg=new yf(this.game.loader.resources["bg"].texture);this.bg.width=i.dim.w;this.bg.height=i.dim.h;this.bg.anchor.set(0,0);this.addChild(this.bg);const r=Math.min(this.game.dim.h/this.mapSizeY,this.game.dim.w/this.mapSizeX);const n=r-20;const e=(Math.floor(Math.random()*Lv.figures.length)+1).toString();this.animLength=t.animLength;for(let t=0;t<this.mapSizeX;t++){for(let i=0;i<this.mapSizeY;i++){const s=new Dv(this,e,this.game.loader,n);s.position.set(10+t*r,10+i*r);this.addChild(s);this.blocks.push(s)}}this.animatedBlocks=this.createAnimSequence();this.startRound()}async startRound(){this.badAnswers=0;this.clickCounter=0;this.disableClick();await Iv.run((new Rv).setDuration(500),this);for(let t of this.animatedBlocks){await t.show()}this.enableClick()}createAnimSequence(){const t=[];let i=this.blocks.slice();for(let r=0;r<this.animLength;r++){t.push(i.splice(Math.floor(Math.random()*i.length),1)[0])}return t}enableClick(){this.game.app.view.style.cursor="default";this.interactive=true}disableClick(){this.game.app.view.style.cursor="none";this.interactive=false}async validateAnswer(t){if(this.clickCounter>=this.animatedBlocks.length)return;const i=this.animatedBlocks[this.clickCounter];this.clickCounter++;const r=this.clickCounter;if(i==t){await t.showGoodAnswer()}else{this.badAnswers++;this.game.specificLog.nofBadAnswers++;await t.showWrongAnswer()}if(this.animatedBlocks.length<=r){this.validateRound()}}validateRound(){if(this.badAnswers===0){this.currRound++;if(this.currRound===this.maxRound){this.game.calculateScore();return}this.animatedBlocks=this.createAnimSequence()}this.startRound()}}const kv=[{nofBadAnswers:{good:0,acceptable:9,weight:.8},playTime:{good:30,acceptable:45,weight:.2}},{nofBadAnswers:{good:0,acceptable:18,weight:.8},playTime:{good:115,acceptable:130,weight:.2}},{nofBadAnswers:{good:0,acceptable:24,weight:.8},playTime:{good:150,acceptable:200,weight:.2}}];class Bv{constructor(t,i){if(t){this.maxLevel=t;this.actLevel=i;this.invActLevel=this.maxLevel-this.actLevel}else{this.maxLevel=2;this.actLevel=2;this.invActLevel=0}}getDisplayedScore(t,i,r,n){if(t.length!=i.length||t.length!=r.length||t.length!=n.length){throw"The function parameters haven't got the same size."}const e=400+this.actLevel*400/this.maxLevel;const s=400/this.maxLevel*this.invActLevel;let a=0;for(let e=0;e<t.length;e++){if(t[e]<i[e]){a+=(i[e]-t[e])/(r[e]-t[e])*n[e]}}let u=s+e*a;let o=1e3;if(u<600){o-=u}else{o-=600;u-=600;o-=u/3;if(o<200){o=200}}return Math.round(o)}getRealScore(t,i,r,n){if(t.length!=i.length||t.length!=r.length||t.length!=n.length){throw"The function parameters haven't got the same size."}const e=400+this.actLevel*400/this.maxLevel;const s=400/this.maxLevel*this.invActLevel;let a=0;for(let e=0;e<t.length;e++){a+=(i[e]-t[e])/(r[e]-t[e])*n[e]}let u=s+e*a;let o=1e3;o-=u;return Math.round(o)}}class Vv{constructor(){this.nofBadAnswers=0}}const Wv=":host{display:block}body{margin:0px}.game-content{height:100%;width:100%;padding:0px;margin:0px}";const Gv=class{constructor(r){t(this,r);this.finish=i(this,"finish",7);this.loader=new _h;this.started=false;this.player_id=undefined;this.education=undefined;this.sex=undefined;this.birthYear=undefined;this.region=undefined;this.customLang=undefined;this.difficulty=0;this.rows=7;this.cols=4;this.user=new n(this.region,this.player_id,this.sex,this.education,this.birthYear)}start(){if(!this.started){this.container=document.getElementById("game");this.dim={w:this.container.offsetWidth,h:this.container.offsetHeight};this.app=new Bo({width:this.dim.w,height:this.dim.h,antialias:true,resolution:1,backgroundColor:16777215});this.container.appendChild(this.app.view)}else{this.app.stage.removeChild(this.map);this.map=null}this.log=new o(this.user,"corsi",(new Date).toISOString(),"mobile","4.0","unknown",this.dim.w,this.dim.h);this.specificLog=new Vv;this.map=new Uv(this.getSettings(),this);this.app.stage.addChild(this.map);this.started=true}getSettings(){return{animLength:3+2*this.difficulty}}async pause(){this.pauseDate=Date.now();this.log.pause_count++;console.log("paused")}async resume(){this.log.pause_time+=Date.now()-this.pauseDate;console.log("resumed")}async stop(){this.log.interrupt();this.sendLog();console.log("stopped")}async restart(){this.stop();this.start()}sendLog(){let t=Date.now()-new Date(this.log.start_time).getTime();this.log.duration=t;this.log.game_specific_data=JSON.stringify(this.specificLog);this.log.send()}fillLoader(){this.loader.add("bg","assets/res/img/bg.jpg").add("1","assets/res/img/1.png").add("2","assets/res/img/2.png").add("3","assets/res/img/3.png").add("4","assets/res/img/4.png").add("5","assets/res/img/5.png").load((()=>this.start()))}calculateScore(){const t=this.difficulty||0;const i=[];const r=[];const n=[];const e=[];i.push(kv[t].nofBadAnswers.good);r.push(this.specificLog.nofBadAnswers);n.push(kv[t].nofBadAnswers.acceptable);e.push(kv[t].nofBadAnswers.weight);i.push(kv[t].playTime.good);let s=(new Date).getTime()-new Date(this.log.start_time).getTime()-this.log.pause_time;r.push(s/1e3);n.push(kv[t].playTime.acceptable);e.push(kv[t].playTime.weight);const a=new Bv(2,t);let u=a.getRealScore(i,r,n,e);this.log.score=u;this.sendLog();this.finish.emit({score:u,duration:s})}componentDidRender(){setTimeout((()=>{this.fillLoader()}),20)}render(){return r("div",{id:"game",class:"game-content"})}};Gv.style=Wv;export{Gv as component_game_corsi};
//# sourceMappingURL=p-33c21397.entry.js.map