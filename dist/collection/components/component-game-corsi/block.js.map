{"version":3,"file":"block.js","sourceRoot":"","sources":["../../../../src/components/component-game-corsi/block.ts"],"names":[],"mappings":"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","sourcesContent":["import * as Anim from \"./../../../animPromise\";\r\nimport { Map } from \"./map\";\r\nimport * as PIXI from \"pixi.js\";\r\n\r\n\r\nexport class Block extends PIXI.Container {\r\n    private map: Map;\r\n\r\n    private icon: PIXI.Sprite;\r\n    private goodAnswer: PIXI.Graphics;\r\n    private wrongAnswer: PIXI.Graphics;\r\n    private challengeAnim: Anim.Process;\r\n\r\n    constructor(map: Map, iconUrl: string, loader: PIXI.Loader, size: number) {\r\n        super();\r\n\r\n        this.map = map;\r\n\r\n        \r\n        const bg = new PIXI.Graphics();\r\n        bg.beginFill(0xc6eeff);\r\n        bg.drawRoundedRect(0, 0, size, size, 5);\r\n        bg.endFill();\r\n        this.addChild(bg);\r\n\r\n        this.goodAnswer = new PIXI.Graphics();\r\n        this.goodAnswer.beginFill(0x32cd32);\r\n        this.goodAnswer.drawCircle(size / 2, size / 2, size / 2);\r\n        this.goodAnswer.endFill();\r\n        this.goodAnswer.alpha = 0;\r\n        this.addChild(this.goodAnswer);\r\n\r\n        this.wrongAnswer = new PIXI.Graphics();\r\n        this.wrongAnswer.beginFill(0xf01e1e);\r\n        this.wrongAnswer.drawCircle(size / 2, size / 2, size / 2);\r\n        this.wrongAnswer.endFill();\r\n        this.wrongAnswer.alpha = 0;\r\n        this.addChild(this.wrongAnswer);\r\n        console.log(iconUrl)\r\n        this.icon = new PIXI.Sprite(loader.resources[iconUrl].texture);\r\n        this.icon.width = size;\r\n        this.icon.height = size;\r\n        this.icon.alpha = 0;\r\n        this.addChild(this.icon);\r\n\r\n        this.challengeAnim = new Anim.Sequence([\r\n            new Anim.FadeTo(1).setDuration(200),\r\n            new Anim.Delay().setDuration(500),\r\n            new Anim.FadeTo(0).setDuration(200)\r\n        ]);\r\n\r\n        bg.interactive = true;\r\n        bg.on(\"pointerup\", this.onClick, this);\r\n    };\r\n\r\n    public show(): Promise<PIXI.Container> {\r\n        return Anim.scheduler.run(this.challengeAnim, this.icon);\r\n    }\r\n\r\n    private onClick() {\r\n        if (this.map.interactive) this.map.validateAnswer(this);\r\n    }\r\n\r\n    public showGoodAnswer(): Promise<PIXI.Container> {\r\n        return Anim.scheduler.run(this.challengeAnim, this.goodAnswer);\r\n    }\r\n\r\n    public showWrongAnswer(): Promise<PIXI.Container> {\r\n        return Anim.scheduler.run(this.challengeAnim, this.wrongAnswer);\r\n    }\r\n}"]}